/*!
 * History API JavaScript Library v4.0.9
 *
 * Support: IE6+, FF3+, Opera 9+, Safari, Chrome and other
 *
 * Copyright 2011-2013, Dmitrii Pakhtinov ( spb.piksel@gmail.com )
 *
 * http://spb-piksel.ru/
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 *
 * Update: 2013-11-20 13:03
 */
!function(e){function J(){}function h(e,t,n){if(e==j||""===e||t)e=t?e:f.href,(!p||n)&&(e=e.replace(/^[^#]*/,"")||"#",e=f.protocol+"//"+f.host+k.basepath+e.replace(RegExp("^#[/]?(?:"+k.type+")?"),""));else{n=(t=h()).e;var r=t.h;e=""+e,e=/^(?:[\w0-9]+\:)?\/\//.test(e)?0===e.indexOf("/")?r+e:e:r+"//"+t.g+(0===e.indexOf("/")?e:0===e.indexOf("?")?n+e:0===e.indexOf("#")?n+t.f+e:n.replace(/[^\/]+$/g,"")+e)}O.href=e;t=(e=/(?:([\w0-9]+:))?(?:\/\/(?:[^@]*@)?([^\/:\?#]+)(?::([0-9]+))?)?([^\?#]*)(?:(\?[^#]+)|\?)?(?:(#.*))?/.exec(O.href))[2]+(e[3]?":"+e[3]:""),n=e[4]||"/",r=e[5]||"";var a="#"===e[6]?"":e[6]||"",i=n+r+a,o=n.replace(RegExp("^"+k.basepath,"i"),k.type)+r;return{a:e[1]+"//"+t+i,h:e[1],g:t,i:e[2],k:e[3]||"",e:n,f:r,b:a,c:i,j:o,d:o+a}}function Z(){var t;try{(t=e.sessionStorage).setItem(E+"t","1"),t.removeItem(E+"t")}catch(n){t={getItem:function(e){return 1<(e=g.cookie.split(e+"=")).length&&e.pop().split(";").shift()||"null"},setItem:function(e){var t={};(t[f.href]=l.state)&&(g.cookie=e+"="+q.stringify(t))}}}try{r=q.parse(t.getItem(E))||{}}catch(a){r={}}v(w+"unload",function(){t.setItem(E,q.stringify(r))},o)}function x(t,r,a,c){var f=!(a=a||{set:J}).set,s=!a.get,u={configurable:i,set:function(){f=1},get:function(){s=1}};try{C(t,r,u),t[r]=t[r],C(t,r,a)}catch(d){}if(!f||!s)if(t.__defineGetter__&&(t.__defineGetter__(r,u.get),t.__defineSetter__(r,u.set),t[r]=t[r],a.get&&t.__defineGetter__(r,a.get),a.set&&t.__defineSetter__(r,a.set)),f&&s||t!==e){if(!f||!s)try{try{var p=F.create(t);for(var h in C(F.getPrototypeOf(p)===t?p:t,r,a),t)"function"==typeof t[h]&&(p[h]=t[h].bind(t));try{c.call(p,p,t)}catch(l){}t=p}catch(k){C(t.constructor.prototype,r,a)}}catch(n){return o}}else{try{var v=t[r];t[r]=j}catch(y){}if("execScript"in e)e.execScript("Public "+r,"VBScript");else try{C(t,r,{value:J})}catch(g){}t[r]=v}return t}function aa(e,t,n){return e=e===K?f:e,(n=n||{}).set=n.set||function(n){e[t]=n},n.get=n.get||function(){return e[t]},n}function G(t,n){var r=(""+("string"==typeof t?t:t.type)).replace(/^on/,""),a=z[r];if(a){if((n="string"==typeof t?n:t).target==j)for(var o=["target","currentTarget","srcElement","type"];t=o.pop();)n=x(n,t,{get:"type"===t?function(){return r}:function(){return e}});(("popstate"===r?e.onpopstate:e.onhashchange)||J).call(e,n);o=0;for(var c=a.length;o<c;o++)a[o].call(e,n);return i}return ba(t,n)}function P(){var e=g.createEvent?g.createEvent("Event"):g.createEventObject();e.initEvent?e.initEvent("popstate",o,o):e.type="popstate",e.state=l.state,G(e)}function s(e,t,n,a){p||(t=h(t)).c!==h().c&&(A=a,n?f.replace("#"+t.d):f.hash=t.d),!H&&e&&(r[f.href]=e),D=o}function L(t){if(A){Q!==f.href&&P();t=t||e.event;var n=h(A,i),r=h();t.oldURL||(t.oldURL=n.a,t.newURL=r.a),n.b!==r.b&&G(t)}A=f.href}function R(e){setTimeout(function(){v("popstate",function(e){Q=f.href,H||(e=x(e,"state",{get:function(){return l.state}})),G(e)},o)},0),!p&&e!==i&&l.location&&(S(l.location.hash),D&&(D=o,P()))}function ca(t){var n;e:{for(n=(t=t||e.event).target||t.srcElement;n;){if("A"===n.nodeName)break e;n=n.parentNode}n=void 0}var r="defaultPrevented"in t?t.defaultPrevented:t.returnValue===o;n&&"A"===n.nodeName&&!r&&(r=h(),n=h(n.getAttribute("href",2)),r.a.split("#").shift()===n.a.split("#").shift()&&n.b&&(r.b!==n.b&&(l.location.hash=n.b),S(n.b),t.preventDefault?t.preventDefault():t.returnValue=o))}function S(t){var n=g.getElementById(t=(t||"").replace(/^#/,""));n&&n.id===t&&"A"===n.nodeName&&(t=n.getBoundingClientRect(),e.scrollTo(I.scrollLeft||0,t.top+(I.scrollTop||0)-(I.clientTop||0)))}function da(){function a(t){var n,r=[],a="VBHistoryClass"+(new Date).getTime()+c++,i=["Class "+a];for(n in t)if(t.hasOwnProperty(n)){var o=t[n];o&&(o.get||o.set)?(o.get&&i.push("Public "+("_"===n?"Default ":"")+"Property Get ["+n+"]","Call VBCVal([(accessors)].["+n+"].get.call(me),["+n+"])","End Property"),o.set&&i.push("Public Property Let ["+n+"](val)",o="Call [(accessors)].["+n+"].set.call(me,val)\nEnd Property","Public Property Set ["+n+"](val)",o)):(r.push(n),i.push("Public ["+n+"]"))}for(i.push("Private [(accessors)]","Private Sub Class_Initialize()","Set [(accessors)]="+a+"FactoryJS()","End Sub","End Class","Function "+a+"Factory()","Set "+a+"Factory=New "+a,"End Function"),e.execScript(i.join("\n"),"VBScript"),e[a+"FactoryJS"]=function(){return t},a=e[a+"Factory"](),i=0;i<r.length;i++)a[r[i]]=t[r[i]];return a}function b(e){var t=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return t.test(e)?'"'+e.replace(t,function(e){return e in n?n[e]:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}var c=e.eval&&eval("/*@cc_on 1;@*/");if(c&&!(7<+(/msie (\d+)/i.exec(navigator.userAgent)||[,8])[1])){var d=x,k=h().a,m=g.createElement("iframe");m.src="javascript:true;",m=I.firstChild.appendChild(m).contentWindow,e.execScript("Public history\nFunction VBCVal(o,r) If IsObject(o) Then Set r=o Else r=o End If End Function","VBScript"),t={_:{get:K.toString}},l={back:n.back,forward:n.forward,go:n.go,emulate:j,_:{get:function(){return"[object History]"}}},q={parse:function(e){try{return new Function("","return "+e)()}catch(b){return j}},stringify:function(e){var t=(typeof e).charCodeAt(2);if(114===t)e=b(e);else if(109===t)e=isFinite(e)?""+e:"null";else if(111===t||108===t)e=""+e;else if(106===t)if(e){var n=(t="[object Array]"===F.prototype.toString.call(e))?"[":"{";if(t)for(var r=0;r<e.length;r++)n+=(0==r?"":",")+q.stringify(e[r]);else for(r in e)e.hasOwnProperty(r)&&(n+=(1==n.length?"":",")+b(r)+":"+q.stringify(e[r]));e=n+(t?"]":"}")}else e="null";else e="void 0";return e}},s=function(e,t,n,a,i){var c=m.document;t=h(t);D=o,t.c!==h().c||i?(A=a,n?m.lfirst?(history.back(),s(e,t.a,0,a,1)):f.replace("#"+t.d):(t.a!=k||i)&&(m.lfirst||(m.lfirst=1,s(e,k,0,a,1)),c.open(),c.write('<script>lfirst=1;parent.location.hash="'+t.d.replace(/"/g,'\\"')+'";</script>'),c.close()),!i&&e&&(r[f.href]=e)):e&&(r[f.href]=e)},x=function(n,r,i){return d.apply(this,arguments)||(n===t?t[r]=i:n===l?(l[r]=i,"state"===r&&(t=a(t),e.history=l=a(l))):n[r]=i.get&&i.get()),n},setInterval(function(){var e=h().a;if(e!=k){var t=g.createEventObject();t.oldURL=k,t.newURL=k=e,t.type="hashchange",L(t)}},100),e.JSON=q}}var i=!0,j=null,o=!1;if(e.history){var g=e.document,I=g.documentElement,F=e.Object,q=e.JSON,f=e.location,n=e.history,l=n,M=n.pushState,T=n.replaceState,p=!!M,H="state"in n,C=F.defineProperty,t=x({},"t")?{}:g.createElement("a"),w="",N=e.addEventListener?"addEventListener":(w="on")&&"attachEvent",U=e.removeEventListener?"removeEventListener":"detachEvent",V=e.dispatchEvent?"dispatchEvent":"fireEvent",v=e[N],W=e[U],ba=e[V],k={basepath:"/",redirect:0,type:"/"},E="__historyAPI__",O=g.createElement("a"),A=f.href,Q="",D=o,r={},z={},B=g.title,ea={onhashchange:j,onpopstate:j},X=function(t,r){var a=e.history!==n;a&&(e.history=n),t.apply(n,r),a&&(e.history=l)},Y={redirect:function(t,n){if(k.basepath=n=n==j?k.basepath:n,k.type=t=t==j?k.type:t,e.top==e.self){var r=h(j,o,i).c,a=f.pathname+f.search;p?(a=a.replace(/([^\/])$/,"$1/"),r!=n&&RegExp("^"+n+"$","i").test(a)&&f.replace(r)):a!=n&&(a=a.replace(/([^\/])\?/,"$1/?"),RegExp("^"+n,"i").test(a)&&f.replace(n+"#"+a.replace(RegExp("^"+n,"i"),t)+f.hash))}},pushState:function(e,t,n){var r=g.title;B!=j&&(g.title=B),M&&X(M,arguments),s(e,n),g.title=r,B=t},replaceState:function(e,t,n){var a=g.title;B!=j&&(g.title=B),delete r[f.href],T&&X(T,arguments),s(e,n,i),g.title=a,B=t},location:{set:function(t){e.location=t},get:function(){return p?f:t}},state:{get:function(){return r[f.href]||j}}},K={assign:function(e){0===(""+e).indexOf("#")?s(j,e):f.assign(e)},reload:function(){f.reload()},replace:function(e){0===(""+e).indexOf("#")?s(j,e,i):f.replace(e)},toString:function(){return this.href},href:{get:function(){return h().a}},protocol:j,host:j,hostname:j,port:j,pathname:{get:function(){return h().e}},search:{get:function(){return h().f}},hash:{set:function(e){s(j,(""+e).replace(/^(#|)/,"#"),o,A)},get:function(){return h().b}}};(function(){var n;(-1!==(n=((n=g.getElementsByTagName("script"))[n.length-1]||{}).src||"").indexOf("?")?n.split("?").pop():"").replace(/(\w+)(?:=([^&]*))?/g,function(e,t,n){k[t]=(n||("basepath"===t?"/":"")).replace(/^(0|false)$/,"")}),da(),v(w+"hashchange",L,o);var r=[K,t,ea,e,Y,l];H&&delete Y.state;for(var a=0;a<r.length;a+=2)for(var c in r[a])if(r[a].hasOwnProperty(c))if("function"==typeof r[a][c])r[a+1][c]=r[a][c];else{if(n=aa(r[a],c,r[a][c]),!x(r[a+1],c,n,function(t,n){n===l&&(e.history=l=r[a+1]=t)}))return W(w+"hashchange",L,o),o;r[a+1]===e&&(z[c]=z[c.substr(2)]=[])}return k.redirect&&l.redirect(),!H&&q&&Z(),p||g[N](w+"click",ca,o),"complete"===g.readyState?R(i):(!p&&h().c!==k.basepath&&(D=i),v(w+"load",R,o)),i})()&&(l.emulate=!p,e[N]=function(e,t,n){e in z?z[e].push(t):3<arguments.length?v(e,t,n,arguments[3]):v(e,t,n)},e[U]=function(e,t,n){var r=z[e];if(r){for(e=r.length;--e;)if(r[e]===t){r.splice(e,1);break}}else W(e,t,n)},e[V]=G)}}(window);