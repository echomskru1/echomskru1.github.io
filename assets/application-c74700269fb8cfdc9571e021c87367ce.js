function passwordSwitcher(){$(".switch-password").off("click.switchPass").on("click.switchPass",function(){var t=$(this),e=$(this).parent().find("input");t.hasClass("visible")?(t.removeClass("visible"),e.attr("type","text")):(t.addClass("visible"),e.attr("type","password"))})}function setSlider(t){var e=!0;t.css("overflow","hidden"),0==t.find(".scroll-content").length&&t.children().wrapAll('<div class="scroll-content"> /');var i=t.find(".scroll-content").height()-t.height();if(t.data("difference",i),0>=i&&t.find(".slider-wrap").length>0&&(t.find(".slider-wrap").remove(),t.find(".scroll-content").css({top:0})),i>0){var n=i/t.find(".scroll-content").height(),a=Math.round((1-n)*t.height());a-=a%2;var o=t.find(".scroll-content").position(),s=100*(1-Math.abs(o.top)/i);0==t.find(".slider-wrap").length&&(t.append('<div class="slider-wrap"><div class="slider-vertical"></div></div>'),s=100),t.find(".slider-wrap").height(t.height()),t.find(".slider-vertical").slider({orientation:"vertical",min:0,max:100,range:"min",value:s,slide:function(e,n){var a=-((100-n.value)*i/100);t.find(".scroll-content").css({top:a}),$("ui-slider-range").height(n.value+"%")},change:function(e,i){var n=-((100-i.value)*(t.find(".scroll-content").height()-t.height())/100);t.find(".scroll-content").css({top:n}),$("ui-slider-range").height(i.value+"%")}}),t.find(".ui-slider-handle").css({height:a,"margin-bottom":-.5*a});var r=t.height(),l=r-a,c=.5*(r-l);t.find(".ui-slider").css({height:l,"margin-top":c}),t.find(".ui-slider-range").css({bottom:-c}),e&&($(".ui-slider-handle").append('<span class="scrollbar-top" />'),$(".ui-slider-handle").append('<span class="scrollbar-bottom" />'),$(".ui-slider-handle").append('<span class="scrollbar-grip" />'))}$(".ui-slider").click(function(t){t.stopPropagation()}),$(".slider-wrap").click(function(t){var e=$(this).offset().top,i=100*(t.pageY-e)/$(this).height();$(this).find(".slider-vertical").slider("value",100-i)}),$.fn.mousewheel&&(t.unmousewheel(),t.mousewheel(function(e,i){var n=Math.round(5e3/t.data("difference"));1>n&&(n=1),n>100&&(n=100);var a=$(this).find(".slider-vertical").slider("value");a+=i*n,$(this).find(".slider-vertical").slider("value",a),e.preventDefault()}))}function isNoAnotherPage(t){var e=$(t),i=e.attr("href");return i&&(""==i||"#"==i.substring(0,1)||"javascript:"==i.substring(0,11)||e.attr("target")||"external"==e.attr("rel")||"ajax"==e.attr("rel"))?!1:!0}function bodyclassName(t,e,i){t.width()<1300?(_columns=4,e.removeClass("widescreen")):(_columns=5,e.addClass("widescreen")),i.length>0&&i.height()<$("#mainsidebar").height()?(_columns--,e.addClass("smallheight")):e.removeClass("smallheight")}function pageUp(){var t,e=$(".up_link");$(window).scroll(function(){window.clearTimeout(t),t=window.setTimeout(function(){$(document).scrollTop()>$(window).height()?e.slideDown(200):e.slideUp(100)},100)})}function testDevice(){var t,e,i;window.device={},t=window.document.documentElement,i=window.navigator.userAgent.toLowerCase(),device.ios=function(){return device.iphone()||device.ipod()||device.ipad()},device.iphone=function(){return e("iphone")},device.ipod=function(){return e("ipod")},device.ipad=function(){return e("ipad")},device.android=function(){return e("android")},device.androidPhone=function(){return device.android()&&e("mobile")},device.androidTablet=function(){return device.android()&&!e("mobile")},device.blackberry=function(){return e("blackberry")||e("bb10")||e("rim")},device.blackberryPhone=function(){return device.blackberry()&&!e("tablet")},device.blackberryTablet=function(){return device.blackberry()&&e("tablet")},device.windows=function(){return e("windows")},device.windowsPhone=function(){return device.windows()&&e("phone")},device.windowsTablet=function(){return device.windows()&&e("touch")},device.fxos=function(){return(e("(mobile;")||e("(tablet;"))&&e("; rv:")},device.fxosPhone=function(){return device.fxos()&&e("mobile")},device.fxosTablet=function(){return device.fxos()&&e("tablet")},device.meego=function(){return e("meego")},device.mobile=function(){return device.androidPhone()||device.iphone()||device.ipod()||device.windowsPhone()||device.blackberryPhone()||device.fxosPhone()||device.meego()},device.tablet=function(){return device.ipad()||device.androidTablet()||device.blackberryTablet()||device.windowsTablet()||device.fxosTablet()},device.portrait=function(){return 90!==Math.abs(window.orientation)},device.landscape=function(){return 90===Math.abs(window.orientation)},e=function(t){return-1!==i.indexOf(t)}}function ready(t){document.addEventListener?document.addEventListener("DOMContentLoaded",t):document.attachEvent("onreadystatechange",function(){"interactive"===document.readyState&&t()})}function setValue(t,e){localStorage.setItem(t,e)}function getValue(t){return localStorage.getItem(t)}function parseURL(t){var e=document.createElement("a");return e.href=t,{source:t,protocol:e.protocol.replace(":",""),host:e.hostname,port:e.port,query:e.search,params:function(){for(var t,i={},n=e.search.replace(/^\?/,"").split("&"),a=n.length,o=0;a>o;o++)n[o]&&(t=n[o].split("="),i[t[0]]=t[1]);return i}(),file:(e.pathname.match(/\/([^\/?#]+)$/i)||[,""])[1],hash:e.hash.replace("#",""),path:e.pathname.replace(/^([^\/])/,"/$1"),relative:(e.href.match(/tps?:\/\/[^\/]+(.+)/)||[,""])[1],segments:e.pathname.replace(/^\//,"").split("/")}}function setStyle(t,e){Array.prototype.forEach.call(e,function(e){t.style[e.n]=e.v})}function goToMobile(t){return setValue("nomobile","0"),window.location=t,!1}function cancelGoToMobile(){setValue("nomobile","1");var t=document.getElementById(_MOBILEPOPUP.id);return t.parentNode.removeChild(t),!1}function myAlert(){var t=getValue("nomobile"),e=device.mobile();if(t&&"1"===t||!e)return!1;if(t&&"2"===t){var i=getValue("nomobiletimeout");if(!((new Date).getTime()-i>_MOBILEPOPUP.returntimeout))return!1;localStorage.removeItem("nomobiletimeout"),localStorage.removeItem("nomobile")}var n=document.createElement("DIV");document.body.appendChild(n),setStyle(n,[{n:"position",v:"fixed"},{n:"top",v:"0px"},{n:"left",v:"0px"},{n:"width",v:"100%"},{n:"height",v:"100%"},{n:"fontSize",v:"8px"},{n:"fontFamily",v:"'Trebuchet MS', sans-serif"}]);var a=document.body.children,o=100;Array.prototype.forEach.call(a,function(t){var e=parseInt(t.style.zIndex);o=Math.max(o,isNaN(e)?0:e)}),n.style.zIndex=o+100,n.style.background="rgba(0,0,0,0.3)",n.id=_MOBILEPOPUP.id?_MOBILEPOPUP.id:"goToMobilePopUp"+Math.floor(1e10*Math.random()),_MOBILEPOPUP.id=n.id;var s=document.createElement("DIV");n.appendChild(s),setStyle(s,[{n:"position",v:"absolute"},{n:"top",v:"50%"},{n:"left",v:"50%"},{n:"width",v:"90%"},{n:"minHeight",v:"50px"},{n:"maxWidth",v:"600px"},{n:"background",v:"#e7e7e7"},{n:"color",v:"#434343"},{n:"textAlign",v:"center"},{n:"overflow",v:"hidden"},{n:"padding",v:"3em 0 0 0"}]),s.innerHTML='<div class="ico"><img width="69" height="116" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEUAAAB0CAYAAADTq/8hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABcdJREFUeNrsnVtoHFUcxk+madqmGm3VSlsvRUFqvaFZtVjvij54AesFfSsoXqjUgggVrajog4o+aNValYIIIooWEZR6xdR7tEqtF0TBVGrb2GjQaJLm4vdl/ovb2TOb3exMO7N8f/jYZM7M7Dm/Ped/zszD+ZpGR0ddXHR2dhb/DKBp0EnQ2dCJ0GxoOjQJir/J3okm6F9oJ7QV+hx6F+ri8UKhULG+TVVAmQFdBt0InezyGwPQB9Bq6B2A6a0ZCoC04OMsaCV0hmuseAO6H/rI12u8UABkH3wshe6Dml1jRg90K/QCwAxUhAIg+xnFpVXceBc0YmM4KzFq9ZlcRb147groYYAZ9kKxIfMQtKzCjTZD30A/QH9CwxmF0grNguZDR0FHxJw/BF0LKM+VQQEQzjA3QE/EXMzMzQtfgTbmYXygoWwXZ81ToMXQNdBBnlN/gy7F+Z1RKO2WgHwXbYDugd7OU9IglEhqWGztONZz+jroauaXMSg2bJ6HrvScvB66Cfo5b5k0CsXALMLHGmhBpIi58SK2N8BJHH9n2lqk7B6WX3IHpAKoD6237IwUMX1czwQdWJZe4pl6OWU9YAm10YJD5VXP8fOggwnlQOjCmAtfa8QFCnrLoLVve6SoDVpEKKcZmNL4HXodGnSNG59B33mOH88hc6qn4FvoY8/x/e0ZaCHUksEHwd0WpsiXg9aONegdf0R6SzfKf/VcN5dQjvQU/IiLtpU8JRcT0Vro4pwt/TmjLERbLkebRiJlOzznj+WUfT0F3Z5j7dZD8vYs1Gz1bveU/eM5NiWIaeSw59hsm6nyGJOt/r73LmWPCUENNx7JeWIdqaVr1RN90Mv2YDgpAw0ftsngChe+FZzweKsnCOMWqDdDPYKvPs6vB0pQZwV4/cyMDZOZ9bYrSKASTRmDUnd9AqcQFEERFEERFEERFEERFEERFEERFIWgCIqgCIqgCIqgCIqgCIqgCIqgCIpCUARFUARFUARFUARFUARFUARFUBSCIiiCIiiCIiiCIiiCIiiCIiiCIigKQREUQREUQREUQREUQREUQREUQVEIiqDsOSja0iwS3I+xJ2NQelyd+1zWu00iN+o93YX7umahx3DT4FlWr70GhY4uj0H9GYIy1eq1R6AEMdcf3mj5s5acMuCyvaf1eLErDSgbDUweg65QX9QCpdpcwGTKvWe/zxkQmiEsLxQKO2rJKUOe43G7ENOVgBZT81xyW8QPWaIetu+d6pLZXLzJevYvrtxiojQxl13HL/8rZlaJW5d0O/9u6RMNbqpL+y1uVf8T1JHU2sdnUBKJab4fqdlIRmOeWWT9nfLKk8Zsz0DHlRzfBF3nQke4tBP7AZ5j25lTvvYU0D2pkHKFDoNWRYA4+3+VlacW+NG5QfghnqKthPKpZ7ri2uMSl94O58VeEmfhVyxLc0HIH/1oz/HNgY3j9z2FV7lwV/G0oMwZ55w5aUFBL2HaoH3GXM/UvSGwXrLacy271t02lJIOJuyucc7pcukZGPDH9rlecWbdEphpx1sxvYUeFk9BJ6RQsU9spvFFh5Wn0Us4ZO6N6alPs5MENnVxWr7LheYA0aB11lobTknGNhdab73p/vcRGrT/l1l50kDYlmdjctl7/G52kqjlHlesj8Tck/44tNt70X7J/oTq2mLrlBn2HR0uIbOl4joFbTvGhZZ7S5zfj5CdgZZ7Yz03as44xfLIigrftcWF5oxcR9BhtrckeU4kCLevZEU73Va19UabLQzn2/CvlAKWQ48WfU59Np50erwTur2KL+5L6CFxNDIzJRH8gVuruB8dOleW+pvGGb62Wg550PnNGhshBiyPPg4gfbutFypYAxcXWLe50BqmkYKr+Dug9QBS9p6lGhPpNpuab4YusG6Z12AufBJ6iUZqsSvLKu3Gi0+UzNznQOdCh7rwJXGry+YbuX57ZcDGf+lC39av+JBbagPsi/8EGADaEnxy+P8C6AAAAABJRU5ErkJggg==" /></div><div class="message">'+_MOBILEPOPUP.text+'</div><div class="buttons"><a href="'+_MOBILEPOPUP.link+'" onclick="return goToMobile(this.href);">'+_MOBILEPOPUP.yes+'</a><a href="#" onclick="return cancelGoToMobile();">'+_MOBILEPOPUP.no+"</a></div>",setStyle(s.querySelectorAll(".message")[0],[{n:"fontSize",v:"2.25em"},{n:"padding",v:"0 1em 1em 1em"}]),setStyle(s.querySelectorAll(".ico")[0],[{n:"padding",v:"0 0 2.25em 0"}]),setStyle(s.querySelectorAll(".buttons")[0],[{n:"borderTop",v:"solid 1px #000"}]),Array.prototype.forEach.call(s.querySelectorAll(".buttons a"),function(t,e){setStyle(t,[{n:"borderLeft",v:"solid "+(1>e?"0":"1")+"px #000"},{n:"width",v:"49.9%"},{n:"padding",v:"1em 0"},{n:"display",v:"inline-block"},{n:"textDecoration",v:"none"},{n:"fontSize",v:"2.25em"},{n:"fontWeight",v:"bold"},{n:"color",v:"#515459"},{n:"background",v:"#fff"}])}),setStyle(s,[{n:"margin",v:"-"+parseInt(getComputedStyle(s).height)/2+"px 0 0 -"+parseInt(getComputedStyle(s).width)/2+"px"}])}!function(t,e){var i=function(){var e=t(document).data("events");return e&&e.click&&t.grep(e.click,function(t){return"rails"===t.namespace}).length};i()&&t.error("jquery-ujs has already been loaded!");var n;t.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input:file",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(e){var i=t('meta[name="csrf-token"]').attr("content");i&&e.setRequestHeader("X-CSRF-Token",i)},fire:function(e,i,n){var a=t.Event(i);return e.trigger(a,n),a.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t.attr("href")},handleRemote:function(i){var a,o,s,r,l,c,h,d;if(n.fire(i,"ajax:before")){if(r=i.data("cross-domain"),l=r===e?null:r,c=i.data("with-credentials")||null,h=i.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,i.is("form")){a=i.attr("method"),o=i.attr("action"),s=i.serializeArray();var u=i.data("ujs:submit-button");u&&(s.push(u),i.data("ujs:submit-button",null))}else i.is(n.inputChangeSelector)?(a=i.data("method"),o=i.data("url"),s=i.serialize(),i.data("params")&&(s=s+"&"+i.data("params"))):(a=i.data("method"),o=n.href(i),s=i.data("params")||null);d={type:a||"GET",data:s,dataType:h,beforeSend:function(t,a){return a.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+a.accepts.script),n.fire(i,"ajax:beforeSend",[t,a])},success:function(t,e,n){i.trigger("ajax:success",[t,e,n])},complete:function(t,e){i.trigger("ajax:complete",[t,e])},error:function(t,e,n){i.trigger("ajax:error",[t,e,n])},xhrFields:{withCredentials:c},crossDomain:l},o&&(d.url=o);var p=n.ajax(d);return i.trigger("ajax:send",p),p}return!1},handleMethod:function(i){var a=n.href(i),o=i.data("method"),s=i.attr("target"),r=t("meta[name=csrf-token]").attr("content"),l=t("meta[name=csrf-param]").attr("content"),c=t('<form method="post" action="'+a+'"></form>'),h='<input name="_method" value="'+o+'" type="hidden" />';l!==e&&r!==e&&(h+='<input name="'+l+'" value="'+r+'" type="hidden" />'),s&&c.attr("target",s),c.hide().append(h).appendTo("body"),c.submit()},disableFormElements:function(e){e.find(n.disableSelector).each(function(){var e=t(this),i=e.is("button")?"html":"val";e.data("ujs:enable-with",e[i]()),e[i](e.data("disable-with")),e.prop("disabled",!0)})},enableFormElements:function(e){e.find(n.enableSelector).each(function(){var e=t(this),i=e.is("button")?"html":"val";e.data("ujs:enable-with")&&e[i](e.data("ujs:enable-with")),e.prop("disabled",!1)})},allowAction:function(t){var e,i=t.data("confirm"),a=!1;return i?(n.fire(t,"confirm")&&(a=n.confirm(i),e=n.fire(t,"confirm:complete",[a])),a&&e):!0},blankInputs:function(e,i,n){var a,o,s=t(),r=i||"input,textarea";return e.find(r).each(function(){a=t(this),o=a.is(":checkbox,:radio")?a.is(":checked"):a.val(),o==!!n&&(s=s.add(a))}),s.length?s:!1},nonBlankInputs:function(t,e){return n.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},callFormSubmitBindings:function(i,n){var a=i.data("events"),o=!0;return a!==e&&a.submit!==e&&t.each(a.submit,function(t,e){return"function"==typeof e.handler?o=e.handler(n):void 0}),o},disableElement:function(t){t.data("ujs:enable-with",t.html()),t.html(t.data("disable-with")),t.bind("click.railsDisable",function(t){return n.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.data("ujs:enable-with",!1)),t.unbind("click.railsDisable")}},n.fire(t(document),"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,i){t.crossDomain||n.CSRFProtection(i)}),t(document).delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(t(this))}),t(document).delegate(n.linkClickSelector,"click.rails",function(i){var a=t(this),o=a.data("method"),s=a.data("params");return n.allowAction(a)?(a.is(n.linkDisableSelector)&&n.disableElement(a),a.data("remote")!==e?!i.metaKey&&!i.ctrlKey||o&&"GET"!==o||s?(n.handleRemote(a)===!1&&n.enableElement(a),!1):!0:a.data("method")?(n.handleMethod(a),!1):void 0):n.stopEverything(i)}),t(document).delegate(n.inputChangeSelector,"change.rails",function(e){var i=t(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(e)}),t(document).delegate(n.formSubmitSelector,"submit.rails",function(i){var a=t(this),o=a.data("remote")!==e,s=n.blankInputs(a,n.requiredInputSelector),r=n.nonBlankInputs(a,n.fileInputSelector);return n.allowAction(a)?s&&a.attr("novalidate")==e&&n.fire(a,"ajax:aborted:required",[s])?n.stopEverything(i):o?r?(setTimeout(function(){n.disableFormElements(a)},13),n.fire(a,"ajax:aborted:file",[r])):!t.support.submitBubbles&&t().jquery<"1.7"&&n.callFormSubmitBindings(a,i)===!1?n.stopEverything(i):(n.handleRemote(a),!1):void setTimeout(function(){n.disableFormElements(a)},13):n.stopEverything(i)}),t(document).delegate(n.formInputClickSelector,"click.rails",function(e){var i=t(this);if(!n.allowAction(i))return n.stopEverything(e);var a=i.attr("name"),o=a?{name:a,value:i.val()}:null;i.closest("form").data("ujs:submit-button",o)}),t(document).delegate(n.formSubmitSelector,"ajax:beforeSend.rails",function(e){this==e.target&&n.disableFormElements(t(this))}),t(document).delegate(n.formSubmitSelector,"ajax:complete.rails",function(e){this==e.target&&n.enableFormElements(t(this))}),t(function(){csrf_token=t("meta[name=csrf-token]").attr("content"),csrf_param=t("meta[name=csrf-param]").attr("content"),t('form input[name="'+csrf_param+'"]').val(csrf_token)}))}(jQuery),function(){function t(t,e){var i;t||(t={});for(i in e)t[i]=e[i];return t}function e(){var t,e,i=arguments,n={},a=function(t,e){var i,n;"object"!=typeof t&&(t={});for(n in e)e.hasOwnProperty(n)&&(i=e[n],t[n]=i&&"object"==typeof i&&"[object Array]"!==Object.prototype.toString.call(i)&&"number"!=typeof i.nodeType?a(t[n]||{},i):e[n]);return t};for(i[0]===!0&&(n=i[1],i=Array.prototype.slice.call(i,2)),e=i.length,t=0;e>t;t++)n=a(n,i[t]);return n}function i(){for(var t=0,e=arguments,i=e.length,n={};i>t;t++)n[e[t++]]=e[t];return n}function n(t,e){return parseInt(t,e||10)}function a(t){return"string"==typeof t}function o(t){return"object"==typeof t}function s(t){return"[object Array]"===Object.prototype.toString.call(t)}function r(t){return"number"==typeof t}function l(t){return pe.log(t)/pe.LN10}function c(t){return pe.pow(10,t)}function h(t,e){for(var i=t.length;i--;)if(t[i]===e){t.splice(i,1);break}}function d(t){return t!==q&&null!==t}function u(t,e,i){var n,s,r="setAttribute";if(a(e))d(i)?t[r](e,i):t&&t.getAttribute&&(s=t.getAttribute(e));else if(d(e)&&o(e))for(n in e)t[r](n,e[n]);return s}function p(t){return s(t)?t:[t]}function f(){var t,e,i=arguments,n=i.length;for(t=0;n>t;t++)if(e=i[t],"undefined"!=typeof e&&null!==e)return e}function m(e,i){Pe&&i&&i.opacity!==q&&(i.filter="alpha(opacity="+100*i.opacity+")"),t(e.style,i)}function g(e,i,n,a,o){var s=de.createElement(e);return i&&t(s,i),o&&m(s,{padding:0,border:Ue,margin:0}),n&&m(s,n),a&&a.appendChild(s),s}function v(e,i){var n=function(){};return n.prototype=new e,t(n.prototype,i),n}function y(t,e,i,a){var o=Y.lang,s=+t||0,r=-1===e?(s.toString().split(".")[1]||"").length:isNaN(e=be(e))?2:e,l=void 0===i?o.decimalPoint:i,c=void 0===a?o.thousandsSep:a,h=0>s?"-":"",d=String(n(s=be(s).toFixed(r))),u=d.length>3?d.length%3:0;return h+(u?d.substr(0,u)+c:"")+d.substr(u).replace(/(\d{3})(?=\d)/g,"$1"+c)+(r?l+be(s-d).toFixed(r).slice(2):"")}function b(t,e){return new Array((e||2)+1-String(t).length).join(0)+t}function x(t,e,i){var n=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(n),i.apply(this,t)}}function w(t,e){var i,n=/f$/,a=/\.([0-9])/,o=Y.lang;return n.test(t)?(i=t.match(a),i=i?i[1]:-1,e=y(e,i,o.decimalPoint,t.indexOf(",")>-1?o.thousandsSep:"")):e=X(t,e),e}function k(t,e){for(var i,n,a,o,s,r,l,c="{",h=!1,d=[];-1!==(l=t.indexOf(c));){if(i=t.slice(0,l),h){for(n=i.split(":"),a=n.shift().split("."),s=a.length,r=e,o=0;s>o;o++)r=r[a[o]];n.length&&(r=w(n.join(":"),r)),d.push(r)}else d.push(i);t=t.slice(l+1),h=!h,c=h?"}":"{"}return d.push(t),d.join("")}function _(t){return pe.pow(10,me(pe.log(t)/pe.LN10))}function C(t,e,i,n){var a,o;for(i=f(i,1),a=t/i,e||(e=[1,2,2.5,5,10],n&&n.allowDecimals===!1&&(1===i?e=[1,2,5,10]:.1>=i&&(e=[1/i]))),o=0;o<e.length&&(t=e[o],!(a<=(e[o]+(e[o+1]||e[o]))/2));o++);return t*=i}function T(){this.color=0,this.symbol=0}function P(t,e){var i,n,a=t.length;for(n=0;a>n;n++)t[n].ss_i=n;for(t.sort(function(t,n){return i=e(t,n),0===i?t.ss_i-n.ss_i:i}),n=0;a>n;n++)delete t[n].ss_i}function S(t){for(var e=t.length,i=t[0];e--;)t[e]<i&&(i=t[e]);return i}function j(t){for(var e=t.length,i=t[0];e--;)t[e]>i&&(i=t[e]);return i}function L(t,e){var i;for(i in t)t[i]&&t[i]!==e&&t[i].destroy&&t[i].destroy(),delete t[i]}function E(t){V||(V=g(We)),t&&V.appendChild(t),V.innerHTML=""}function A(t,e){var i="Highcharts error #"+t+": www.highcharts.com/errors/"+t;if(e)throw i;ue.console&&console.log(i)}function M(t){return parseFloat(t.toPrecision(14))}function O(t,e){G=f(t,e.animation)}function I(){var t=Y.global.useUTC,e=t?"getUTC":"get",i=t?"setUTC":"set";K=6e4*(t&&Y.global.timezoneOffset||0),J=t?Date.UTC:function(t,e,i,n,a,o){return new Date(t,e,f(i,1),f(n,0),f(a,0),f(o,0)).getTime()},te=e+"Minutes",ee=e+"Hours",ie=e+"Day",ne=e+"Date",ae=e+"Month",oe=e+"FullYear",se=i+"Minutes",re=i+"Hours",le=i+"Date",ce=i+"Month",he=i+"FullYear"}function R(t){return Y=e(!0,Y,t),I(),Y}function D(){return Y}function z(){}function B(t,e,i,n){this.axis=t,this.pos=e,this.type=i||"",this.isNew=!0,i||n||this.addLabel()}function F(){this.init.apply(this,arguments)}function H(t,e,i,n,a,o){var s=t.chart.inverted;this.axis=t,this.isNegative=i,this.options=e,this.x=n,this.total=null,this.points={},this.stack=a,this.percent="percent"===o,this.alignOptions={align:e.align||(s?i?"left":"right":"center"),verticalAlign:e.verticalAlign||(s?"middle":i?"bottom":"top"),y:f(e.y,s?4:i?14:-6),x:f(e.x,s?i?-6:6:0)},this.textAlign=e.textAlign||(s?i?"right":"left":"center")}function N(){this.init.apply(this,arguments)}function W(){this.init.apply(this,arguments)}var q,$,V,Y,X,G,U,Q,Z,J,K,te,ee,ie,ne,ae,oe,se,re,le,ce,he,de=document,ue=window,pe=Math,fe=pe.round,me=pe.floor,ge=pe.ceil,ve=pe.max,ye=pe.min,be=pe.abs,xe=pe.cos,we=pe.sin,ke=pe.PI,_e=2*ke/360,Ce=navigator.userAgent,Te=ue.opera,Pe=/msie/i.test(Ce)&&!Te,Se=8===de.documentMode,je=/AppleWebKit/.test(Ce),Le=/Firefox/.test(Ce),Ee=/(Mobile|Android|Windows Phone)/.test(Ce),Ae="http://www.w3.org/2000/svg",Me=!!de.createElementNS&&!!de.createElementNS(Ae,"svg").createSVGRect,Oe=Le&&parseInt(Ce.split("Firefox/")[1],10)<4,Ie=!Me&&!Pe&&!!de.createElement("canvas").getContext,Re=de.documentElement.ontouchstart!==q,De={},ze=0,Be=function(){},Fe=[],He="Highcharts",Ne="3.0.9",We="div",qe="absolute",$e="relative",Ve="hidden",Ye="highcharts-",Xe="visible",Ge="px",Ue="none",Qe="M",Ze="L",Je=/^[0-9]+$/,Ke="rgba(192,192,192,"+(Me?1e-4:.002)+")",ti="",ei="hover",ii="select",ni="millisecond",ai="second",oi="minute",si="hour",ri="day",li="week",ci="month",hi="year",di="stroke-width",ui={};ue.Highcharts=ue.Highcharts?A(16,!0):{},X=function(e,i,n){if(!d(i)||isNaN(i))return"Invalid date";e=f(e,"%Y-%m-%d %H:%M:%S");var a,o=new Date(i-K),s=o[ee](),r=o[ie](),l=o[ne](),c=o[ae](),h=o[oe](),u=Y.lang,p=u.weekdays,m=t({a:p[r].substr(0,3),A:p[r],d:b(l),e:l,b:u.shortMonths[c],B:u.months[c],m:b(c+1),y:h.toString().substr(2,2),Y:h,H:b(s),I:b(s%12||12),l:s%12||12,M:b(o[te]()),p:12>s?"AM":"PM",P:12>s?"am":"pm",S:b(o.getSeconds()),L:b(fe(i%1e3),3)},Highcharts.dateFormats);for(a in m)for(;-1!==e.indexOf("%"+a);)e=e.replace("%"+a,"function"==typeof m[a]?m[a](i):m[a]);return n?e.substr(0,1).toUpperCase()+e.substr(1):e},T.prototype={wrapColor:function(t){this.color>=t&&(this.color=0)},wrapSymbol:function(t){this.symbol>=t&&(this.symbol=0)}},Q=i(ni,1,ai,1e3,oi,6e4,si,36e5,ri,864e5,li,6048e5,ci,26784e5,hi,31556952e3),U={init:function(t,e,i){e=e||"";var n,a,o,s,r,l=t.shift,c=e.indexOf("C")>-1,h=c?7:3,d=e.split(" "),u=[].concat(i),p=function(t){for(o=t.length;o--;)t[o]===Qe&&t.splice(o+1,0,t[o+1],t[o+2],t[o+1],t[o+2])};if(c&&(p(d),p(u)),t.isArea&&(s=d.splice(d.length-6,6),r=u.splice(u.length-6,6)),l<=u.length/h&&d.length===u.length)for(;l--;)u=[].concat(u).splice(0,h).concat(u);if(t.shift=0,d.length)for(n=u.length;d.length<n;)a=[].concat(d).splice(d.length-h,h),c&&(a[h-6]=a[h-2],a[h-5]=a[h-1]),d=d.concat(a);return s&&(d=d.concat(s),u=u.concat(r)),[d,u]},step:function(t,e,i,n){var a,o=[],s=t.length;if(1===i)o=n;else if(s===e.length&&1>i)for(;s--;)a=parseFloat(t[s]),o[s]=isNaN(a)?t[s]:i*parseFloat(e[s]-a)+a;else o=e;return o}},function(e){ue.HighchartsAdapter=ue.HighchartsAdapter||e&&{init:function(t){var i,n=e.fx,o=n.step,s=e.Tween,r=s&&s.propHooks,l=e.cssHooks.opacity;e.extend(e.easing,{easeOutQuad:function(t,e,i,n,a){return-n*(e/=a)*(e-2)+i}}),e.each(["cur","_default","width","height","opacity"],function(t,e){var i,a=o;"cur"===e?a=n.prototype:"_default"===e&&s&&(a=r[e],e="set"),i=a[e],i&&(a[e]=function(n){var a;return n=t?n:this,"align"!==n.prop?(a=n.elem,a.attr?a.attr(n.prop,"cur"===e?q:n.now):i.apply(this,arguments)):void 0})}),x(l,"get",function(t,e,i){return e.attr?e.opacity||0:t.call(this,e,i)}),i=function(e){var i,n=e.elem;e.started||(i=t.init(n,n.d,n.toD),e.start=i[0],e.end=i[1],e.started=!0),n.attr("d",t.step(e.start,e.end,e.pos,n.toD))},s?r.d={set:i}:o.d=i,this.each=Array.prototype.forEach?function(t,e){return Array.prototype.forEach.call(t,e)}:function(t,e){for(var i=0,n=t.length;n>i;i++)if(e.call(t[i],t[i],i,t)===!1)return i},e.fn.highcharts=function(){var t,e,i,n="Chart",o=arguments;return a(o[0])&&(n=o[0],o=Array.prototype.slice.call(o,1)),t=o[0],t!==q&&(t.chart=t.chart||{},t.chart.renderTo=this[0],i=new Highcharts[n](t,o[1]),e=this),t===q&&(e=Fe[u(this[0],"data-highcharts-chart")]),e}},getScript:e.getScript,inArray:e.inArray,adapterRun:function(t,i){return e(t)[i]()},grep:e.grep,map:function(t,e){for(var i=[],n=0,a=t.length;a>n;n++)i[n]=e.call(t[n],t[n],n,t);return i},offset:function(t){return e(t).offset()},addEvent:function(t,i,n){e(t).bind(i,n)},removeEvent:function(t,i,n){var a=de.removeEventListener?"removeEventListener":"detachEvent";de[a]&&t&&!t[a]&&(t[a]=function(){}),e(t).unbind(i,n)},fireEvent:function(i,n,a,o){var s,r=e.Event(n),l="detached"+n;!Pe&&a&&(delete a.layerX,delete a.layerY),t(r,a),i[n]&&(i[l]=i[n],i[n]=null),e.each(["preventDefault","stopPropagation"],function(t,e){var i=r[e];r[e]=function(){try{i.call(r)}catch(t){"preventDefault"===e&&(s=!0)}}}),e(i).trigger(r),i[l]&&(i[n]=i[l],i[l]=null),!o||r.isDefaultPrevented()||s||o(r)},washMouseEvent:function(t){var e=t.originalEvent||t;return e.pageX===q&&(e.pageX=t.pageX,e.pageY=t.pageY),e},animate:function(t,i,n){var a=e(t);t.style||(t.style={}),i.d&&(t.toD=i.d,i.d=1),a.stop(),i.opacity!==q&&t.attr&&(i.opacity+="px"),a.animate(i,n)},stop:function(t){e(t).stop()}}}(ue.jQuery);var pi=ue.HighchartsAdapter,fi=pi||{};pi&&pi.init.call(pi,U);var mi=fi.adapterRun,gi=fi.getScript,vi=fi.inArray,yi=fi.each,bi=fi.grep,xi=fi.offset,wi=fi.map,ki=fi.addEvent,_i=fi.removeEvent,Ci=fi.fireEvent,Ti=fi.washMouseEvent,Pi=fi.animate,Si=fi.stop,ji={enabled:!0,x:0,y:15,style:{color:"#666",cursor:"default",fontSize:"11px"}};Y={colors:["#2f7ed8","#0d233a","#8bbc21","#910000","#1aadce","#492970","#f28f43","#77a1e5","#c42525","#a6c96a"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/3.0.9/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/3.0.9/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#274b6d",fontSize:"16px"}},subtitle:{text:"",align:"center",style:{color:"#4d759e"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:e(ji,{align:"center",enabled:!1,formatter:function(){return null===this.y?"":y(this.y,-1)},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:qe,color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{cursor:"pointer",color:"#274b6d",fontSize:"12px"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:qe,width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:$e,top:"1em"},style:{position:qe,backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:Me,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b><br/>',shadow:!0,snap:Ee?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var Li=Y.plotOptions,Ei=Li.line;I();var Ai=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,Mi=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,Oi=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,Ii=function(t){function i(t){t&&t.stops?c=wi(t.stops,function(t){return Ii(t[1])}):(l=Ai.exec(t),l?h=[n(l[1]),n(l[2]),n(l[3]),parseFloat(l[4],10)]:(l=Mi.exec(t),l?h=[n(l[1],16),n(l[2],16),n(l[3],16),1]:(l=Oi.exec(t),l&&(h=[n(l[1]),n(l[2]),n(l[3]),1]))))}function a(i){var n;return c?(n=e(t),n.stops=[].concat(n.stops),yi(c,function(t,e){n.stops[e]=[n.stops[e][0],t.get(i)]})):n=h&&!isNaN(h[0])?"rgb"===i?"rgb("+h[0]+","+h[1]+","+h[2]+")":"a"===i?h[3]:"rgba("+h.join(",")+")":t,n}function o(t){if(c)yi(c,function(e){e.brighten(t)});else if(r(t)&&0!==t){var e;for(e=0;3>e;e++)h[e]+=n(255*t),h[e]<0&&(h[e]=0),h[e]>255&&(h[e]=255)}return this}function s(t){return h[3]=t,this}var l,c,h=[];return i(t),{get:a,brighten:o,rgba:h,setOpacity:s}};z.prototype={init:function(t,e){var i=this;i.element="span"===e?g(e):de.createElementNS(Ae,e),i.renderer=t,i.attrSetters={}},opacity:1,animate:function(t,i,n){var a=f(i,G,!0);Si(this),a?(a=e(a),n&&(a.complete=n),Pi(this,t,a)):(this.attr(t),n&&n())},attr:function(t,e){var i,o,s,r,l,c,h,p,m,g=this,v=g.element,y=v.nodeName.toLowerCase(),b=g.renderer,x=g.attrSetters,w=g.shadows,k=g;if(a(t)&&d(e)&&(i=t,t={},t[i]=e),a(t))i=t,"circle"===y?i={x:"cx",y:"cy"}[i]||i:"strokeWidth"===i&&(i="stroke-width"),k=u(v,i)||g[i]||0,"d"!==i&&"visibility"!==i&&"fill"!==i&&(k=parseFloat(k));else{for(i in t)if(c=!1,o=t[i],s=x[i]&&x[i].call(g,o,i),s!==!1){if(s!==q&&(o=s),"d"===i)o&&o.join&&(o=o.join(" ")),/(NaN| {2}|^$)/.test(o)&&(o="M 0 0");else if("x"===i&&"text"===y)for(r=0;r<v.childNodes.length;r++)l=v.childNodes[r],u(l,"x")===u(v,"x")&&u(l,"x",o);else if(!g.rotation||"x"!==i&&"y"!==i)if("fill"===i)o=b.color(o,v,i);else if("circle"!==y||"x"!==i&&"y"!==i)if("rect"===y&&"r"===i)u(v,{rx:o,ry:o}),c=!0;else if("translateX"===i||"translateY"===i||"rotation"===i||"verticalAlign"===i||"scaleX"===i||"scaleY"===i)m=!0,c=!0;else if("stroke"===i)o=b.color(o,v,i);else if("dashstyle"===i){if(i="stroke-dasharray",o=o&&o.toLowerCase(),"solid"===o)o=Ue;else if(o){for(o=o.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),r=o.length;r--;)o[r]=n(o[r])*f(t["stroke-width"],g["stroke-width"]);o=o.join(",")}}else"width"===i?o=n(o):"align"===i?(i="text-anchor",o={left:"start",center:"middle",right:"end"}[o]):"title"===i&&(h=v.getElementsByTagName("title")[0],h||(h=de.createElementNS(Ae,"title"),v.appendChild(h)),h.textContent=o);else i={x:"cx",y:"cy"}[i]||i;else m=!0;if("strokeWidth"===i&&(i="stroke-width"),("stroke-width"===i||"stroke"===i)&&(g[i]=o,g.stroke&&g["stroke-width"]?(u(v,"stroke",g.stroke),u(v,"stroke-width",g["stroke-width"]),g.hasStroke=!0):"stroke-width"===i&&0===o&&g.hasStroke&&(v.removeAttribute("stroke"),g.hasStroke=!1),c=!0),g.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(i)&&(p||(g.symbolAttr(t),p=!0),c=!0),w&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(i))for(r=w.length;r--;)u(w[r],i,"height"===i?ve(o-(w[r].cutHeight||0),0):o);("width"===i||"height"===i)&&"rect"===y&&0>o&&(o=0),g[i]=o,"text"===i?(o!==g.textStr&&delete g.bBox,g.textStr=o,g.added&&b.buildText(g)):c||u(v,i,o)}m&&g.updateTransform()}return k},addClass:function(t){var e=this.element,i=u(e,"class")||"";return-1===i.indexOf(t)&&u(e,"class",i+" "+t),this},symbolAttr:function(t){var e=this;
yi(["x","y","r","start","end","width","height","innerR","anchorX","anchorY"],function(i){e[i]=f(t[i],e[i])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":Ue)},crisp:function(t,e,i,n,a){var o,s,r=this,l={},c={};t=t||r.strokeWidth||r.attr&&r.attr("stroke-width")||0,s=fe(t)%2/2,c.x=me(e||r.x||0)+s,c.y=me(i||r.y||0)+s,c.width=me((n||r.width||0)-2*s),c.height=me((a||r.height||0)-2*s),c.strokeWidth=t;for(o in c)r[o]!==c[o]&&(r[o]=l[o]=c[o]);return l},css:function(e){var i,a=this,o=a.element,s=a.textWidth=e&&e.width&&"text"===o.nodeName.toLowerCase()&&n(e.width),r="",l=function(t,e){return"-"+e.toLowerCase()};if(e&&e.color&&(e.fill=e.color),e=t(a.styles,e),a.styles=e,s&&delete e.width,Pe&&!Me)m(a.element,e);else{for(i in e)r+=i.replace(/([A-Z])/g,l)+":"+e[i]+";";u(o,"style",r)}return s&&a.added&&a.renderer.buildText(a),a},on:function(t,e){var i=this,n=i.element;return Re&&"click"===t?(n.ontouchstart=function(t){i.touchEventFired=Date.now(),t.preventDefault(),e.call(n,t)},n.onclick=function(t){(-1===Ce.indexOf("Android")||Date.now()-(i.touchEventFired||0)>1100)&&e.call(n,t)}):n["on"+t]=e,this},setRadialReference:function(t){return this.element.radialReference=t,this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(){var t=this;return t.inverted=!0,t.updateTransform(),t},updateTransform:function(){var t,e=this,i=e.translateX||0,n=e.translateY||0,a=e.scaleX,o=e.scaleY,s=e.inverted,r=e.rotation;s&&(i+=e.attr("width"),n+=e.attr("height")),t=["translate("+i+","+n+")"],s?t.push("rotate(90) scale(-1,1)"):r&&t.push("rotate("+r+" "+(e.x||0)+" "+(e.y||0)+")"),(d(a)||d(o))&&t.push("scale("+f(a,1)+" "+f(o,1)+")"),t.length&&u(e.element,"transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,i){var n,o,s,r,l,c={},d=this.renderer,u=d.alignedObjects;return t?(this.alignOptions=t,this.alignByTranslate=e,(!i||a(i))&&(this.alignTo=l=i||"renderer",h(u,this),u.push(this),i=null)):(t=this.alignOptions,e=this.alignByTranslate,l=this.alignTo),i=f(i,d[l],d),n=t.align,o=t.verticalAlign,s=(i.x||0)+(t.x||0),r=(i.y||0)+(t.y||0),("right"===n||"center"===n)&&(s+=(i.width-(t.width||0))/{right:1,center:2}[n]),c[e?"translateX":"x"]=fe(s),("bottom"===o||"middle"===o)&&(r+=(i.height-(t.height||0))/({bottom:1,middle:2}[o]||1)),c[e?"translateY":"y"]=fe(r),this[this.placed?"animate":"attr"](c),this.placed=!0,this.alignAttr=c,this},getBBox:function(){var e,i,n,a=this,o=a.bBox,s=a.renderer,r=a.rotation,l=a.element,c=a.styles,h=r*_e,d=a.textStr;if((""===d||Je.test(d))&&(n=d.length+"|"+c.fontSize+"|"+c.fontFamily,o=s.cache[n]),!o){if(l.namespaceURI===Ae||s.forExport){try{o=l.getBBox?t({},l.getBBox()):{width:l.offsetWidth,height:l.offsetHeight}}catch(u){}(!o||o.width<0)&&(o={width:0,height:0})}else o=a.htmlGetBBox();s.isSVG&&(e=o.width,i=o.height,Pe&&c&&"11px"===c.fontSize&&"16.9"===i.toPrecision(3)&&(o.height=i=14),r&&(o.width=be(i*we(h))+be(e*xe(h)),o.height=be(i*xe(h))+be(e*we(h)))),a.bBox=o,n&&(s.cache[n]=o)}return o},show:function(){return this.attr({visibility:Xe})},hide:function(){return this.attr({visibility:Ve})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.hide()}})},add:function(t){var e,i,a,o,s=this.renderer,r=t||s,l=r.element||s.box,c=l.childNodes,h=this.element,p=u(h,"zIndex");if(t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&s.buildText(this),p&&(r.handleZ=!0,p=n(p)),r.handleZ)for(a=0;a<c.length;a++)if(e=c[a],i=u(e,"zIndex"),e!==h&&(n(i)>p||!d(p)&&d(i))){l.insertBefore(h,e),o=!0;break}return o||l.appendChild(h),this.added=!0,Ci(this,"add"),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t,e,i,n=this,a=n.element||{},o=n.shadows,s=n.renderer.isSVG&&"SPAN"===a.nodeName&&n.parentGroup;if(a.onclick=a.onmouseout=a.onmouseover=a.onmousemove=a.point=null,Si(n),n.clipPath&&(n.clipPath=n.clipPath.destroy()),n.stops){for(i=0;i<n.stops.length;i++)n.stops[i]=n.stops[i].destroy();n.stops=null}for(n.safeRemoveChild(a),o&&yi(o,function(t){n.safeRemoveChild(t)});s&&0===s.div.childNodes.length;)t=s.parentGroup,n.safeRemoveChild(s.div),delete s.div,s=t;n.alignTo&&h(n.renderer.alignedObjects,n);for(e in n)delete n[e];return null},shadow:function(t,e,i){var n,a,o,s,r,l,c=[],h=this.element;if(t){for(s=f(t.width,3),r=(t.opacity||.15)/s,l=this.parentInverted?"(-1,-1)":"("+f(t.offsetX,1)+", "+f(t.offsetY,1)+")",n=1;s>=n;n++)a=h.cloneNode(0),o=2*s+1-2*n,u(a,{isShadow:"true",stroke:t.color||"black","stroke-opacity":r*n,"stroke-width":o,transform:"translate"+l,fill:Ue}),i&&(u(a,"height",ve(u(a,"height")-o,0)),a.cutHeight=o),e?e.element.appendChild(a):h.parentNode.insertBefore(a,h),c.push(a);this.shadows=c}return this}};var Ri=function(){this.init.apply(this,arguments)};Ri.prototype={Element:z,init:function(t,e,i,n){var a,o,s,r=this,l=location;a=r.createElement("svg").attr({version:"1.1"}),o=a.element,t.appendChild(o),-1===t.innerHTML.indexOf("xmlns")&&u(o,"xmlns",Ae),r.isSVG=!0,r.box=o,r.boxWrapper=a,r.alignedObjects=[],r.url=(Le||je)&&de.getElementsByTagName("base").length?l.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",s=this.createElement("desc").add(),s.element.appendChild(de.createTextNode("Created with "+He+" "+Ne)),r.defs=this.createElement("defs").add(),r.forExport=n,r.gradients={},r.cache={},r.setSize(e,i,!1);var c,h;Le&&t.getBoundingClientRect&&(r.subPixelFix=c=function(){m(t,{left:0,top:0}),h=t.getBoundingClientRect(),m(t,{left:ge(h.left)-h.left+Ge,top:ge(h.top)-h.top+Ge})},c(),ki(ue,"resize",c))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this,e=t.defs;return t.box=null,t.boxWrapper=t.boxWrapper.destroy(),L(t.gradients||{}),t.gradients=null,e&&(t.defs=e.destroy()),t.subPixelFix&&_i(ue,"resize",t.subPixelFix),t.alignedObjects=null,null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:function(){},buildText:function(t){for(var e=t.element,i=this,a=i.forExport,o=f(t.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),s=e.childNodes,r=/style="([^"]+)"/,l=/href="(http[^"]+)"/,c=u(e,"x"),h=t.styles,d=t.textWidth,p=h&&h.lineHeight,g=s.length,v=function(t){return p?n(p):i.fontMetrics(/px$/.test(t&&t.style.fontSize)?t.style.fontSize:h.fontSize||11).h};g--;)e.removeChild(s[g]);d&&!t.added&&this.box.appendChild(e),""===o[o.length-1]&&o.pop(),yi(o,function(n,o){var s,p=0;n=n.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),s=n.split("|||"),yi(s,function(n){if(""!==n||1===s.length){var f,g={},y=de.createElementNS(Ae,"tspan");if(r.test(n)&&(f=n.match(r)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),u(y,"style",f)),l.test(n)&&!a&&(u(y,"onclick",'location.href="'+n.match(l)[1]+'"'),m(y,{cursor:"pointer"})),n=(n.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">")," "!==n&&(y.appendChild(de.createTextNode(n)),p?g.dx=0:g.x=c,u(y,g),!p&&o&&(!Me&&a&&m(y,{display:"block"}),u(y,"dy",v(y),je&&y.offsetHeight)),e.appendChild(y),p++,d))for(var b,x,w,k=n.replace(/([^\^])-/g,"$1- ").split(" "),_=k.length>1&&"nowrap"!==h.whiteSpace,C=t._clipHeight,T=[],P=v(),S=1;_&&(k.length||T.length);)delete t.bBox,w=t.getBBox(),x=w.width,!Me&&i.forExport&&(x=i.measureSpanWidth(y.firstChild.data,t.styles)),b=x>d,b&&1!==k.length?(y.removeChild(y.firstChild),T.unshift(k.pop())):(k=T,T=[],k.length&&(S++,C&&S*P>C?(k=["..."],t.attr("title",t.textStr)):(y=de.createElementNS(Ae,"tspan"),u(y,{dy:P,x:c}),f&&u(y,"style",f),e.appendChild(y),x>d&&(d=x)))),k.length&&y.appendChild(de.createTextNode(k.join(" ").replace(/- /g,"-")))}})})},button:function(i,n,a,o,s,r,l,c,h){var d,u,p,f,m,g,v=this.label(i,n,a,h,null,null,null,null,"button"),y=0,b="style",x={x1:0,y1:0,x2:0,y2:1};return s=e({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:x,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},s),p=s[b],delete s[b],r=e(s,{stroke:"#68A",fill:{linearGradient:x,stops:[[0,"#FFF"],[1,"#ACF"]]}},r),f=r[b],delete r[b],l=e(s,{stroke:"#68A",fill:{linearGradient:x,stops:[[0,"#9BD"],[1,"#CDF"]]}},l),m=l[b],delete l[b],c=e(s,{style:{color:"#CCC"}},c),g=c[b],delete c[b],ki(v.element,Pe?"mouseover":"mouseenter",function(){3!==y&&v.attr(r).css(f)}),ki(v.element,Pe?"mouseout":"mouseleave",function(){3!==y&&(d=[s,r,l][y],u=[p,f,m][y],v.attr(d).css(u))}),v.setState=function(t){v.state=y=t,t?2===t?v.attr(l).css(m):3===t&&v.attr(c).css(g):v.attr(s).css(p)},v.on("click",function(){3!==y&&o.call(v)}).attr(s).css(t({cursor:"default"},p))},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=fe(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=fe(t[2])+e%2/2),t},path:function(e){var i={fill:Ue};return s(e)?i.d=e:o(e)&&t(i,e),this.createElement("path").attr(i)},circle:function(t,e,i){var n=o(t)?t:{x:t,y:e,r:i};return this.createElement("circle").attr(n)},arc:function(t,e,i,n,a,s){var r;return o(t)&&(e=t.y,i=t.r,n=t.innerR,a=t.start,s=t.end,t=t.x),r=this.symbol("arc",t||0,e||0,i||0,i||0,{innerR:n||0,start:a||0,end:s||0}),r.r=i,r},rect:function(t,e,i,n,a,s){a=o(t)?t.r:a;var r=this.createElement("rect").attr({rx:a,ry:a,fill:Ue});return r.attr(o(t)?t:r.crisp(s,t,e,ve(i,0),ve(n,0)))},setSize:function(t,e,i){var n=this,a=n.alignedObjects,o=a.length;for(n.width=t,n.height=e,n.boxWrapper[f(i,!0)?"animate":"attr"]({width:t,height:e});o--;)a[o].align()},g:function(t){var e=this.createElement("g");return d(t)?e.attr({"class":Ye+t}):e},image:function(e,i,n,a,o){var s,r={preserveAspectRatio:Ue};return arguments.length>1&&t(r,{x:i,y:n,width:a,height:o}),s=this.createElement("image").attr(r),s.element.setAttributeNS?s.element.setAttributeNS("http://www.w3.org/1999/xlink","href",e):s.element.setAttribute("hc-svg-href",e),s},symbol:function(e,i,n,a,o,s){var r,l,c,h,d,u=this.symbols[e],p=u&&u(fe(i),fe(n),a,o,s),f=/^url\((.*?)\)$/;return p?(r=this.path(p),t(r,{symbolName:e,x:i,y:n,width:a,height:o}),s&&t(r,s)):f.test(e)&&(d=function(t,e){t.element&&(t.attr({width:e[0],height:e[1]}),t.alignByTranslate||t.translate(fe((a-e[0])/2),fe((o-e[1])/2)))},c=e.match(f)[1],h=De[c],r=this.image(c).attr({x:i,y:n}),r.isImg=!0,h?d(r,h):(r.attr({width:0,height:0}),l=g("img",{onload:function(){d(r,De[c]=[this.width,this.height])},src:c}))),r},symbols:{circle:function(t,e,i,n){var a=.166*i;return[Qe,t+i/2,e,"C",t+i+a,e,t+i+a,e+n,t+i/2,e+n,"C",t-a,e+n,t-a,e,t+i/2,e,"Z"]},square:function(t,e,i,n){return[Qe,t,e,Ze,t+i,e,t+i,e+n,t,e+n,"Z"]},triangle:function(t,e,i,n){return[Qe,t+i/2,e,Ze,t+i,e+n,t,e+n,"Z"]},"triangle-down":function(t,e,i,n){return[Qe,t,e,Ze,t+i,e,t+i/2,e+n,"Z"]},diamond:function(t,e,i,n){return[Qe,t+i/2,e,Ze,t+i,e+n/2,t+i/2,e+n,t,e+n/2,"Z"]},arc:function(t,e,i,n,a){var o=a.start,s=a.r||i||n,r=a.end-.001,l=a.innerR,c=a.open,h=xe(o),d=we(o),u=xe(r),p=we(r),f=a.end-o<ke?0:1;return[Qe,t+s*h,e+s*d,"A",s,s,0,f,1,t+s*u,e+s*p,c?Qe:Ze,t+l*u,e+l*p,"A",l,l,0,f,0,t+l*h,e+l*d,c?"":"Z"]}},clipRect:function(t,e,i,n){var a,o=Ye+ze++,s=this.createElement("clipPath").attr({id:o}).add(this.defs);return a=this.rect(t,e,i,n,0).add(s),a.id=o,a.clipPath=s,a},color:function(t,i,n){var a,o,r,l,c,h,p,f,m,g,v,y=this,b=/^rgba/,x=[];if(t&&t.linearGradient?o="linearGradient":t&&t.radialGradient&&(o="radialGradient"),o){r=t[o],l=y.gradients,h=t.stops,m=i.radialReference,s(r)&&(t[o]=r={x1:r[0],y1:r[1],x2:r[2],y2:r[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===o&&m&&!d(r.gradientUnits)&&(r=e(r,{cx:m[0]-m[2]/2+r.cx*m[2],cy:m[1]-m[2]/2+r.cy*m[2],r:r.r*m[2],gradientUnits:"userSpaceOnUse"}));for(g in r)"id"!==g&&x.push(g,r[g]);for(g in h)x.push(h[g]);return x=x.join(","),l[x]?v=l[x].id:(r.id=v=Ye+ze++,l[x]=c=y.createElement(o).attr(r).add(y.defs),c.stops=[],yi(h,function(t){var e;b.test(t[1])?(a=Ii(t[1]),p=a.get("rgb"),f=a.get("a")):(p=t[1],f=1),e=y.createElement("stop").attr({offset:t[0],"stop-color":p,"stop-opacity":f}).add(c),c.stops.push(e)})),"url("+y.url+"#"+v+")"}return b.test(t)?(a=Ii(t),u(i,n+"-opacity",a.get("a")),a.get("rgb")):(i.removeAttribute(n+"-opacity"),t)},text:function(t,e,i,n){var a,o=this,s=Y.chart.style,r=Ie||!Me&&o.forExport;return n&&!o.forExport?o.html(t,e,i):(e=fe(f(e,0)),i=fe(f(i,0)),a=o.createElement("text").attr({x:e,y:i,text:t}).css({fontFamily:s.fontFamily,fontSize:s.fontSize}),r&&a.css({position:qe}),a.x=e,a.y=i,a)},fontMetrics:function(t){t=n(t||11);var e=24>t?t+4:fe(1.2*t),i=fe(.8*e);return{h:e,b:i}},label:function(i,n,a,o,s,r,l,c,h){function u(){var t,i,n=P.element.style;v=(void 0===y||void 0===b||T.styles.textAlign)&&P.getBBox(),T.width=(y||v.width||0)+2*j+L,T.height=(b||v.height||0)+2*j,k=j+C.fontMetrics(n&&n.fontSize).b,_&&(g||(t=fe(-S*j),i=c?-k:0,T.box=g=o?C.symbol(o,t,i,T.width,T.height,A):C.rect(t,i,T.width,T.height,0,A[di]),g.add(T)),g.isImg||g.attr(e({width:T.width,height:T.height},A)),A=null)}function p(){var t,e=T.styles,i=e&&e.textAlign,n=L+j*(1-S);t=c?0:k,!d(y)||"center"!==i&&"right"!==i||(n+={center:.5,right:1}[i]*(y-v.width)),(n!==P.x||t!==P.y)&&P.attr({x:n,y:t}),P.x=n,P.y=t}function f(t,e){g?g.attr(t,e):A[t]=e}function m(){P.add(T),T.attr({text:i,x:n,y:a}),g&&d(s)&&T.attr({anchorX:s,anchorY:r})}var g,v,y,b,x,w,k,_,C=this,T=C.g(h),P=C.text("",0,0,l).attr({zIndex:1}),S=0,j=3,L=0,E=0,A={},M=T.attrSetters;ki(T,"add",m),M.width=function(t){return y=t,!1},M.height=function(t){return b=t,!1},M.padding=function(t){return d(t)&&t!==j&&(j=t,p()),!1},M.paddingLeft=function(t){return d(t)&&t!==L&&(L=t,p()),!1},M.align=function(t){return S={left:0,center:.5,right:1}[t],!1},M.text=function(t,e){return P.attr(e,t),u(),p(),!1},M[di]=function(t,e){return _=!0,E=t%2/2,f(e,t),!1},M.stroke=M.fill=M.r=function(t,e){return"fill"===e&&(_=!0),f(e,t),!1},M.anchorX=function(t,e){return s=t,f(e,t+E-x),!1},M.anchorY=function(t,e){return r=t,f(e,t-w),!1},M.x=function(t){return T.x=t,t-=S*((y||v.width)+j),x=fe(t),T.attr("translateX",x),!1},M.y=function(t){return w=T.y=fe(t),T.attr("translateY",w),!1};var O=T.css;return t(T,{css:function(t){if(t){var i={};t=e(t),yi(["fontSize","fontWeight","fontFamily","color","lineHeight","width","textDecoration","textShadow"],function(e){t[e]!==q&&(i[e]=t[e],delete t[e])}),P.css(i)}return O.call(T,t)},getBBox:function(){return{width:v.width+2*j,height:v.height+2*j,x:v.x-j,y:v.y-j}},shadow:function(t){return g&&g.shadow(t),T},destroy:function(){_i(T,"add",m),_i(T.element,"mouseenter"),_i(T.element,"mouseleave"),P&&(P=P.destroy()),g&&(g=g.destroy()),z.prototype.destroy.call(T),T=C=u=p=f=m=null}})}},$=Ri,t(z.prototype,{htmlCss:function(e){var i=this,n=i.element,a=e&&"SPAN"===n.tagName&&e.width;return a&&(delete e.width,i.textWidth=a,i.updateTransform()),i.styles=t(i.styles,e),m(i.element,e),i},htmlGetBBox:function(){var t=this,e=t.element,i=t.bBox;return i||("text"===e.nodeName&&(e.style.position=qe),i=t.bBox={x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}),i},htmlUpdateTransform:function(){if(!this.added)return void(this.alignOnAdd=!0);var t=this,e=t.renderer,i=t.element,a=t.translateX||0,o=t.translateY||0,s=t.x||0,r=t.y||0,l=t.textAlign||"left",c={left:0,center:.5,right:1}[l],h=t.shadows;if(m(i,{marginLeft:a,marginTop:o}),h&&yi(h,function(t){m(t,{marginLeft:a+1,marginTop:o+1})}),t.inverted&&yi(i.childNodes,function(t){e.invertChild(t,i)}),"SPAN"===i.tagName){var u,p,g=t.rotation,v=n(t.textWidth),y=[g,l,i.innerHTML,t.textWidth].join(",");y!==t.cTT&&(p=e.fontMetrics(i.style.fontSize).b,d(g)&&t.setSpanRotation(g,c,p),u=f(t.elemWidth,i.offsetWidth),u>v&&/[ \-]/.test(i.textContent||i.innerText)&&(m(i,{width:v+Ge,display:"block",whiteSpace:"normal"}),u=v),t.getSpanCorrection(u,p,c,g,l)),m(i,{left:s+(t.xCorr||0)+Ge,top:r+(t.yCorr||0)+Ge}),je&&(p=i.offsetHeight),t.cTT=y}},setSpanRotation:function(t,e,i){var n={},a=Pe?"-ms-transform":je?"-webkit-transform":Le?"MozTransform":Te?"-o-transform":"";n[a]=n.transform="rotate("+t+"deg)",n[a+(Le?"Origin":"-origin")]=100*e+"% "+i+"px",m(this.element,n)},getSpanCorrection:function(t,e,i){this.xCorr=-t*i,this.yCorr=-e}}),t(Ri.prototype,{html:function(e,i,n){var a=Y.chart.style,o=this.createElement("span"),s=o.attrSetters,r=o.element,l=o.renderer;return s.text=function(t){return t!==r.innerHTML&&delete this.bBox,r.innerHTML=t,!1},s.x=s.y=s.align=s.rotation=function(t,e){return"align"===e&&(e="textAlign"),o[e]=t,o.htmlUpdateTransform(),!1},o.attr({text:e,x:fe(i),y:fe(n)}).css({position:qe,whiteSpace:"nowrap",fontFamily:a.fontFamily,fontSize:a.fontSize}),o.css=o.htmlCss,l.isSVG&&(o.add=function(e){var i,n,a=l.box.parentNode,s=[];if(this.parentGroup=e,e){if(i=e.div,!i){for(n=e;n;)s.push(n),n=n.parentGroup;yi(s.reverse(),function(e){var n;i=e.div=e.div||g(We,{className:u(e.element,"class")},{position:qe,left:(e.translateX||0)+Ge,top:(e.translateY||0)+Ge},i||a),n=i.style,t(e.attrSetters,{translateX:function(t){n.left=t+Ge},translateY:function(t){n.top=t+Ge},visibility:function(t,e){n[e]=t}})})}}else i=a;return i.appendChild(r),o.added=!0,o.alignOnAdd&&o.htmlUpdateTransform(),o}),o}});var Di,zi;if(!Me&&!Ie){Highcharts.VMLElement=zi={init:function(t,e){var i=this,n=["<",e,' filled="f" stroked="f"'],a=["position: ",qe,";"],o=e===We;("shape"===e||o)&&a.push("left:0;top:0;width:1px;height:1px;"),a.push("visibility: ",o?Ve:Xe),n.push(' style="',a.join(""),'"/>'),e&&(n=o||"span"===e||"img"===e?n.join(""):t.prepVML(n),i.element=g(n)),i.renderer=t,i.attrSetters={}},add:function(t){var e=this,i=e.renderer,n=e.element,a=i.box,o=t&&t.inverted,s=t?t.element||t:a;return o&&i.invertChild(n,s),s.appendChild(n),e.added=!0,e.alignOnAdd&&!e.deferUpdateTransform&&e.updateTransform(),Ci(e,"add"),e},updateTransform:z.prototype.htmlUpdateTransform,setSpanRotation:function(){var t=this.rotation,e=xe(t*_e),i=we(t*_e);m(this.element,{filter:t?["progid:DXImageTransform.Microsoft.Matrix(M11=",e,", M12=",-i,", M21=",i,", M22=",e,", sizingMethod='auto expand')"].join(""):Ue})},getSpanCorrection:function(t,e,i,n,a){var o,s=n?xe(n*_e):1,r=n?we(n*_e):0,l=f(this.elemHeight,this.element.offsetHeight),c=a&&"left"!==a;this.xCorr=0>s&&-t,this.yCorr=0>r&&-l,o=0>s*r,this.xCorr+=r*e*(o?1-i:i),this.yCorr-=s*e*(n?o?i:1-i:1),c&&(this.xCorr-=t*i*(0>s?-1:1),n&&(this.yCorr-=l*i*(0>r?-1:1)),m(this.element,{textAlign:a}))},pathToVML:function(t){for(var e=t.length,i=[];e--;)r(t[e])?i[e]=fe(10*t[e])-5:"Z"===t[e]?i[e]="x":(i[e]=t[e],!t.isArc||"wa"!==t[e]&&"at"!==t[e]||(i[e+5]===i[e+7]&&(i[e+7]+=t[e+7]>t[e+5]?1:-1),i[e+6]===i[e+8]&&(i[e+8]+=t[e+8]>t[e+6]?1:-1)));return i.join(" ")||"x"},attr:function(t,e){var i,n,o,s,l,c,h=this,p=h.element||{},f=p.style,m=p.nodeName,v=h.renderer,y=h.symbolName,b=h.shadows,x=h.attrSetters,w=h;if(a(t)&&d(e)&&(i=t,t={},t[i]=e),a(t))i=t,w="strokeWidth"===i||"stroke-width"===i?h.strokeweight:h[i];else for(i in t)if(n=t[i],c=!1,s=x[i]&&x[i].call(h,n,i),s!==!1&&null!==n){if(s!==q&&(n=s),y&&/^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(i))l||(h.symbolAttr(t),l=!0),c=!0;else if("d"===i){if(n=n||[],h.d=n.join(" "),p.path=n=h.pathToVML(n),b)for(o=b.length;o--;)b[o].path=b[o].cutOff?this.cutOffPath(n,b[o].cutOff):n;c=!0}else if("visibility"===i){if(b)for(o=b.length;o--;)b[o].style[i]=n;"DIV"===m&&(n=n===Ve?"-999em":0,Se||(f[i]=n?Xe:Ve),i="top"),f[i]=n,c=!0}else if("zIndex"===i)n&&(f[i]=n),c=!0;else if(-1!==vi(i,["x","y","width","height"]))h[i]=n,"x"===i||"y"===i?i={x:"left",y:"top"}[i]:n=ve(0,n),h.updateClipping?(h[i]=n,h.updateClipping()):f[i]=n,c=!0;else if("class"===i&&"DIV"===m)p.className=n;else if("stroke"===i)n=v.color(n,p,i),i="strokecolor";else if("stroke-width"===i||"strokeWidth"===i)p.stroked=n?!0:!1,i="strokeweight",h[i]=n,r(n)&&(n+=Ge);else if("dashstyle"===i){var k=p.getElementsByTagName("stroke")[0]||g(v.prepVML(["<stroke/>"]),null,null,p);k[i]=n||"solid",h.dashstyle=n,c=!0}else"fill"===i?"SPAN"===m?f.color=n:"IMG"!==m&&(p.filled=n!==Ue?!0:!1,n=v.color(n,p,i,h),i="fillcolor"):"opacity"===i?c=!0:"shape"===m&&"rotation"===i?(h[i]=p.style[i]=n,p.style.left=-fe(we(n*_e)+1)+Ge,p.style.top=fe(xe(n*_e))+Ge):("translateX"===i||"translateY"===i||"rotation"===i)&&(h[i]=n,h.updateTransform(),c=!0);c||(Se?p[i]=n:u(p,i,n))}return w},clip:function(t){var e,i,n=this;return t?(e=t.members,h(e,n),e.push(n),n.destroyClip=function(){h(e,n)},i=t.getCSS(n)):(n.destroyClip&&n.destroyClip(),i={clip:Se?"inherit":"rect(auto)"}),n.css(i)},css:z.prototype.htmlCss,safeRemoveChild:function(t){t.parentNode&&E(t)},destroy:function(){return this.destroyClip&&this.destroyClip(),z.prototype.destroy.apply(this)},on:function(t,e){return this.element["on"+t]=function(){var t=ue.event;t.target=t.srcElement,e(t)},this},cutOffPath:function(t,e){var i;return t=t.split(/[ ,]/),i=t.length,(9===i||11===i)&&(t[i-4]=t[i-2]=n(t[i-2])-10*e),t.join(" ")},shadow:function(t,e,i){var a,o,s,r,l,c,h,d=[],u=this.element,p=this.renderer,m=u.style,v=u.path;if(v&&"string"!=typeof v.value&&(v="x"),l=v,t){for(c=f(t.width,3),h=(t.opacity||.15)/c,a=1;3>=a;a++)r=2*c+1-2*a,i&&(l=this.cutOffPath(v.value,r+.5)),s=['<shape isShadow="true" strokeweight="',r,'" filled="false" path="',l,'" coordsize="10 10" style="',u.style.cssText,'" />'],o=g(p.prepVML(s),null,{left:n(m.left)+f(t.offsetX,1),top:n(m.top)+f(t.offsetY,1)}),i&&(o.cutOff=r+1),s=['<stroke color="',t.color||"black",'" opacity="',h*a,'"/>'],g(p.prepVML(s),null,null,o),e?e.element.appendChild(o):u.parentNode.insertBefore(o,u),d.push(o);this.shadows=d}return this}},zi=v(z,zi);var Bi={Element:zi,isIE8:Ce.indexOf("MSIE 8.0")>-1,init:function(t,e,i){var n,a,o,s=this;if(s.alignedObjects=[],n=s.createElement(We),a=n.element,a.style.position=$e,t.appendChild(n.element),s.isVML=!0,s.box=a,s.boxWrapper=n,s.cache={},s.setSize(e,i,!1),!de.namespaces.hcv){de.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),o="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ";try{de.createStyleSheet().cssText=o}catch(r){de.styleSheets[0].cssText+=o}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(e,i,n,a){var s=this.createElement(),r=o(e);return t(s,{members:[],left:(r?e.x:e)+1,top:(r?e.y:i)+1,width:(r?e.width:n)-1,height:(r?e.height:a)-1,getCSS:function(e){var i=e.element,n=i.nodeName,a="shape"===n,o=e.inverted,s=this,r=s.top-(a?i.offsetTop:0),l=s.left,c=l+s.width,h=r+s.height,d={clip:"rect("+fe(o?l:r)+"px,"+fe(o?h:c)+"px,"+fe(o?c:h)+"px,"+fe(o?r:l)+"px)"};return!o&&Se&&"DIV"===n&&t(d,{width:c+Ge,height:h+Ge}),d},updateClipping:function(){yi(s.members,function(t){t.css(s.getCSS(t))})}})},color:function(t,e,i,n){var a,o,s,r=this,l=/^rgba/,c=Ue;if(t&&t.linearGradient?s="gradient":t&&t.radialGradient&&(s="pattern"),s){var h,d,u,p,f,m,v,y,b,x,w,k,_=t.linearGradient||t.radialGradient,C="",T=t.stops,P=[],S=function(){o=['<fill colors="'+P.join(",")+'" opacity="',y,'" o:opacity2="',v,'" type="',s,'" ',C,'focus="100%" method="any" />'],g(r.prepVML(o),null,null,e)};if(w=T[0],k=T[T.length-1],w[0]>0&&T.unshift([0,w[1]]),k[0]<1&&T.push([1,k[1]]),yi(T,function(t,e){l.test(t[1])?(a=Ii(t[1]),h=a.get("rgb"),d=a.get("a")):(h=t[1],d=1),P.push(100*t[0]+"% "+h),e?(y=d,b=h):(v=d,x=h)}),"fill"===i)if("gradient"===s)u=_.x1||_[0]||0,p=_.y1||_[1]||0,f=_.x2||_[2]||0,m=_.y2||_[3]||0,C='angle="'+(90-180*pe.atan((m-p)/(f-u))/ke)+'"',S();else{var j,L=_.r,E=2*L,A=2*L,M=_.cx,O=_.cy,I=e.radialReference,R=function(){I&&(j=n.getBBox(),M+=(I[0]-j.x)/j.width-.5,O+=(I[1]-j.y)/j.height-.5,E*=I[2]/j.width,A*=I[2]/j.height),C='src="'+Y.global.VMLRadialGradientURL+'" size="'+E+","+A+'" origin="0.5,0.5" position="'+M+","+O+'" color2="'+x+'" ',S()};n.added?R():ki(n,"add",R),c=b}else c=h}else if(l.test(t)&&"IMG"!==e.tagName)a=Ii(t),o=["<",i,' opacity="',a.get("a"),'"/>'],g(this.prepVML(o),null,null,e),c=a.get("rgb");else{var D=e.getElementsByTagName(i);D.length&&(D[0].opacity=1,D[0].type="solid"),c=t}return c},prepVML:function(t){var e="display:inline-block;behavior:url(#default#VML);",i=this.isIE8;return t=t.join(""),i?(t=t.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),t=-1===t.indexOf('style="')?t.replace("/>",' style="'+e+'" />'):t.replace('style="','style="'+e)):t=t.replace("<","<hcv:"),t},text:Ri.prototype.html,path:function(e){var i={coordsize:"10 10"};return s(e)?i.d=e:o(e)&&t(i,e),this.createElement("shape").attr(i)},circle:function(t,e,i){var n=this.symbol("circle");return o(t)&&(i=t.r,e=t.y,t=t.x),n.isCircle=!0,n.r=i,n.attr({x:t,y:e})},g:function(t){var e,i;return t&&(i={className:Ye+t,"class":Ye+t}),e=this.createElement(We).attr(i)},image:function(t,e,i,n,a){var o=this.createElement("img").attr({src:t});return arguments.length>1&&o.attr({x:e,y:i,width:n,height:a}),o},rect:function(t,e,i,n,a,s){var r=this.symbol("rect");return r.r=o(t)?t.r:a,r.attr(o(t)?t:r.crisp(s,t,e,ve(i,0),ve(n,0)))},invertChild:function(t,e){var i=e.style;m(t,{flip:"x",left:n(i.width)-1,top:n(i.height)-1,rotation:-90})},symbols:{arc:function(t,e,i,n,a){var o,s=a.start,r=a.end,l=a.r||i||n,c=a.innerR,h=xe(s),d=we(s),u=xe(r),p=we(r);return r-s===0?["x"]:(o=["wa",t-l,e-l,t+l,e+l,t+l*h,e+l*d,t+l*u,e+l*p],a.open&&!c&&o.push("e",Qe,t,e),o.push("at",t-c,e-c,t+c,e+c,t+c*u,e+c*p,t+c*h,e+c*d,"x","e"),o.isArc=!0,o)},circle:function(t,e,i,n,a){return a&&(i=n=2*a.r),a&&a.isCircle&&(t-=i/2,e-=n/2),["wa",t,e,t+i,e+n,t+i,e+n/2,t+i,e+n/2,"e"]},rect:function(t,e,i,n,a){var o,s,r=t+i,l=e+n;return d(a)&&a.r?(s=ye(a.r,i,n),o=[Qe,t+s,e,Ze,r-s,e,"wa",r-2*s,e,r,e+2*s,r-s,e,r,e+s,Ze,r,l-s,"wa",r-2*s,l-2*s,r,l,r,l-s,r-s,l,Ze,t+s,l,"wa",t,l-2*s,t+2*s,l,t+s,l,t,l-s,Ze,t,e+s,"wa",t,e,t+2*s,e+2*s,t,e+s,t+s,e,"x","e"]):o=Ri.prototype.symbols.square.apply(0,arguments),o}}};Highcharts.VMLRenderer=Di=function(){this.init.apply(this,arguments)},Di.prototype=e(Ri.prototype,Bi),$=Di}Ri.prototype.measureSpanWidth=function(t,e){var i,n=de.createElement("span"),a=de.createTextNode(t);return n.appendChild(a),m(n,e),this.box.appendChild(n),i=n.offsetWidth,E(n),i};var Fi,Hi;Ie&&(Highcharts.CanVGRenderer=Fi=function(){Ae="http://www.w3.org/1999/xhtml"},Fi.prototype.symbols={},Hi=function(){function t(){var t,i=e.length;for(t=0;i>t;t++)e[t]();e=[]}var e=[];return{push:function(i,n){0===e.length&&gi(n,t),e.push(i)}}}(),$=Fi),B.prototype={addLabel:function(){var e,i,n,a,o=this,s=o.axis,l=s.options,h=s.chart,u=s.horiz,p=s.categories,m=s.names,g=o.pos,v=l.labels,y=s.tickPositions,b=u&&p&&!v.step&&!v.staggerLines&&!v.rotation&&h.plotWidth/y.length||!u&&(h.margin[3]||.33*h.chartWidth),x=g===y[0],w=g===y[y.length-1],k=p?f(p[g],m[g],g):g,_=o.label,C=y.info;s.isDatetimeAxis&&C&&(a=l.dateTimeLabelFormats[C.higherRanks[g]||C.unitName]),o.isFirst=x,o.isLast=w,e=s.labelFormatter.call({axis:s,chart:h,isFirst:x,isLast:w,dateTimeLabelFormat:a,value:s.isLog?M(c(k)):k}),i=b&&{width:ve(1,fe(b-2*(v.padding||10)))+Ge},i=t(i,v.style),d(_)?_&&_.attr({text:e}).css(i):(n={align:s.labelAlign},r(v.rotation)&&(n.rotation=v.rotation),b&&v.ellipsis&&(n._clipHeight=s.len/y.length),o.label=d(e)&&v.enabled?h.renderer.text(e,0,0,v.useHTML).attr(n).css(i).add(s.labelGroup):null)},getLabelSize:function(){var t=this.label,e=this.axis;return t?t.getBBox()[e.horiz?"height":"width"]:0},getLabelSides:function(){var t=this.label.getBBox(),e=this.axis,i=e.horiz,n=e.options,a=n.labels,o=i?t.width:t.height,s=i?o*{left:0,center:.5,right:1}[e.labelAlign]-a.x:o;return[-s,o-s]},handleOverflow:function(t,e){var i,n,a=!0,o=this.axis,s=this.isFirst,r=this.isLast,l=o.horiz,c=l?e.x:e.y,h=o.reversed,d=o.tickPositions,u=this.getLabelSides(),p=u[0],f=u[1],m=o.pos,g=m+o.len,v=this.label.line||0,y=o.labelEdge,b=o.justifyLabels&&(s||r);return y[v]===q||c+p>y[v]?y[v]=c+f:b||(a=!1),b&&(i=o.ticks[d[t+(s?1:-1)]],n=i&&i.label.xy&&i.label.xy.x+i.getLabelSides()[s?0:1],s&&!h||r&&h?m>c+p&&(c=m-p,i&&c+f>n&&(a=!1)):c+f>g&&(c=g-f,i&&n>c+p&&(a=!1)),e.x=c),a},getPosition:function(t,e,i,n){var a=this.axis,o=a.chart,s=n&&o.oldChartHeight||o.chartHeight;return{x:t?a.translate(e+i,null,null,n)+a.transB:a.left+a.offset+(a.opposite?(n&&o.oldChartWidth||o.chartWidth)-a.right-a.left:0),y:t?s-a.bottom+a.offset-(a.opposite?a.height:0):s-a.translate(e+i,null,null,n)-a.transB}},getLabelPosition:function(t,e,i,n,a,o,s,r){var l=this.axis,c=l.transA,h=l.reversed,u=l.staggerLines,p=l.chart.renderer.fontMetrics(a.style.fontSize).b,f=a.rotation;return t=t+a.x-(o&&n?o*c*(h?-1:1):0),e=e+a.y-(o&&!n?o*c*(h?1:-1):0),f&&2===l.side&&(e-=p-p*xe(f*_e)),d(a.y)||f||(e+=p-i.getBBox().height/2),u&&(i.line=s/(r||1)%u,e+=i.line*(l.labelOffset/u)),{x:t,y:e}},getMarkPath:function(t,e,i,n,a,o){return o.crispLine([Qe,t,e,Ze,t+(a?0:-i),e+(a?i:0)],n)},render:function(t,e,i){var n,a,o,s=this,r=s.axis,l=r.options,c=r.chart,h=c.renderer,d=r.horiz,u=s.type,p=s.label,m=s.pos,g=l.labels,v=s.gridLine,y=u?u+"Grid":"grid",b=u?u+"Tick":"tick",x=l[y+"LineWidth"],w=l[y+"LineColor"],k=l[y+"LineDashStyle"],_=l[b+"Length"],C=l[b+"Width"]||0,T=l[b+"Color"],P=l[b+"Position"],S=s.mark,j=g.step,L=!0,E=r.tickmarkOffset,A=s.getPosition(d,m,E,e),M=A.x,O=A.y,I=d&&M===r.pos+r.len||!d&&O===r.pos?-1:1;this.isActive=!0,x&&(n=r.getPlotLinePath(m+E,x*I,e,!0),v===q&&(o={stroke:w,"stroke-width":x},k&&(o.dashstyle=k),u||(o.zIndex=1),e&&(o.opacity=0),s.gridLine=v=x?h.path(n).attr(o).add(r.gridGroup):null),!e&&v&&n&&v[s.isNew?"attr":"animate"]({d:n,opacity:i})),C&&_&&("inside"===P&&(_=-_),r.opposite&&(_=-_),a=s.getMarkPath(M,O,_,C*I,d,h),S?S.animate({d:a,opacity:i}):s.mark=h.path(a).attr({stroke:T,"stroke-width":C,opacity:i}).add(r.axisGroup)),p&&!isNaN(M)&&(p.xy=A=s.getLabelPosition(M,O,p,d,g,E,t,j),s.isFirst&&!s.isLast&&!f(l.showFirstLabel,1)||s.isLast&&!s.isFirst&&!f(l.showLastLabel,1)?L=!1:r.isRadial||g.step||g.rotation||e||0===i||(L=s.handleOverflow(t,A)),j&&t%j&&(L=!1),L&&!isNaN(A.y)?(A.opacity=i,p[s.isNew?"attr":"animate"](A),s.isNew=!1):p.attr("y",-9999))},destroy:function(){L(this,this.axis)}};var Ni=function(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)};Ni.prototype={render:function(){var t,i,n,a,o,s,r,c=this,h=c.axis,u=h.horiz,p=(h.pointRange||0)/2,m=c.options,g=m.label,v=c.label,y=m.width,b=m.to,x=m.from,w=d(x)&&d(b),k=m.value,_=m.dashStyle,C=c.svgElem,T=[],P=m.color,L=m.zIndex,E=m.events,A=h.chart.renderer;if(h.isLog&&(x=l(x),b=l(b),k=l(k)),y)T=h.getPlotLinePath(k,y),r={stroke:P,"stroke-width":y},_&&(r.dashstyle=_);else{if(!w)return;x=ve(x,h.min-p),b=ye(b,h.max+p),T=h.getPlotBandPath(x,b,m),r={fill:P},m.borderWidth&&(r.stroke=m.borderColor,r["stroke-width"]=m.borderWidth)}if(d(L)&&(r.zIndex=L),C)T?C.animate({d:T},null,C.onGetPath):(C.hide(),C.onGetPath=function(){C.show()},v&&(c.label=v=v.destroy()));else if(T&&T.length&&(c.svgElem=C=A.path(T).attr(r).add(),E)){t=function(t){C.on(t,function(e){E[t].apply(c,[e])})};for(i in E)t(i)}return g&&d(g.text)&&T&&T.length&&h.width>0&&h.height>0?(g=e({align:u&&w&&"center",x:u?!w&&4:10,verticalAlign:!u&&w&&"middle",y:u?w?16:10:w?6:-4,rotation:u&&!w&&90},g),v||(c.label=v=A.text(g.text,0,0,g.useHTML).attr({align:g.textAlign||g.align,rotation:g.rotation,zIndex:L}).css(g.style).add()),n=[T[1],T[4],f(T[6],T[1])],a=[T[2],T[5],f(T[7],T[2])],o=S(n),s=S(a),v.align(g,!1,{x:o,y:s,width:j(n)-o,height:j(a)-s}),v.show()):v&&v.hide(),c},destroy:function(){h(this.axis.plotLinesAndBands,this),delete this.axis,L(this)}},Z={getPlotBandPath:function(t,e){var i=this.getPlotLinePath(e),n=this.getPlotLinePath(t);return n&&i?n.push(i[4],i[5],i[1],i[2]):n=null,n},addPlotBand:function(t){this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(t,e){var i=new Ni(this,t).render(),n=this.userOptions;return i&&(e&&(n[e]=n[e]||[],n[e].push(t)),this.plotLinesAndBands.push(i)),i},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,i=this.options,n=this.userOptions,a=e.length;a--;)e[a].id===t&&e[a].destroy();yi([i.plotLines||[],n.plotLines||[],i.plotBands||[],n.plotBands||[]],function(e){for(a=e.length;a--;)e[a].id===t&&h(e,e[a])})}},F.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:ji,lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#4d759e",fontWeight:"bold"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return y(this.total,-1)
},style:ji.style}},defaultLeftAxisOptions:{labels:{x:-8,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:8,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{x:0,y:14},title:{rotation:0}},defaultTopAxisOptions:{labels:{x:0,y:-5},title:{rotation:0}},init:function(t,e){var i=e.isX,n=this;n.horiz=t.inverted?!i:i,n.isXAxis=i,n.coll=i?"xAxis":"yAxis",n.opposite=e.opposite,n.side=e.side||(n.horiz?n.opposite?0:2:n.opposite?1:3),n.setOptions(e);var a=this.options,o=a.type,s="datetime"===o;n.labelFormatter=a.labels.formatter||n.defaultLabelFormatter,n.userOptions=e,n.minPixelPadding=0,n.chart=t,n.reversed=a.reversed,n.zoomEnabled=a.zoomEnabled!==!1,n.categories=a.categories||"category"===o,n.names=[],n.isLog="logarithmic"===o,n.isDatetimeAxis=s,n.isLinked=d(a.linkedTo),n.tickmarkOffset=n.categories&&"between"===a.tickmarkPlacement?.5:0,n.ticks={},n.labelEdge=[],n.minorTicks={},n.plotLinesAndBands=[],n.alternateBands={},n.len=0,n.minRange=n.userMinRange=a.minRange||a.maxZoom,n.range=a.range,n.offset=a.offset||0,n.stacks={},n.oldStacks={},n.stackExtremes={},n.max=null,n.min=null,n.crosshair=f(a.crosshair,p(t.options.tooltip.crosshairs)[i?0:1],!1);var r,h=n.options.events;-1===vi(n,t.axes)&&(t.axes.push(n),t[n.coll].push(n)),n.series=n.series||[],t.inverted&&i&&n.reversed===q&&(n.reversed=!0),n.removePlotBand=n.removePlotBandOrLine,n.removePlotLine=n.removePlotBandOrLine;for(r in h)ki(n,r,h[r]);n.isLog&&(n.val2lin=l,n.lin2val=c)},setOptions:function(t){this.options=e(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],e(Y[this.coll],t))},defaultLabelFormatter:function(){var t,e,i=this.axis,n=this.value,a=i.categories,o=this.dateTimeLabelFormat,s=Y.lang.numericSymbols,r=s&&s.length,l=i.options.labels.format,c=i.isLog?n:i.tickInterval;if(l)e=k(l,this);else if(a)e=n;else if(o)e=X(o,n);else if(r&&c>=1e3)for(;r--&&e===q;)t=Math.pow(1e3,r+1),c>=t&&null!==s[r]&&(e=y(n/t,-1)+s[r]);return e===q&&(e=n>=1e4?y(n,0):y(n,-1,q,"")),e},getSeriesExtremes:function(){var t=this,e=t.chart;t.hasVisibleSeries=!1,t.dataMin=t.dataMax=null,t.stackExtremes={},t.buildStacks(),yi(t.series,function(i){if(i.visible||!e.options.chart.ignoreHiddenSeries){var n,a,o,s=i.options,r=s.threshold;t.hasVisibleSeries=!0,t.isLog&&0>=r&&(r=null),t.isXAxis?(n=i.xData,n.length&&(t.dataMin=ye(f(t.dataMin,n[0]),S(n)),t.dataMax=ve(f(t.dataMax,n[0]),j(n)))):(i.getExtremes(),o=i.dataMax,a=i.dataMin,d(a)&&d(o)&&(t.dataMin=ye(f(t.dataMin,a),a),t.dataMax=ve(f(t.dataMax,o),o)),d(r)&&(t.dataMin>=r?(t.dataMin=r,t.ignoreMinPadding=!0):t.dataMax<r&&(t.dataMax=r,t.ignoreMaxPadding=!0)))}})},translate:function(t,e,i,n,a,o){var s,l=this,c=l.len,h=1,d=0,u=n?l.oldTransA:l.transA,p=n?l.oldMin:l.min,f=l.minPixelPadding,m=(l.options.ordinal||l.isLog&&a)&&l.lin2val;return u||(u=l.transA),i&&(h*=-1,d=c),l.reversed&&(h*=-1,d-=h*c),e?(t=t*h+d,t-=f,s=t/u+p,m&&(s=l.lin2val(s))):(m&&(t=l.val2lin(t)),"between"===o&&(o=.5),s=h*(t-p)*u+d+h*f+(r(o)?u*o*l.pointRange:0)),s},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,i,n,a){var o,s,r,l,c,h=this,d=h.chart,u=h.left,p=h.top,m=i&&d.oldChartHeight||d.chartHeight,g=i&&d.oldChartWidth||d.chartWidth,v=h.transB;return a=f(a,h.translate(t,null,null,i)),o=r=fe(a+v),s=l=fe(m-a-v),isNaN(a)?c=!0:h.horiz?(s=p,l=m-h.bottom,(u>o||o>u+h.width)&&(c=!0)):(o=u,r=g-h.right,(p>s||s>p+h.height)&&(c=!0)),c&&!n?null:d.renderer.crispLine([Qe,o,s,Ze,r,l],e||1)},getLinearTickPositions:function(t,e,i){var n,a,o=M(me(e/t)*t),s=M(ge(i/t)*t),r=[];for(n=o;s>=n&&(r.push(n),n=M(n+t),n!==a);)a=n;return r},getMinorTickPositions:function(){var t,e,i,n=this,a=n.options,o=n.tickPositions,s=n.minorTickInterval,r=[];if(n.isLog)for(i=o.length,e=1;i>e;e++)r=r.concat(n.getLogTickPositions(s,o[e-1],o[e],!0));else if(n.isDatetimeAxis&&"auto"===a.minorTickInterval)r=r.concat(n.getTimeTicks(n.normalizeTimeTickInterval(s),n.min,n.max,a.startOfWeek)),r[0]<n.min&&r.shift();else for(t=n.min+(o[0]-n.min)%s;t<=n.max;t+=s)r.push(t);return r},adjustForMinRange:function(){var t,e,i,n,a,o,s,r,l=this,c=l.options,h=l.min,u=l.max,p=l.dataMax-l.dataMin>=l.minRange;if(l.isXAxis&&l.minRange===q&&!l.isLog&&(d(c.min)||d(c.max)?l.minRange=null:(yi(l.series,function(t){for(a=t.xData,o=t.xIncrement?1:a.length-1,i=o;i>0;i--)n=a[i]-a[i-1],(e===q||e>n)&&(e=n)}),l.minRange=ye(5*e,l.dataMax-l.dataMin))),u-h<l.minRange){var m=l.minRange;t=(m-u+h)/2,s=[h-t,f(c.min,h-t)],p&&(s[2]=l.dataMin),h=j(s),r=[h+m,f(c.max,h+m)],p&&(r[2]=l.dataMax),u=S(r),m>u-h&&(s[0]=u-m,s[1]=f(c.min,u-m),h=j(s))}l.min=h,l.max=u},setAxisTranslation:function(t){var e,i,n=this,o=n.max-n.min,s=0,r=0,l=0,c=n.linkedParent,h=!!n.categories,u=n.transA;(n.isXAxis||h)&&(c?(r=c.minPointOffset,l=c.pointRangePadding):yi(n.series,function(t){var i=ve(t.pointRange,+h),n=t.options.pointPlacement,c=t.closestPointRange;i>o&&(i=0),s=ve(s,i),r=ve(r,a(n)?0:i/2),l=ve(l,"on"===n?0:i),!t.noSharedTooltip&&d(c)&&(e=d(e)?ye(e,c):c)}),i=n.ordinalSlope&&e?n.ordinalSlope/e:1,n.minPointOffset=r*=i,n.pointRangePadding=l*=i,n.pointRange=ye(s,o),n.closestPointRange=e),t&&(n.oldTransA=u),n.translationSlope=n.transA=u=n.len/(o+l||1),n.transB=n.horiz?n.left:n.bottom,n.minPixelPadding=u*r},setTickPositions:function(t){var e,i,n,a,o=this,s=o.chart,r=o.options,c=o.isLog,h=o.isDatetimeAxis,u=o.isXAxis,p=o.isLinked,m=o.options.tickPositioner,g=r.maxPadding,v=r.minPadding,y=r.tickInterval,b=r.minTickInterval,x=r.tickPixelInterval,w=o.categories;if(p?(o.linkedParent=s[o.coll][r.linkedTo],i=o.linkedParent.getExtremes(),o.min=f(i.min,i.dataMin),o.max=f(i.max,i.dataMax),r.type!==o.linkedParent.options.type&&A(11,1)):(o.min=f(o.userMin,r.min,o.dataMin),o.max=f(o.userMax,r.max,o.dataMax)),c&&(!t&&ye(o.min,f(o.dataMin,o.min))<=0&&A(10,1),o.min=M(l(o.min)),o.max=M(l(o.max))),o.range&&d(o.max)&&(o.userMin=o.min=ve(o.min,o.max-o.range),o.userMax=o.max,o.range=null),o.beforePadding&&o.beforePadding(),o.adjustForMinRange(),w||o.usePercentage||p||!d(o.min)||!d(o.max)||(e=o.max-o.min,e&&(d(r.min)||d(o.userMin)||!v||!(o.dataMin<0)&&o.ignoreMinPadding||(o.min-=e*v),d(r.max)||d(o.userMax)||!g||!(o.dataMax>0)&&o.ignoreMaxPadding||(o.max+=e*g))),o.min===o.max||void 0===o.min||void 0===o.max?o.tickInterval=1:p&&!y&&x===o.linkedParent.options.tickPixelInterval?o.tickInterval=o.linkedParent.tickInterval:(o.tickInterval=f(y,w?1:(o.max-o.min)*x/ve(o.len,x)),!d(y)&&o.len<x&&!this.isRadial&&!w&&r.startOnTick&&r.endOnTick&&(a=!0,o.tickInterval/=4)),u&&!t&&yi(o.series,function(t){t.processData(o.min!==o.oldMin||o.max!==o.oldMax)}),o.setAxisTranslation(!0),o.beforeSetTickPositions&&o.beforeSetTickPositions(),o.postProcessTickInterval&&(o.tickInterval=o.postProcessTickInterval(o.tickInterval)),o.pointRange&&(o.tickInterval=ve(o.pointRange,o.tickInterval)),!y&&o.tickInterval<b&&(o.tickInterval=b),h||c||y||(o.tickInterval=C(o.tickInterval,null,_(o.tickInterval),r)),o.minorTickInterval="auto"===r.minorTickInterval&&o.tickInterval?o.tickInterval/5:r.minorTickInterval,o.tickPositions=n=r.tickPositions?[].concat(r.tickPositions):m&&m.apply(o,[o.min,o.max]),n||(!o.ordinalPositions&&(o.max-o.min)/o.tickInterval>ve(2*o.len,200)&&A(19,!0),n=h?o.getTimeTicks(o.normalizeTimeTickInterval(o.tickInterval,r.units),o.min,o.max,r.startOfWeek,o.ordinalPositions,o.closestPointRange,!0):c?o.getLogTickPositions(o.tickInterval,o.min,o.max):o.getLinearTickPositions(o.tickInterval,o.min,o.max),a&&n.splice(1,n.length-2),o.tickPositions=n),!p){var k,T=n[0],P=n[n.length-1],S=o.minPointOffset||0;r.startOnTick?o.min=T:o.min-S>T&&n.shift(),r.endOnTick?o.max=P:o.max+S<P&&n.pop(),1===n.length&&(k=.001,o.min-=k,o.max+=k)}},setMaxTicks:function(){var t=this.chart,e=t.maxTicks||{},i=this.tickPositions,n=this._maxTicksKey=[this.coll,this.pos,this.len].join("-");!this.isLinked&&!this.isDatetimeAxis&&i&&i.length>(e[n]||0)&&this.options.alignTicks!==!1&&(e[n]=i.length),t.maxTicks=e},adjustTickAmount:function(){var t=this,e=t.chart,i=t._maxTicksKey,n=t.tickPositions,a=e.maxTicks;if(a&&a[i]&&!t.isDatetimeAxis&&!t.categories&&!t.isLinked&&t.options.alignTicks!==!1&&this.min!==q){var o,s=t.tickAmount,r=n.length;if(t.tickAmount=o=a[i],o>r){for(;n.length<o;)n.push(M(n[n.length-1]+t.tickInterval));t.transA*=(r-1)/(o-1),t.max=n[n.length-1]}d(s)&&o!==s&&(t.isDirty=!0)}},setScale:function(){var t,e,i,n,a=this,o=a.stacks;if(a.oldMin=a.min,a.oldMax=a.max,a.oldAxisLength=a.len,a.setAxisSize(),n=a.len!==a.oldAxisLength,yi(a.series,function(t){(t.isDirtyData||t.isDirty||t.xAxis.isDirty)&&(i=!0)}),n||i||a.isLinked||a.forceRedraw||a.userMin!==a.oldUserMin||a.userMax!==a.oldUserMax){if(!a.isXAxis)for(t in o)for(e in o[t])o[t][e].total=null,o[t][e].cum=0;a.forceRedraw=!1,a.getSeriesExtremes(),a.setTickPositions(),a.oldUserMin=a.userMin,a.oldUserMax=a.userMax,a.isDirty||(a.isDirty=n||a.min!==a.oldMin||a.max!==a.oldMax)}else if(!a.isXAxis){a.oldStacks&&(o=a.stacks=a.oldStacks);for(t in o)for(e in o[t])o[t][e].cum=o[t][e].total}a.setMaxTicks()},setExtremes:function(e,i,n,a,o){var s=this,r=s.chart;n=f(n,!0),o=t(o,{min:e,max:i}),Ci(s,"setExtremes",o,function(){s.userMin=e,s.userMax=i,s.eventArgs=o,s.isDirtyExtremes=!0,n&&r.redraw(a)})},zoom:function(t,e){return this.allowZoomOutside||(d(this.dataMin)&&t<=this.dataMin&&(t=q),d(this.dataMax)&&e>=this.dataMax&&(e=q)),this.displayBtn=t!==q||e!==q,this.setExtremes(t,e,!1,q,{trigger:"zoom"}),!0},setAxisSize:function(){var t,e,i,n,a=this.chart,o=this.options,s=o.offsetLeft||0,r=o.offsetRight||0,l=this.horiz;this.left=n=f(o.left,a.plotLeft+s),this.top=i=f(o.top,a.plotTop),this.width=t=f(o.width,a.plotWidth-s+r),this.height=e=f(o.height,a.plotHeight),this.bottom=a.chartHeight-e-i,this.right=a.chartWidth-t-n,this.len=ve(l?t:e,0),this.pos=l?n:i},getExtremes:function(){var t=this,e=t.isLog;return{min:e?M(c(t.min)):t.min,max:e?M(c(t.max)):t.max,dataMin:t.dataMin,dataMax:t.dataMax,userMin:t.userMin,userMax:t.userMax}},getThreshold:function(t){var e=this,i=e.isLog,n=i?c(e.min):e.min,a=i?c(e.max):e.max;return n>t||null===t?t=n:t>a&&(t=a),e.translate(t,0,1,0,1)},autoLabelAlign:function(t){var e,i=(f(t,0)-90*this.side+720)%360;return e=i>15&&165>i?"right":i>195&&345>i?"left":"center"},getOffset:function(){var t,e,i,n,a,o,s,r,l,c,h,u,p,m=this,g=m.chart,v=g.renderer,y=m.options,b=m.tickPositions,x=m.ticks,w=m.horiz,k=m.side,_=g.inverted?[1,0,3,2][k]:k,C=0,T=0,P=y.title,S=y.labels,j=0,L=g.axisOffset,E=g.clipOffset,A=[-1,1,1,-1][k],M=1,O=f(S.maxStaggerLines,5);if(m.hasData=t=m.hasVisibleSeries||d(m.min)&&d(m.max)&&!!b,m.showAxis=e=t||f(y.showEmpty,!0),m.staggerLines=m.horiz&&S.staggerLines,m.axisGroup||(m.gridGroup=v.g("grid").attr({zIndex:y.gridZIndex||1}).add(),m.axisGroup=v.g("axis").attr({zIndex:y.zIndex||2}).add(),m.labelGroup=v.g("axis-labels").attr({zIndex:S.zIndex||7}).add()),t||m.isLinked){if(m.labelAlign=f(S.align||m.autoLabelAlign(S.rotation)),yi(b,function(t){x[t]?x[t].addLabel():x[t]=new B(m,t)}),m.horiz&&!m.staggerLines&&O&&!S.rotation){for(o=m.reversed?[].concat(b).reverse():b;O>M;){for(s=[],r=!1,a=0;a<o.length;a++)l=o[a],c=x[l].label&&x[l].label.getBBox(),u=c?c.width:0,p=a%M,u&&(h=m.translate(l),s[p]!==q&&h<s[p]&&(r=!0),s[p]=h+u);if(!r)break;M++}M>1&&(m.staggerLines=M)}yi(b,function(t){(0===k||2===k||{1:"left",3:"right"}[k]===m.labelAlign)&&(j=ve(x[t].getLabelSize(),j))}),m.staggerLines&&(j*=m.staggerLines,m.labelOffset=j)}else for(n in x)x[n].destroy(),delete x[n];P&&P.text&&P.enabled!==!1&&(m.axisTitle||(m.axisTitle=v.text(P.text,0,0,P.useHTML).attr({zIndex:7,rotation:P.rotation||0,align:P.textAlign||{low:"left",middle:"center",high:"right"}[P.align]}).css(P.style).add(m.axisGroup),m.axisTitle.isNew=!0),e&&(C=m.axisTitle.getBBox()[w?"height":"width"],T=f(P.margin,w?5:10),i=P.offset),m.axisTitle[e?"show":"hide"]()),m.offset=A*f(y.offset,L[k]),m.axisTitleMargin=f(i,j+T+(2!==k&&j&&A*y.labels[w?"y":"x"])),L[k]=ve(L[k],m.axisTitleMargin+C+A*m.offset),E[_]=ve(E[_],2*me(y.lineWidth/2))},getLinePath:function(t){var e=this.chart,i=this.opposite,n=this.offset,a=this.horiz,o=this.left+(i?this.width:0)+n,s=e.chartHeight-this.bottom-(i?this.height:0)+n;return i&&(t*=-1),e.renderer.crispLine([Qe,a?this.left:o,a?s:this.top,Ze,a?e.chartWidth-this.right:o,a?s:e.chartHeight-this.bottom],t)},getTitlePosition:function(){var t=this.horiz,e=this.left,i=this.top,a=this.len,o=this.options.title,s=t?e:i,r=this.opposite,l=this.offset,c=n(o.style.fontSize||12),h={low:s+(t?0:a),middle:s+a/2,high:s+(t?a:0)}[o.align],d=(t?i+this.height:e)+(t?1:-1)*(r?-1:1)*this.axisTitleMargin+(2===this.side?c:0);return{x:t?h:d+(r?this.width:0)+l+(o.x||0),y:t?d-(r?this.height:0)+l:h+(o.y||0)}},render:function(){var t,e,i,n,a=this,o=a.horiz,s=a.reversed,r=a.chart,l=r.renderer,h=a.options,u=a.isLog,p=a.isLinked,f=a.tickPositions,m=a.axisTitle,g=a.stacks,v=a.ticks,y=a.minorTicks,b=a.alternateBands,x=h.stackLabels,w=h.alternateGridColor,k=a.tickmarkOffset,_=h.lineWidth,C=r.hasRendered,T=C&&d(a.oldMin)&&!isNaN(a.oldMin),P=a.hasData,S=a.showAxis,j=a.justifyLabels=!a.staggerLines&&o&&"justify"===h.labels.overflow;if(a.labelEdge.length=0,yi([v,y,b],function(t){var e;for(e in t)t[e].isActive=!1}),(P||p)&&(a.minorTickInterval&&!a.categories&&yi(a.getMinorTickPositions(),function(t){y[t]||(y[t]=new B(a,t,"minor")),T&&y[t].isNew&&y[t].render(null,!0),y[t].render(null,!1,1)}),f.length&&(t=f.slice(),(o&&s||!o&&!s)&&t.reverse(),j&&(t=t.slice(1).concat([t[0]])),yi(t,function(e,i){j&&(i=i===t.length-1?0:i+1),(!p||e>=a.min&&e<=a.max)&&(v[e]||(v[e]=new B(a,e)),T&&v[e].isNew&&v[e].render(i,!0,.1),v[e].render(i,!1,1))}),k&&0===a.min&&(v[-1]||(v[-1]=new B(a,-1,null,!0)),v[-1].render(-1))),w&&yi(f,function(t,e){e%2===0&&t<a.max&&(b[t]||(b[t]=new Ni(a)),i=t+k,n=f[e+1]!==q?f[e+1]+k:a.max,b[t].options={from:u?c(i):i,to:u?c(n):n,color:w},b[t].render(),b[t].isActive=!0)}),a._addedPlotLB||(yi((h.plotLines||[]).concat(h.plotBands||[]),function(t){a.addPlotBandOrLine(t)}),a._addedPlotLB=!0)),yi([v,y,b],function(t){var e,i,n=[],a=G?G.duration||500:0,o=function(){for(i=n.length;i--;)t[n[i]]&&!t[n[i]].isActive&&(t[n[i]].destroy(),delete t[n[i]])};for(e in t)t[e].isActive||(t[e].render(e,!1,0),t[e].isActive=!1,n.push(e));t!==b&&r.hasRendered&&a?a&&setTimeout(o,a):o()}),_&&(e=a.getLinePath(_),a.axisLine?a.axisLine.animate({d:e}):a.axisLine=l.path(e).attr({stroke:h.lineColor,"stroke-width":_,zIndex:7}).add(a.axisGroup),a.axisLine[S?"show":"hide"]()),m&&S&&(m[m.isNew?"attr":"animate"](a.getTitlePosition()),m.isNew=!1),x&&x.enabled){var L,E,A,M=a.stackTotalGroup;M||(a.stackTotalGroup=M=l.g("stack-labels").attr({visibility:Xe,zIndex:6}).add()),M.translate(r.plotLeft,r.plotTop);for(L in g){E=g[L];for(A in E)E[A].render(M)}}a.isDirty=!1},redraw:function(){var t=this,e=t.chart,i=e.pointer;i.reset&&i.reset(!0),t.render(),yi(t.plotLinesAndBands,function(t){t.render()}),yi(t.series,function(t){t.isDirty=!0})},buildStacks:function(){var t=this.series,e=t.length;if(!this.isXAxis){for(;e--;)t[e].setStackedPoints();if(this.usePercentage)for(e=0;e<t.length;e++)t[e].setPercentStacks()}},destroy:function(t){var e,i,n=this,a=n.stacks,o=n.plotLinesAndBands;t||_i(n);for(e in a)L(a[e]),a[e]=null;for(yi([n.ticks,n.minorTicks,n.alternateBands],function(t){L(t)}),i=o.length;i--;)o[i].destroy();yi(["stackTotalGroup","axisLine","axisTitle","axisGroup","cross","gridGroup","labelGroup"],function(t){n[t]&&(n[t]=n[t].destroy())}),this.cross&&this.cross.destroy()},drawCrosshair:function(t,e){if(this.crosshair){if((d(e)||!f(this.crosshair.snap,!0))===!1)return void this.hideCrosshair();var i,n,a=this.crosshair,o=a.animation;if(f(a.snap,!0)?d(e)&&(n=this.chart.inverted!=this.horiz?e.plotX:this.len-e.plotY):n=this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos,i=this.isRadial?this.getPlotLinePath(this.isXAxis?e.x:f(e.stackY,e.y)):this.getPlotLinePath(null,null,null,null,n),null===i)return void this.hideCrosshair();if(this.cross)this.cross.attr({visibility:Xe})[o?"animate":"attr"]({d:i},o);else{var s={"stroke-width":a.width||1,stroke:a.color||"#C0C0C0",zIndex:a.zIndex||2};a.dashStyle&&(s.dashstyle=a.dashStyle),this.cross=this.chart.renderer.path(i).attr(s).add()}}},hideCrosshair:function(){this.cross&&this.cross.hide()}},t(F.prototype,Z),F.prototype.getLogTickPositions=function(t,e,i,n){var a=this,o=a.options,s=a.len,r=[];if(n||(a._minorAutoInterval=null),t>=.5)t=fe(t),r=a.getLinearTickPositions(t,e,i);else if(t>=.08){var h,d,u,p,m,g,v,y=me(e);for(h=t>.3?[1,2,4]:t>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],d=y;i+1>d&&!v;d++)for(p=h.length,u=0;p>u&&!v;u++)m=l(c(d)*h[u]),m>e&&(!n||i>=g)&&r.push(g),g>i&&(v=!0),g=m}else{var b=c(e),x=c(i),w=o[n?"minorTickInterval":"tickInterval"],k="auto"===w?null:w,T=o.tickPixelInterval/(n?5:1),P=n?s/a.tickPositions.length:s;t=f(k,a._minorAutoInterval,(x-b)*T/(P||1)),t=C(t,null,_(t)),r=wi(a.getLinearTickPositions(t,b,x),l),n||(a._minorAutoInterval=t/5)}return n||(a.tickInterval=t),r},F.prototype.getTimeTicks=function(e,i,n,a){var o,s,r=[],l={},c=Y.global.useUTC,h=new Date(i-K),u=e.unitRange,p=e.count;if(d(i)){u>=Q[ai]&&(h.setMilliseconds(0),h.setSeconds(u>=Q[oi]?0:p*me(h.getSeconds()/p))),u>=Q[oi]&&h[se](u>=Q[si]?0:p*me(h[te]()/p)),u>=Q[si]&&h[re](u>=Q[ri]?0:p*me(h[ee]()/p)),u>=Q[ri]&&h[le](u>=Q[ci]?1:p*me(h[ne]()/p)),u>=Q[ci]&&(h[ce](u>=Q[hi]?0:p*me(h[ae]()/p)),s=h[oe]()),u>=Q[hi]&&(s-=s%p,h[he](s)),u===Q[li]&&h[le](h[ne]()-h[ie]()+f(a,1)),o=1,K&&(h=new Date(h.getTime()+K)),s=h[oe]();for(var m=h.getTime(),g=h[ae](),v=h[ne](),y=c?K:(864e5+60*h.getTimezoneOffset()*1e3)%864e5;n>m;)r.push(m),u===Q[hi]?m=J(s+o*p,0):u===Q[ci]?m=J(s,g+o*p):c||u!==Q[ri]&&u!==Q[li]?m+=u*p:m=J(s,g,v+o*p*(u===Q[ri]?1:7)),o++;r.push(m),yi(bi(r,function(t){return u<=Q[si]&&t%Q[ri]===y}),function(t){l[t]=ri})}return r.info=t(e,{higherRanks:l,totalRange:u*p}),r},F.prototype.normalizeTimeTickInterval=function(t,e){var i,n,a=e||[[ni,[1,2,5,10,20,25,50,100,200,500]],[ai,[1,2,5,10,15,30]],[oi,[1,2,5,10,15,30]],[si,[1,2,3,4,6,8,12]],[ri,[1,2]],[li,[1,2]],[ci,[1,2,3,4,6]],[hi,null]],o=a[a.length-1],s=Q[o[0]],r=o[1];for(n=0;n<a.length;n++)if(o=a[n],s=Q[o[0]],r=o[1],a[n+1]){var l=(s*r[r.length-1]+Q[a[n+1][0]])/2;if(l>=t)break}return s===Q[hi]&&5*s>t&&(r=[1,2,5]),i=C(t/s,r,o[0]===hi?ve(_(t/s),1):1),{unitRange:s,count:i,unitName:o[0]}},H.prototype={destroy:function(){L(this,this.axis)},render:function(t){var e=this.options,i=e.format,n=i?k(i,this):e.formatter.call(this);this.label?this.label.attr({text:n,visibility:Ve}):this.label=this.axis.chart.renderer.text(n,0,0,e.useHTML).css(e.style).attr({align:this.textAlign,rotation:e.rotation,visibility:Ve}).add(t)},setOffset:function(t,e){var i,n=this,a=n.axis,o=a.chart,s=o.inverted,r=this.isNegative,l=a.translate(this.percent?100:this.total,0,0,0,1),c=a.translate(0),h=be(l-c),d=o.xAxis[0].translate(this.x)+t,u=o.plotHeight,p={x:s?r?l:l-h:d,y:s?u-d-e:r?u-l-h:u-l,width:s?h:e,height:s?e:h},f=this.label;f&&(f.align(this.alignOptions,null,p),i=f.alignAttr,f.attr({visibility:this.options.crop===!1||o.isInsidePlot(i.x,i.y)?Me?"inherit":Xe:Ve}))}},N.prototype={init:function(t,e){var i=e.borderWidth,a=e.style,o=n(a.padding);this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=t.renderer.label("",0,0,e.shape,null,null,e.useHTML,null,"tooltip").attr({padding:o,fill:e.backgroundColor,"stroke-width":i,r:e.borderRadius,zIndex:8}).css(a).css({padding:0}).add().attr({y:-999}),Ie||this.label.shadow(e.shadow),this.shared=e.shared},destroy:function(){this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(e,i,n,a){var o=this,s=o.now,r=o.options.animation!==!1&&!o.isHidden;t(s,{x:r?(2*s.x+e)/3:e,y:r?(s.y+i)/2:i,anchorX:r?(2*s.anchorX+n)/3:n,anchorY:r?(s.anchorY+a)/2:a}),o.label.attr(s),r&&(be(e-s.x)>1||be(i-s.y)>1)&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){o&&o.move(e,i,n,a)},32))},hide:function(){var t,e=this;clearTimeout(this.hideTimer),this.isHidden||(t=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){e.label.fadeOut(),e.isHidden=!0},f(this.options.hideDelay,500)),t&&yi(t,function(t){t.setState()}),this.chart.hoverPoints=null)},getAnchor:function(t,e){var i,n,a=this.chart,o=a.inverted,s=a.plotTop,r=0,l=0;return t=p(t),i=t[0].tooltipPos,this.followPointer&&e&&(e.chartX===q&&(e=a.pointer.normalize(e)),i=[e.chartX-a.plotLeft,e.chartY-s]),i||(yi(t,function(t){n=t.series.yAxis,r+=t.plotX,l+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!o&&n?n.top-s:0)}),r/=t.length,l/=t.length,i=[o?a.plotWidth-l:r,this.shared&&!o&&t.length>1&&e?e.chartY-s:o?a.plotHeight-r:l]),wi(i,fe)},getPosition:function(t,e,i){var n,a=this.chart,o=a.plotLeft,s=a.plotTop,r=a.plotWidth,l=a.plotHeight,c=f(this.options.distance,12),h=i.plotX,d=i.plotY,u=h+o+(a.inverted?c:-t-c),p=d-e+s+15;return 7>u&&(u=o+ve(h,0)+c),u+t>o+r&&(u-=u+t-(o+r),p=d-e+s-c,n=!0),s+5>p&&(p=s+5,n&&d>=p&&p+e>=d&&(p=d+s+c)),p+e>s+l&&(p=ve(s,s+l-e-c)),{x:u,y:p}},defaultFormatter:function(t){var e,i=this.points||p(this),n=i[0].series;return e=[n.tooltipHeaderFormatter(i[0])],yi(i,function(t){n=t.series,e.push(n.tooltipFormatter&&n.tooltipFormatter(t)||t.point.tooltipFormatter(n.tooltipOptions.pointFormat))}),e.push(t.options.footerFormat||""),e.join("")},refresh:function(t,e){var i,n,a,o,s,r,l=this,c=l.chart,h=l.label,d=l.options,u={},f=[],m=d.formatter||l.defaultFormatter,g=c.hoverPoints,v=l.shared;clearTimeout(this.hideTimer),l.followPointer=p(t)[0].series.tooltipOptions.followPointer,a=l.getAnchor(t,e),i=a[0],n=a[1],!v||t.series&&t.series.noSharedTooltip?u=t.getLabelConfig():(c.hoverPoints=t,g&&yi(g,function(t){t.setState()}),yi(t,function(t){t.setState(ei),f.push(t.getLabelConfig())}),u={x:t[0].category,y:t[0].y},u.points=f,t=t[0]),o=m.call(u,l),r=t.series,o===!1?this.hide():(l.isHidden&&(Si(h),h.attr("opacity",1).show()),h.attr({text:o}),s=d.borderColor||t.color||r.color||"#606060",h.attr({stroke:s}),l.updatePosition({plotX:i,plotY:n}),this.isHidden=!1),Ci(c,"tooltipRefresh",{text:o,x:i+c.plotLeft,y:n+c.plotTop,borderColor:s})},updatePosition:function(t){var e=this.chart,i=this.label,n=(this.options.positioner||this.getPosition).call(this,i.width,i.height,t);this.move(fe(n.x),fe(n.y),t.plotX+e.plotLeft,t.plotY+e.plotTop)}};var Wi=Highcharts.Pointer=function(t,e){this.init(t,e)};Wi.prototype={init:function(t,e){var i,n,a=e.chart,o=a.events,s=Ie?"":a.zoomType,r=t.inverted;this.options=e,this.chart=t,this.zoomX=i=/x/.test(s),this.zoomY=n=/y/.test(s),this.zoomHor=i&&!r||n&&r,this.zoomVert=n&&!r||i&&r,this.runChartClick=o&&!!o.click,this.pinchDown=[],this.lastValidTouch={},e.tooltip.enabled&&(t.tooltip=new N(t,e.tooltip)),this.setDOMEvents()},normalize:function(e,i){var n,a,o;return e=e||ue.event,e.target||(e.target=e.srcElement),e=Ti(e),o=e.touches?e.touches.item(0):e,i||(this.chartPosition=i=xi(this.chart.container)),o.pageX===q?(n=ve(e.x,e.clientX-i.left),a=e.y):(n=o.pageX-i.left,a=o.pageY-i.top),t(e,{chartX:fe(n),chartY:fe(a)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return yi(this.chart.axes,function(i){e[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(t[i.horiz?"chartX":"chartY"])})}),e},getIndex:function(t){var e=this.chart;return e.inverted?e.plotHeight+e.plotTop-t.chartY:t.chartX-e.plotLeft},runPointActions:function(t){var e,i,n,a,o,s=this,r=s.chart,l=r.series,c=r.tooltip,h=r.hoverPoint,d=r.hoverSeries,u=r.chartWidth,p=s.getIndex(t);if(c&&s.options.tooltip.shared&&(!d||!d.noSharedTooltip)){for(i=[],n=l.length,a=0;n>a;a++)l[a].visible&&l[a].options.enableMouseTracking!==!1&&!l[a].noSharedTooltip&&l[a].tooltipPoints.length&&(e=l[a].tooltipPoints[p],e&&e.series&&(e._dist=be(p-e.clientX),u=ye(u,e._dist),i.push(e)));for(n=i.length;n--;)i[n]._dist>u&&i.splice(n,1);i.length&&i[0].clientX!==s.hoverX&&(c.refresh(i,t),s.hoverX=i[0].clientX)}d&&d.tracker?(e=d.tooltipPoints[p],e&&e!==h&&e.onMouseOver(t)):c&&c.followPointer&&!c.isHidden&&(o=c.getAnchor([{}],t),c.updatePosition({plotX:o[0],plotY:o[1]})),c&&!s._onDocumentMouseMove&&(s._onDocumentMouseMove=function(t){s.onDocumentMouseMove(t)},ki(de,"mousemove",s._onDocumentMouseMove)),yi(r.axes,function(i){i.drawCrosshair(t,f(e,h))})},reset:function(t){var e=this,i=e.chart,n=i.hoverSeries,a=i.hoverPoint,o=i.tooltip,s=o&&o.shared?i.hoverPoints:a;t=t&&o&&s,t&&p(s)[0].plotX===q&&(t=!1),t?(o.refresh(s),a&&a.setState(a.state,!0)):(a&&a.onMouseOut(),n&&n.onMouseOut(),o&&o.hide(),e._onDocumentMouseMove&&(_i(de,"mousemove",e._onDocumentMouseMove),e._onDocumentMouseMove=null),yi(i.axes,function(t){t.hideCrosshair()}),e.hoverX=null)},scaleGroups:function(t,e){var i,n=this.chart;yi(n.series,function(a){i=t||a.getPlotBox(),a.xAxis&&a.xAxis.zoomEnabled&&(a.group.attr(i),a.markerGroup&&(a.markerGroup.attr(i),a.markerGroup.clip(e?n.clipRect:null)),a.dataLabelsGroup&&a.dataLabelsGroup.attr(i))}),n.clipRect.attr(e||n.clipBox)},pinchTranslate:function(t,e,i,n,a,o,s,r){t&&this.pinchTranslateDirection(!0,i,n,a,o,s,r),e&&this.pinchTranslateDirection(!1,i,n,a,o,s,r)},pinchTranslateDirection:function(t,e,i,n,a,o,s,r){var l,c,h,d,u,p,f=this.chart,m=t?"x":"y",g=t?"X":"Y",v="chart"+g,y=t?"width":"height",b=f["plot"+(t?"Left":"Top")],x=r||1,w=f.inverted,k=f.bounds[t?"h":"v"],_=1===e.length,C=e[0][v],T=i[0][v],P=!_&&e[1][v],S=!_&&i[1][v],j=function(){!_&&be(C-P)>20&&(x=r||be(T-S)/be(C-P)),h=(b-T)/x+C,l=f["plot"+(t?"Width":"Height")]/x};j(),c=h,c<k.min?(c=k.min,d=!0):c+l>k.max&&(c=k.max-l,d=!0),d?(T-=.8*(T-s[m][0]),_||(S-=.8*(S-s[m][1])),j()):s[m]=[T,S],w||(o[m]=h-b,o[y]=l),p=w?t?"scaleY":"scaleX":"scale"+g,u=w?1/x:x,a[y]=l,a[m]=c,n[p]=x,n["translate"+g]=u*b+(T-u*C)},pinch:function(e){var i=this,n=i.chart,a=i.pinchDown,o=n.tooltip&&n.tooltip.options.followTouchMove,s=e.touches,r=s.length,l=i.lastValidTouch,c=i.zoomHor||i.pinchHor,h=i.zoomVert||i.pinchVert,d=c||h,u=i.selectionMarker,p={},f=1===r&&(i.inClass(e.target,Ye+"tracker")&&n.runTrackerClick||n.runChartClick),m={};!d&&!o||f||e.preventDefault(),wi(s,function(t){return i.normalize(t)}),"touchstart"===e.type?(yi(s,function(t,e){a[e]={chartX:t.chartX,chartY:t.chartY}}),l.x=[a[0].chartX,a[1]&&a[1].chartX],l.y=[a[0].chartY,a[1]&&a[1].chartY],yi(n.axes,function(t){if(t.zoomEnabled){var e=n.bounds[t.horiz?"h":"v"],i=t.minPixelPadding,a=t.toPixels(t.dataMin),o=t.toPixels(t.dataMax),s=ye(a,o),r=ve(a,o);e.min=ye(t.pos,s-i),e.max=ve(t.pos+t.len,r+i)}})):a.length&&(u||(i.selectionMarker=u=t({destroy:Be},n.plotBox)),i.pinchTranslate(c,h,a,s,p,u,m,l),i.hasPinched=d,i.scaleGroups(p,m),!d&&o&&1===r&&this.runPointActions(i.normalize(e)))},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,i,n=this.chart,a=n.options.chart,o=t.chartX,s=t.chartY,r=this.zoomHor,l=this.zoomVert,c=n.plotLeft,h=n.plotTop,d=n.plotWidth,u=n.plotHeight,p=this.mouseDownX,f=this.mouseDownY;c>o?o=c:o>c+d&&(o=c+d),h>s?s=h:s>h+u&&(s=h+u),this.hasDragged=Math.sqrt(Math.pow(p-o,2)+Math.pow(f-s,2)),this.hasDragged>10&&(e=n.isInsidePlot(p-c,f-h),n.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&(this.selectionMarker||(this.selectionMarker=n.renderer.rect(c,h,r?1:d,l?1:u,0).attr({fill:a.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add())),this.selectionMarker&&r&&(i=o-p,this.selectionMarker.attr({width:be(i),x:(i>0?0:i)+p})),this.selectionMarker&&l&&(i=s-f,this.selectionMarker.attr({height:be(i),y:(i>0?0:i)+f})),e&&!this.selectionMarker&&a.panning&&n.pan(t,a.panning))},drop:function(e){var i=this.chart,n=this.hasPinched;if(this.selectionMarker){var a,o={xAxis:[],yAxis:[],originalEvent:e.originalEvent||e},s=this.selectionMarker,r=s.x,l=s.y;(this.hasDragged||n)&&(yi(i.axes,function(t){if(t.zoomEnabled){var e=t.horiz,i=t.toValue(e?r:l),n=t.toValue(e?r+s.width:l+s.height);isNaN(i)||isNaN(n)||(o[t.coll].push({axis:t,min:ye(i,n),max:ve(i,n)}),a=!0)}}),a&&Ci(i,"selection",o,function(e){i.zoom(t(e,n?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),n&&this.scaleGroups()}i&&(m(i.container,{cursor:i._cursor}),i.cancelClick=this.hasDragged>10,i.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){t=this.normalize(t),t.preventDefault&&t.preventDefault(),this.dragStart(t)},onDocumentMouseUp:function(t){this.drop(t)},onDocumentMouseMove:function(t){var e=this.chart,i=this.chartPosition,n=e.hoverSeries;t=this.normalize(t,i),i&&n&&!this.inClass(t.target,"highcharts-tracker")&&!e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&this.reset()},onContainerMouseLeave:function(){this.reset(),this.chartPosition=null},onContainerMouseMove:function(t){var e=this.chart;t=this.normalize(t),"mousedown"===e.mouseIsDown&&this.drag(t),!this.inClass(t.target,"highcharts-tracker")&&!e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||e.openMenu||this.runPointActions(t)},inClass:function(t,e){for(var i;t;){if(i=u(t,"class")){if(-1!==i.indexOf(e))return!0;if(-1!==i.indexOf(Ye+"container"))return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries,i=t.relatedTarget||t.toElement,n=i&&i.point&&i.point.series;!e||e.options.stickyTracking||this.inClass(i,Ye+"tooltip")||n===e||e.onMouseOut()},onContainerClick:function(e){var i,n,a,o=this.chart,s=o.hoverPoint,r=o.plotLeft,l=o.plotTop,c=o.inverted;e=this.normalize(e),e.cancelBubble=!0,o.cancelClick||(s&&this.inClass(e.target,Ye+"tracker")?(i=this.chartPosition,n=s.plotX,a=s.plotY,t(s,{pageX:i.left+r+(c?o.plotWidth-a:n),pageY:i.top+l+(c?o.plotHeight-n:a)}),Ci(s.series,"click",t(e,{point:s})),o.hoverPoint&&s.firePointEvent("click",e)):(t(e,this.getCoordinates(e)),o.isInsidePlot(e.chartX-r,e.chartY-l)&&Ci(o,"click",e)))},onContainerTouchStart:function(t){var e=this.chart;1===t.touches.length?(t=this.normalize(t),e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)?(this.runPointActions(t),this.pinch(t)):this.reset()):2===t.touches.length&&this.pinch(t)},onContainerTouchMove:function(t){(1===t.touches.length||2===t.touches.length)&&this.pinch(t)},onDocumentTouchEnd:function(t){this.drop(t)},setDOMEvents:function(){var t,e=this,i=e.chart.container;this._events=t=[[i,"onmousedown","onContainerMouseDown"],[i,"onmousemove","onContainerMouseMove"],[i,"onclick","onContainerClick"],[i,"mouseleave","onContainerMouseLeave"],[de,"mouseup","onDocumentMouseUp"]],Re&&t.push([i,"ontouchstart","onContainerTouchStart"],[i,"ontouchmove","onContainerTouchMove"],[de,"touchend","onDocumentTouchEnd"]),yi(t,function(t){e["_"+t[2]]=function(i){e[t[2]](i)},0===t[1].indexOf("on")?t[0][t[1]]=e["_"+t[2]]:ki(t[0],t[1],e["_"+t[2]])})},destroy:function(){var t=this;yi(t._events,function(e){0===e[1].indexOf("on")?e[0][e[1]]=null:_i(e[0],e[1],t["_"+e[2]])}),delete t._events,clearInterval(t.tooltipTimeout)}};var qi=Highcharts.TrackerMixin={drawTrackerPoint:function(){var t=this,e=t.chart,i=e.pointer,n=t.options.cursor,a=n&&{cursor:n},o=function(i){var n,a=i.target;for(e.hoverSeries!==t&&t.onMouseOver();a&&!n;)n=a.point,a=a.parentNode;n!==q&&n!==e.hoverPoint&&n.onMouseOver(i)};yi(t.points,function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.element.point=t)}),t._hasTracking||(yi(t.trackerGroups,function(e){t[e]&&(t[e].addClass(Ye+"tracker").on("mouseover",o).on("mouseout",function(t){i.onTrackerMouseOut(t)}).css(a),Re&&t[e].on("touchstart",o))}),t._hasTracking=!0)},drawTrackerGraph:function(){var t,e,i=this,n=i.options,a=n.trackByArea,o=[].concat(a?i.areaPath:i.graphPath),s=o.length,r=i.chart,l=r.pointer,c=r.renderer,h=r.options.tooltip.snap,d=i.tracker,u=n.cursor,p=u&&{cursor:u},f=i.singlePoints,m=function(){r.hoverSeries!==i&&i.onMouseOver()};if(s&&!a)for(e=s+1;e--;)o[e]===Qe&&o.splice(e+1,0,o[e+1]-h,o[e+2],Ze),(e&&o[e]===Qe||e===s)&&o.splice(e,0,Ze,o[e-2]+h,o[e-1]);for(e=0;e<f.length;e++)t=f[e],o.push(Qe,t.plotX-h,t.plotY,Ze,t.plotX+h,t.plotY);d?d.attr({d:o}):(i.tracker=c.path(o).attr({"stroke-linejoin":"round",visibility:i.visible?Xe:Ve,stroke:Ke,fill:a?Ke:Ue,"stroke-width":n.lineWidth+(a?0:2*h),zIndex:2}).add(i.group),yi([i.tracker,i.markerGroup],function(t){t.addClass(Ye+"tracker").on("mouseover",m).on("mouseout",function(t){l.onTrackerMouseOut(t)}).css(p),Re&&t.on("touchstart",m)}))}};if(ue.PointerEvent||ue.MSPointerEvent){var $i={};Wi.prototype.getWebkitTouches=function(){var t,e=[];e.item=function(t){return this[t]};for(t in $i)$i.hasOwnProperty(t)&&e.push({pageX:$i[t].pageX,pageY:$i[t].pageY,target:$i[t].target});return e},x(Wi.prototype,"init",function(t,e,i){e.container.style["-ms-touch-action"]=e.container.style["touch-action"]="none",t.call(this,e,i)}),x(Wi.prototype,"setDOMEvents",function(t){var e,i=this;t.apply(this,Array.prototype.slice.call(arguments,1)),e=[[this.chart.container,"PointerDown","touchstart","onContainerTouchStart",function(t){$i[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}
}],[this.chart.container,"PointerMove","touchmove","onContainerTouchMove",function(t){$i[t.pointerId]={pageX:t.pageX,pageY:t.pageY},$i[t.pointerId].target||($i[t.pointerId].target=t.currentTarget)}],[document,"PointerUp","touchend","onDocumentTouchEnd",function(t){delete $i[t.pointerId]}]],yi(e,function(t){ki(t[0],window.PointerEvent?t[1].toLowerCase():"MS"+t[1],function(e){e=e.originalEvent,("touch"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_TOUCH)&&(t[4](e),i[t[3]]({type:t[2],target:e.currentTarget,preventDefault:Be,touches:i.getWebkitTouches()}))})})})}var Vi=Highcharts.Legend=function(t,e){this.init(t,e)};Vi.prototype={init:function(t,i){var a=this,o=i.itemStyle,s=f(i.padding,8),r=i.itemMarginTop||0;this.options=i,i.enabled&&(a.baseline=n(o.fontSize)+3+r,a.itemStyle=o,a.itemHiddenStyle=e(o,i.itemHiddenStyle),a.itemMarginTop=r,a.padding=s,a.initialItemX=s,a.initialItemY=s-5,a.maxItemWidth=0,a.chart=t,a.itemHeight=0,a.lastLineHeight=0,a.symbolWidth=f(i.symbolWidth,16),a.pages=[],a.render(),ki(a.chart,"endResize",function(){a.positionCheckboxes()}))},colorizeItem:function(t,e){var i,n,a=this,o=a.options,s=t.legendItem,r=t.legendLine,l=t.legendSymbol,c=a.itemHiddenStyle.color,h=e?o.itemStyle.color:c,d=e?t.legendColor||t.color:c,u=t.options&&t.options.marker,p={stroke:d,fill:d};if(s&&s.css({fill:h,color:h}),r&&r.attr({stroke:d}),l){if(u&&l.isMarker){u=t.convertAttribs(u);for(i in u)n=u[i],n!==q&&(p[i]=n)}l.attr(p)}},positionItem:function(t){var e=this,i=e.options,n=i.symbolPadding,a=!i.rtl,o=t._legendItemPos,s=o[0],r=o[1],l=t.checkbox;t.legendGroup&&t.legendGroup.translate(a?s:e.legendWidth-s-2*n-4,r),l&&(l.x=s,l.y=r)},destroyItem:function(t){var e=t.checkbox;yi(["legendItem","legendLine","legendSymbol","legendGroup"],function(e){t[e]&&(t[e]=t[e].destroy())}),e&&E(t.checkbox)},destroy:function(){var t=this,e=t.group,i=t.box;i&&(t.box=i.destroy()),e&&(t.group=e.destroy())},positionCheckboxes:function(t){var e,i=this.group.alignAttr,n=this.clipHeight||this.legendHeight;i&&(e=i.translateY,yi(this.allItems,function(a){var o,s=a.checkbox;s&&(o=e+s.y+(t||0)+3,m(s,{left:i.translateX+a.legendItemWidth+s.x-20+Ge,top:o+Ge,display:o>e-6&&e+n-6>o?"":Ue}))}))},renderTitle:function(){var t,e=this.options,i=this.padding,n=e.title,a=0;n.text&&(this.title||(this.title=this.chart.renderer.label(n.text,i-3,i-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(n.style).add(this.group)),t=this.title.getBBox(),a=t.height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:a})),this.titleHeight=a},renderItem:function(t){var i,n,a,o=this,s=o.chart,r=s.renderer,l=o.options,c="horizontal"===l.layout,h=o.symbolWidth,d=l.symbolPadding,u=o.itemStyle,p=o.itemHiddenStyle,m=o.padding,v=c?f(l.itemDistance,8):0,y=!l.rtl,b=l.width,x=l.itemMarginBottom||0,w=o.itemMarginTop,_=o.initialItemX,C=t.legendItem,T=t.series&&t.series.drawLegendSymbol?t.series:t,P=T.options,S=P&&P.showCheckbox,j=l.useHTML;C||(t.legendGroup=r.g("legend-item").attr({zIndex:1}).add(o.scrollGroup),T.drawLegendSymbol(o,t),t.legendItem=C=r.text(l.labelFormat?k(l.labelFormat,t):l.labelFormatter.call(t),y?h+d:-d,o.baseline,j).css(e(t.visible?u:p)).attr({align:y?"left":"right",zIndex:2}).add(t.legendGroup),(j?C:t.legendGroup).on("mouseover",function(){t.setState(ei),C.css(o.options.itemHoverStyle)}).on("mouseout",function(){C.css(t.visible?u:p),t.setState()}).on("click",function(e){var i="legendItemClick",n=function(){t.setVisible()};e={browserEvent:e},t.firePointEvent?t.firePointEvent(i,e,n):Ci(t,i,e,n)}),o.colorizeItem(t,t.visible),S&&(t.checkbox=g("input",{type:"checkbox",checked:t.selected,defaultChecked:t.selected},l.itemCheckboxStyle,s.container),ki(t.checkbox,"click",function(e){var i=e.target;Ci(t,"checkboxClick",{checked:i.checked},function(){t.select()})}))),n=C.getBBox(),a=t.legendItemWidth=l.itemWidth||t.legendItemWidth||h+d+n.width+v+(S?20:0),o.itemHeight=i=fe(t.legendItemHeight||n.height),c&&o.itemX-_+a>(b||s.chartWidth-2*m-_)&&(o.itemX=_,o.itemY+=w+o.lastLineHeight+x,o.lastLineHeight=0),o.maxItemWidth=ve(o.maxItemWidth,a),o.lastItemY=w+o.itemY+x,o.lastLineHeight=ve(i,o.lastLineHeight),t._legendItemPos=[o.itemX,o.itemY],c?o.itemX+=a:(o.itemY+=w+i+x,o.lastLineHeight=i),o.offsetWidth=b||ve((c?o.itemX-_-v:a)+m,o.offsetWidth)},getAllItems:function(){var t=[];return yi(this.chart.series,function(e){var i=e.options;f(i.showInLegend,d(i.linkedTo)?!1:q,!0)&&(t=t.concat(e.legendItems||("point"===i.legendType?e.data:e)))}),t},render:function(){var e,i,n,a,o=this,s=o.chart,r=s.renderer,l=o.group,c=o.box,h=o.options,d=o.padding,u=h.borderWidth,p=h.backgroundColor;o.itemX=o.initialItemX,o.itemY=o.initialItemY,o.offsetWidth=0,o.lastItemY=0,l||(o.group=l=r.g("legend").attr({zIndex:7}).add(),o.contentGroup=r.g().attr({zIndex:1}).add(l),o.scrollGroup=r.g().add(o.contentGroup)),o.renderTitle(),e=o.getAllItems(),P(e,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),h.reversed&&e.reverse(),o.allItems=e,o.display=i=!!e.length,yi(e,function(t){o.renderItem(t)}),n=h.width||o.offsetWidth,a=o.lastItemY+o.lastLineHeight+o.titleHeight,a=o.handleOverflow(a),(u||p)&&(n+=d,a+=d,c?n>0&&a>0&&(c[c.isNew?"attr":"animate"](c.crisp(null,null,null,n,a)),c.isNew=!1):(o.box=c=r.rect(0,0,n,a,h.borderRadius,u||0).attr({stroke:h.borderColor,"stroke-width":u||0,fill:p||Ue}).add(l).shadow(h.shadow),c.isNew=!0),c[i?"show":"hide"]()),o.legendWidth=n,o.legendHeight=a,yi(e,function(t){o.positionItem(t)}),i&&l.align(t({width:n,height:a},h),!0,"spacingBox"),s.isResizing||this.positionCheckboxes()},handleOverflow:function(t){var e,i,n=this,a=this.chart,o=a.renderer,s=this.options,r=s.y,l="top"===s.verticalAlign,c=a.spacingBox.height+(l?-r:r)-this.padding,h=s.maxHeight,d=this.clipRect,u=s.navigation,p=f(u.animation,!0),m=u.arrowSize||12,g=this.nav,v=this.pages,y=this.allItems;return"horizontal"===s.layout&&(c/=2),h&&(c=ye(c,h)),v.length=0,t>c&&!s.useHTML?(this.clipHeight=e=c-20-this.titleHeight-this.padding,this.currentPage=f(this.currentPage,1),this.fullHeight=t,yi(y,function(t,n){var a=t._legendItemPos[1],o=fe(t.legendItem.bBox.height),s=v.length;(!s||a-v[s-1]>e)&&v.push(i||a),n===y.length-1&&a+o-v[s-1]>e&&v.push(a),a!==i&&(i=a)}),d||(d=n.clipRect=o.clipRect(0,this.padding,9999,0),n.contentGroup.clip(d)),d.attr({height:e}),g||(this.nav=g=o.g().attr({zIndex:1}).add(this.group),this.up=o.symbol("triangle",0,0,m,m).on("click",function(){n.scroll(-1,p)}).add(g),this.pager=o.text("",15,10).css(u.style).add(g),this.down=o.symbol("triangle-down",0,0,m,m).on("click",function(){n.scroll(1,p)}).add(g)),n.scroll(0),t=c):g&&(d.attr({height:a.chartHeight}),g.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var i,n=this.pages,a=n.length,o=this.currentPage+t,s=this.clipHeight,r=this.options.navigation,l=r.activeColor,c=r.inactiveColor,h=this.pager,d=this.padding;o>a&&(o=a),o>0&&(e!==q&&O(e,this.chart),this.nav.attr({translateX:d,translateY:s+this.padding+7+this.titleHeight,visibility:Xe}),this.up.attr({fill:1===o?c:l}).css({cursor:1===o?"default":"pointer"}),h.attr({text:o+"/"+a}),this.down.attr({x:18+this.pager.getBBox().width,fill:o===a?c:l}).css({cursor:o===a?"default":"pointer"}),i=-n[o-1]+this.initialItemY,this.scrollGroup.animate({translateY:i}),this.currentPage=o,this.positionCheckboxes(i))}};var Yi=Highcharts.LegendSymbolMixin={drawRectangle:function(t,e){var i=t.options.symbolHeight||12;e.legendSymbol=this.chart.renderer.rect(0,t.baseline-5-i/2,t.symbolWidth,i,f(t.options.symbolRadius,2)).attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e,i,n,a=this.options,o=a.marker,s=t.options,r=t.symbolWidth,l=this.chart.renderer,c=this.legendGroup,h=t.baseline-fe(.3*l.fontMetrics(s.itemStyle.fontSize).b);a.lineWidth&&(n={"stroke-width":a.lineWidth},a.dashStyle&&(n.dashstyle=a.dashStyle),this.legendLine=l.path([Qe,0,h,Ze,r,h]).attr(n).add(c)),o&&o.enabled&&(e=o.radius,this.legendSymbol=i=l.symbol(this.symbol,r/2-e,h-e,2*e,2*e).add(c),i.isMarker=!0)}};/Trident\/7\.0/.test(Ce)&&x(Vi.prototype,"positionItem",function(t,e){var i=this,n=function(){e._legendItemPos&&t.call(i,e)};i.chart.renderer.forExport?n():setTimeout(n)}),W.prototype={init:function(t,i){var n,a=t.series;t.series=null,n=e(Y,t),n.series=t.series=a,this.userOptions=t;var o=n.chart;this.margin=this.splashArray("margin",o),this.spacing=this.splashArray("spacing",o);var s=o.events;this.bounds={h:{},v:{}},this.callback=i,this.isResizing=0,this.options=n,this.axes=[],this.series=[],this.hasCartesianSeries=o.showAxes;var r,l=this;if(l.index=Fe.length,Fe.push(l),o.reflow!==!1&&ki(l,"load",function(){l.initReflow()}),s)for(r in s)ki(l,r,s[r]);l.xAxis=[],l.yAxis=[],l.animation=Ie?!1:f(o.animation,!0),l.pointCount=0,l.counters=new T,l.firstRender()},initSeries:function(t){var e,i=this,n=i.options.chart,a=t.type||n.type||n.defaultSeriesType,o=ui[a];return o||A(17,!0),e=new o,e.init(this,t),e},isInsidePlot:function(t,e,i){var n=i?e:t,a=i?t:e;return n>=0&&n<=this.plotWidth&&a>=0&&a<=this.plotHeight},adjustTickAmounts:function(){this.options.chart.alignTicks!==!1&&yi(this.axes,function(t){t.adjustTickAmount()}),this.maxTicks=null},redraw:function(e){var i,n,a,o=this,s=o.axes,r=o.series,l=o.pointer,c=o.legend,h=o.isDirtyLegend,d=o.isDirtyBox,u=r.length,p=u,f=o.renderer,m=f.isHidden(),g=[];for(O(e,o),m&&o.cloneRenderTo(),o.layOutTitles();p--;)if(a=r[p],a.options.stacking&&(i=!0,a.isDirty)){n=!0;break}if(n)for(p=u;p--;)a=r[p],a.options.stacking&&(a.isDirty=!0);yi(r,function(t){t.isDirty&&"point"===t.options.legendType&&(h=!0)}),h&&c.options.enabled&&(c.render(),o.isDirtyLegend=!1),i&&o.getStacks(),o.hasCartesianSeries&&(o.isResizing||(o.maxTicks=null,yi(s,function(t){t.setScale()})),o.adjustTickAmounts(),o.getMargins(),yi(s,function(t){t.isDirty&&(d=!0)}),yi(s,function(e){e.isDirtyExtremes&&(e.isDirtyExtremes=!1,g.push(function(){Ci(e,"afterSetExtremes",t(e.eventArgs,e.getExtremes())),delete e.eventArgs})),(d||i)&&e.redraw()})),d&&o.drawChartBox(),yi(r,function(t){t.isDirty&&t.visible&&(!t.isCartesian||t.xAxis)&&t.redraw()}),l&&l.reset&&l.reset(!0),f.draw(),Ci(o,"redraw"),m&&o.cloneRenderTo(!0),yi(g,function(t){t.call()})},get:function(t){var e,i,n,a=this,o=a.axes,s=a.series;for(e=0;e<o.length;e++)if(o[e].options.id===t)return o[e];for(e=0;e<s.length;e++)if(s[e].options.id===t)return s[e];for(e=0;e<s.length;e++)for(n=s[e].points||[],i=0;i<n.length;i++)if(n[i].id===t)return n[i];return null},getAxes:function(){var t,e,i=this,n=this.options,a=n.xAxis=p(n.xAxis||{}),o=n.yAxis=p(n.yAxis||{});yi(a,function(t,e){t.index=e,t.isX=!0}),yi(o,function(t,e){t.index=e}),t=a.concat(o),yi(t,function(t){e=new F(i,t)}),i.adjustTickAmounts()},getSelectedPoints:function(){var t=[];return yi(this.series,function(e){t=t.concat(bi(e.points||[],function(t){return t.selected}))}),t},getSelectedSeries:function(){return bi(this.series,function(t){return t.selected})},getStacks:function(){var t=this;yi(t.yAxis,function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)}),yi(t.series,function(e){!e.options.stacking||e.visible!==!0&&t.options.chart.ignoreHiddenSeries!==!1||(e.stackKey=e.type+f(e.options.stack,""))})},showResetZoom:function(){var t=this,e=Y.lang,i=t.options.chart.resetZoomButton,n=i.theme,a=n.states,o="chart"===i.relativeTo?null:"plotBox";this.resetZoomButton=t.renderer.button(e.resetZoom,null,null,function(){t.zoomOut()},n,a&&a.hover).attr({align:i.position.align,title:e.resetZoomTitle}).add().align(i.position,!1,o)},zoomOut:function(){var t=this;Ci(t,"selection",{resetSelection:!0},function(){t.zoom()})},zoom:function(t){var e,i,n=this,a=n.pointer,s=!1;!t||t.resetSelection?yi(n.axes,function(t){e=t.zoom()}):yi(t.xAxis.concat(t.yAxis),function(t){var i=t.axis,n=i.isXAxis;(a[n?"zoomX":"zoomY"]||a[n?"pinchX":"pinchY"])&&(e=i.zoom(t.min,t.max),i.displayBtn&&(s=!0))}),i=n.resetZoomButton,s&&!i?n.showResetZoom():!s&&o(i)&&(n.resetZoomButton=i.destroy()),e&&n.redraw(f(n.options.chart.animation,t&&t.animation,n.pointCount<100))},pan:function(t,e){var i,n=this,a=n.hoverPoints;a&&yi(a,function(t){t.setState()}),yi("xy"===e?[1,0]:[1],function(e){var a=t[e?"chartX":"chartY"],o=n[e?"xAxis":"yAxis"][0],s=n[e?"mouseDownX":"mouseDownY"],r=(o.pointRange||0)/2,l=o.getExtremes(),c=o.toValue(s-a,!0)+r,h=o.toValue(s+n[e?"plotWidth":"plotHeight"]-a,!0)-r;o.series.length&&c>ye(l.dataMin,l.min)&&h<ve(l.dataMax,l.max)&&(o.setExtremes(c,h,!1,!1,{trigger:"pan"}),i=!0),n[e?"mouseDownX":"mouseDownY"]=a}),i&&n.redraw(!1),m(n.container,{cursor:"move"})},setTitle:function(t,i){var n,a,o=this,s=o.options;n=s.title=e(s.title,t),a=s.subtitle=e(s.subtitle,i),yi([["title",t,n],["subtitle",i,a]],function(t){var e=t[0],i=o[e],n=t[1],a=t[2];i&&n&&(o[e]=i=i.destroy()),a&&a.text&&!i&&(o[e]=o.renderer.text(a.text,0,0,a.useHTML).attr({align:a.align,"class":Ye+e,zIndex:a.zIndex||4}).css(a.style).add())}),o.layOutTitles()},layOutTitles:function(){var e=0,i=this.title,n=this.subtitle,a=this.options,o=a.title,s=a.subtitle,r=this.spacingBox.width-44;i&&(i.css({width:(o.width||r)+Ge}).align(t({y:15},o),!1,"spacingBox"),o.floating||o.verticalAlign||(e=i.getBBox().height,e>=18&&25>=e&&(e=15))),n&&(n.css({width:(s.width||r)+Ge}).align(t({y:e+o.margin},s),!1,"spacingBox"),s.floating||s.verticalAlign||(e=ge(e+n.getBBox().height))),this.titleOffset=e},getChartSize:function(){var t=this,e=t.options.chart,i=t.renderToClone||t.renderTo;t.containerWidth=mi(i,"width"),t.containerHeight=mi(i,"height"),t.chartWidth=ve(0,e.width||t.containerWidth||600),t.chartHeight=ve(0,f(e.height,t.containerHeight>19?t.containerHeight:400))},cloneRenderTo:function(t){var e=this.renderToClone,i=this.container;t?e&&(this.renderTo.appendChild(i),E(e),delete this.renderToClone):(i&&i.parentNode===this.renderTo&&this.renderTo.removeChild(i),this.renderToClone=e=this.renderTo.cloneNode(0),m(e,{position:qe,top:"-9999px",display:"block"}),de.body.appendChild(e),i&&e.appendChild(i))},getContainer:function(){var e,i,o,s,r,l,c=this,h=c.options.chart,d="data-highcharts-chart";c.renderTo=s=h.renderTo,l=Ye+ze++,a(s)&&(c.renderTo=s=de.getElementById(s)),s||A(13,!0),r=n(u(s,d)),!isNaN(r)&&Fe[r]&&Fe[r].destroy(),u(s,d,c.index),s.innerHTML="",s.offsetWidth||c.cloneRenderTo(),c.getChartSize(),i=c.chartWidth,o=c.chartHeight,c.container=e=g(We,{className:Ye+"container"+(h.className?" "+h.className:""),id:l},t({position:$e,overflow:Ve,width:i+Ge,height:o+Ge,textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},h.style),c.renderToClone||s),c._cursor=e.style.cursor,c.renderer=h.forExport?new Ri(e,i,o,!0):new $(e,i,o),Ie&&c.renderer.create(c,e,i,o)},getMargins:function(){var t,e=this,i=e.spacing,n=e.legend,a=e.margin,o=e.options.legend,s=f(o.margin,10),r=o.x,l=o.y,c=o.align,h=o.verticalAlign,u=e.titleOffset;e.resetMargins(),t=e.axisOffset,u&&!d(a[0])&&(e.plotTop=ve(e.plotTop,u+e.options.title.margin+i[0])),n.display&&!o.floating&&("right"===c?d(a[1])||(e.marginRight=ve(e.marginRight,n.legendWidth-r+s+i[1])):"left"===c?d(a[3])||(e.plotLeft=ve(e.plotLeft,n.legendWidth+r+s+i[3])):"top"===h?d(a[0])||(e.plotTop=ve(e.plotTop,n.legendHeight+l+s+i[0])):"bottom"===h&&(d(a[2])||(e.marginBottom=ve(e.marginBottom,n.legendHeight-l+s+i[2])))),e.extraBottomMargin&&(e.marginBottom+=e.extraBottomMargin),e.extraTopMargin&&(e.plotTop+=e.extraTopMargin),e.hasCartesianSeries&&yi(e.axes,function(t){t.getOffset()}),d(a[3])||(e.plotLeft+=t[3]),d(a[0])||(e.plotTop+=t[0]),d(a[2])||(e.marginBottom+=t[2]),d(a[1])||(e.marginRight+=t[1]),e.setChartSize()},reflow:function(t){var e=this,i=e.options.chart,n=e.renderTo,a=i.width||mi(n,"width"),o=i.height||mi(n,"height"),s=t?t.target:ue,r=function(){e.container&&(e.setSize(a,o,!1),e.hasUserSize=null)};e.hasUserSize||!a||!o||s!==ue&&s!==de||((a!==e.containerWidth||o!==e.containerHeight)&&(clearTimeout(e.reflowTimeout),t?e.reflowTimeout=setTimeout(r,100):r()),e.containerWidth=a,e.containerHeight=o)},initReflow:function(){var t=this,e=function(e){t.reflow(e)};ki(ue,"resize",e),ki(t,"destroy",function(){_i(ue,"resize",e)})},setSize:function(t,e,i){var n,a,o,s=this;s.isResizing+=1,o=function(){s&&Ci(s,"endResize",null,function(){s.isResizing-=1})},O(i,s),s.oldChartHeight=s.chartHeight,s.oldChartWidth=s.chartWidth,d(t)&&(s.chartWidth=n=ve(0,fe(t)),s.hasUserSize=!!n),d(e)&&(s.chartHeight=a=ve(0,fe(e))),(G?Pi:m)(s.container,{width:n+Ge,height:a+Ge},G),s.setChartSize(!0),s.renderer.setSize(n,a,i),s.maxTicks=null,yi(s.axes,function(t){t.isDirty=!0,t.setScale()}),yi(s.series,function(t){t.isDirty=!0}),s.isDirtyLegend=!0,s.isDirtyBox=!0,s.getMargins(),s.redraw(i),s.oldChartHeight=null,Ci(s,"resize"),G===!1?o():setTimeout(o,G&&G.duration||500)},setChartSize:function(t){var e,i,n,a,o,s,r,l=this,c=l.inverted,h=l.renderer,d=l.chartWidth,u=l.chartHeight,p=l.options.chart,f=l.spacing,m=l.clipOffset;l.plotLeft=n=fe(l.plotLeft),l.plotTop=a=fe(l.plotTop),l.plotWidth=o=ve(0,fe(d-n-l.marginRight)),l.plotHeight=s=ve(0,fe(u-a-l.marginBottom)),l.plotSizeX=c?s:o,l.plotSizeY=c?o:s,l.plotBorderWidth=p.plotBorderWidth||0,l.spacingBox=h.spacingBox={x:f[3],y:f[0],width:d-f[3]-f[1],height:u-f[0]-f[2]},l.plotBox=h.plotBox={x:n,y:a,width:o,height:s},r=2*me(l.plotBorderWidth/2),e=ge(ve(r,m[3])/2),i=ge(ve(r,m[0])/2),l.clipBox={x:e,y:i,width:me(l.plotSizeX-ve(r,m[1])/2-e),height:me(l.plotSizeY-ve(r,m[2])/2-i)},t||yi(l.axes,function(t){t.setAxisSize(),t.setAxisTranslation()})},resetMargins:function(){var t=this,e=t.spacing,i=t.margin;t.plotTop=f(i[0],e[0]),t.marginRight=f(i[1],e[1]),t.marginBottom=f(i[2],e[2]),t.plotLeft=f(i[3],e[3]),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e,i=this,n=i.options.chart,a=i.renderer,o=i.chartWidth,s=i.chartHeight,r=i.chartBackground,l=i.plotBackground,c=i.plotBorder,h=i.plotBGImage,d=n.borderWidth||0,u=n.backgroundColor,p=n.plotBackgroundColor,f=n.plotBackgroundImage,m=n.plotBorderWidth||0,g=i.plotLeft,v=i.plotTop,y=i.plotWidth,b=i.plotHeight,x=i.plotBox,w=i.clipRect,k=i.clipBox;t=d+(n.shadow?8:0),(d||u)&&(r?r.animate(r.crisp(null,null,null,o-t,s-t)):(e={fill:u||Ue},d&&(e.stroke=n.borderColor,e["stroke-width"]=d),i.chartBackground=a.rect(t/2,t/2,o-t,s-t,n.borderRadius,d).attr(e).add().shadow(n.shadow))),p&&(l?l.animate(x):i.plotBackground=a.rect(g,v,y,b,0).attr({fill:p}).add().shadow(n.plotShadow)),f&&(h?h.animate(x):i.plotBGImage=a.image(f,g,v,y,b).add()),w?w.animate({width:k.width,height:k.height}):i.clipRect=a.clipRect(k),m&&(c?c.animate(c.crisp(null,g,v,y,b)):i.plotBorder=a.rect(g,v,y,b,0,-m).attr({stroke:n.plotBorderColor,"stroke-width":m,zIndex:1}).add()),i.isDirtyBox=!1},propFromSeries:function(){var t,e,i,n=this,a=n.options.chart,o=n.options.series;yi(["inverted","angular","polar"],function(s){for(t=ui[a.type||a.defaultSeriesType],i=n[s]||a[s]||t&&t.prototype[s],e=o&&o.length;!i&&e--;)t=ui[o[e].type],t&&t.prototype[s]&&(i=!0);n[s]=i})},linkSeries:function(){var t=this,e=t.series;yi(e,function(t){t.linkedSeries.length=0}),yi(e,function(e){var i=e.options.linkedTo;a(i)&&(i=":previous"===i?t.series[e.index-1]:t.get(i),i&&(i.linkedSeries.push(e),e.linkedParent=i))})},render:function(){var e,i=this,a=i.axes,o=i.renderer,s=i.options,r=s.labels,l=s.credits;i.setTitle(),i.legend=new Vi(i,s.legend),i.getStacks(),yi(a,function(t){t.setScale()}),i.getMargins(),i.maxTicks=null,yi(a,function(t){t.setTickPositions(!0),t.setMaxTicks()}),i.adjustTickAmounts(),i.getMargins(),i.drawChartBox(),i.hasCartesianSeries&&yi(a,function(t){t.render()}),i.seriesGroup||(i.seriesGroup=o.g("series-group").attr({zIndex:3}).add()),yi(i.series,function(t){t.translate(),t.setTooltipPoints(),t.render()}),r.items&&yi(r.items,function(e){var a=t(r.style,e.style),s=n(a.left)+i.plotLeft,l=n(a.top)+i.plotTop+12;delete a.left,delete a.top,o.text(e.html,s,l).attr({zIndex:2}).css(a).add()}),l.enabled&&!i.credits&&(e=l.href,i.credits=o.text(l.text,0,0).on("click",function(){e&&(location.href=e)}).attr({align:l.position.align,zIndex:8}).css(l.style).add().align(l.position)),i.hasRendered=!0},destroy:function(){var t,e=this,i=e.axes,n=e.series,a=e.container,o=a&&a.parentNode;for(Ci(e,"destroy"),Fe[e.index]=q,e.renderTo.removeAttribute("data-highcharts-chart"),_i(e),t=i.length;t--;)i[t]=i[t].destroy();for(t=n.length;t--;)n[t]=n[t].destroy();yi(["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","scroller","rangeSelector","legend","resetZoomButton","tooltip","renderer"],function(t){var i=e[t];i&&i.destroy&&(e[t]=i.destroy())}),a&&(a.innerHTML="",_i(a),o&&E(a));for(t in e)delete e[t]},isReadyToRender:function(){var t=this;return!Me&&ue==ue.top&&"complete"!==de.readyState||Ie&&!ue.canvg?(Ie?Hi.push(function(){t.firstRender()},t.options.global.canvasToolsURL):de.attachEvent("onreadystatechange",function(){de.detachEvent("onreadystatechange",t.firstRender),"complete"===de.readyState&&t.firstRender()}),!1):!0},firstRender:function(){var t=this,e=t.options,i=t.callback;t.isReadyToRender()&&(t.getContainer(),Ci(t,"init"),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),yi(e.series||[],function(e){t.initSeries(e)}),t.linkSeries(),Ci(t,"beforeRender"),t.pointer=new Wi(t,e),t.render(),t.renderer.draw(),i&&i.apply(t,[t]),yi(t.callbacks,function(e){e.apply(t,[t])}),t.cloneRenderTo(!0),Ci(t,"load"))},splashArray:function(t,e){var i=e[t],n=o(i)?i:[i,i,i,i];return[f(e[t+"Top"],n[0]),f(e[t+"Right"],n[1]),f(e[t+"Bottom"],n[2]),f(e[t+"Left"],n[3])]}},W.prototype.callbacks=[];var Xi=Highcharts.CenteredSeriesMixin={getCenter:function(){var t,e,i=this.options,a=this.chart,o=2*(i.slicedOffset||0),s=a.plotWidth-2*o,r=a.plotHeight-2*o,l=i.center,c=[f(l[0],"50%"),f(l[1],"50%"),i.size||"100%",i.innerSize||0],h=ye(s,r);return wi(c,function(i,a){return e=/%$/.test(i),t=2>a||2===a&&e,(e?[s,r,h,h][a]*n(i)/100:i)+(t?o:0)})}},Gi=function(){};Gi.prototype={init:function(t,e,i){var n,a=this;return a.series=t,a.applyOptions(e,i),a.pointAttr={},t.options.colorByPoint&&(n=t.options.colors||t.chart.options.colors,a.color=a.color||n[t.colorCounter++],t.colorCounter===n.length&&(t.colorCounter=0)),t.chart.pointCount++,a},applyOptions:function(e,i){var n=this,a=n.series,o=a.pointValKey;return e=Gi.prototype.optionsToObject.call(this,e),t(n,e),n.options=n.options?t(n.options,e):e,o&&(n.y=n[o]),n.x===q&&a&&(n.x=i===q?a.autoIncrement():i),n},optionsToObject:function(t){var e,i={},n=this.series,a=n.pointArrayMap||["y"],o=a.length,r=0,l=0;if("number"==typeof t||null===t)i[a[0]]=t;else if(s(t))for(t.length>o&&(e=typeof t[0],"string"===e?i.name=t[0]:"number"===e&&(i.x=t[0]),r++);o>l;)i[a[l++]]=t[r++];else"object"==typeof t&&(i=t,t.dataLabels&&(n._hasPointLabels=!0),t.marker&&(n._hasPointMarkers=!0));return i},destroy:function(){var t,e=this,i=e.series,n=i.chart,a=n.hoverPoints;n.pointCount--,a&&(e.setState(),h(a,e),a.length||(n.hoverPoints=null)),e===n.hoverPoint&&e.onMouseOut(),(e.graphic||e.dataLabel)&&(_i(e),e.destroyElements()),e.legendItem&&n.legend.destroyItem(e);for(t in e)e[t]=null},destroyElements:function(){for(var t,e=this,i=["graphic","dataLabel","dataLabelUpper","group","connector","shadowGroup"],n=6;n--;)t=i[n],e[t]&&(e[t]=e[t].destroy())},getLabelConfig:function(){var t=this;return{x:t.category,y:t.y,key:t.name||t.category,series:t.series,point:t,percentage:t.percentage,total:t.total||t.stackTotal}},select:function(t,e){var i=this,n=i.series,a=n.chart;t=f(t,!i.selected),i.firePointEvent(t?"select":"unselect",{accumulate:e},function(){i.selected=i.options.selected=t,n.options.data[vi(i,n.data)]=i.options,i.setState(t&&ii),e||yi(a.getSelectedPoints(),function(t){t.selected&&t!==i&&(t.selected=t.options.selected=!1,n.options.data[vi(t,n.data)]=t.options,t.setState(ti),t.firePointEvent("unselect"))})})},onMouseOver:function(t){var e=this,i=e.series,n=i.chart,a=n.tooltip,o=n.hoverPoint;o&&o!==e&&o.onMouseOut(),e.firePointEvent("mouseOver"),!a||a.shared&&!i.noSharedTooltip||a.refresh(e,t),e.setState(ei),n.hoverPoint=e},onMouseOut:function(){var t=this.series.chart,e=t.hoverPoints;e&&-1!==vi(this,e)||(this.firePointEvent("mouseOut"),this.setState(),t.hoverPoint=null)},tooltipFormatter:function(t){var e=this.series,i=e.tooltipOptions,n=f(i.valueDecimals,""),a=i.valuePrefix||"",o=i.valueSuffix||"";return yi(e.pointArrayMap||["y"],function(e){e="{point."+e,(a||o)&&(t=t.replace(e+"}",a+e+"}"+o)),t=t.replace(e+"}",e+":,."+n+"f}")}),k(t,{point:this,series:this.series})},firePointEvent:function(t,e,i){var n=this,a=this.series,o=a.options;(o.point.events[t]||n.options&&n.options.events&&n.options.events[t])&&this.importEvents(),"click"===t&&o.allowPointSelect&&(i=function(t){n.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),Ci(this,t,e,i)},importEvents:function(){if(!this.hasImportedEvents){var t,i=this,n=e(i.series.options.point,i.options),a=n.events;i.events=a;for(t in a)ki(i,t,a[t]);this.hasImportedEvents=!0}},setState:function(t,i){var n,a,o=this,s=o.plotX,r=o.plotY,l=o.series,c=l.options.states,h=Li[l.type].marker&&l.options.marker,d=h&&!h.enabled,u=h&&h.states[t],p=u&&u.enabled===!1,f=l.stateMarkerGraphic,m=o.marker||{},g=l.chart,v=o.pointAttr;t=t||ti,i=i&&f,t===o.state&&!i||o.selected&&t!==ii||c[t]&&c[t].enabled===!1||t&&(p||d&&!u.enabled)||t&&m.states&&m.states[t]&&m.states[t].enabled===!1||(o.graphic?(n=h&&o.graphic.symbolName&&v[t].r,o.graphic.attr(e(v[t],n?{x:s-n,y:r-n,width:2*n,height:2*n}:{}))):(t&&u&&(n=u.radius,a=m.symbol||l.symbol,f&&f.currentSymbol!==a&&(f=f.destroy()),f?f[i?"animate":"attr"]({x:s-n,y:r-n}):(l.stateMarkerGraphic=f=g.renderer.symbol(a,s-n,r-n,2*n,2*n).attr(v[t]).add(l.markerGroup),f.currentSymbol=a)),f&&f[t&&g.isInsidePlot(s,r,g.inverted)?"show":"hide"]()),o.state=t)}};var Ui=function(){};Ui.prototype={isCartesian:!0,type:"line",pointClass:Gi,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(e,i){var n,a,o=this,s=e.series,r=function(t,e){return f(t.options.index,t._i)-f(e.options.index,e._i)};o.chart=e,o.options=i=o.setOptions(i),o.linkedSeries=[],o.bindAxes(),t(o,{name:i.name,state:ti,pointAttr:{},visible:i.visible!==!1,selected:i.selected===!0}),Ie&&(i.animation=!1),a=i.events;for(n in a)ki(o,n,a[n]);(a&&a.click||i.point&&i.point.events&&i.point.events.click||i.allowPointSelect)&&(e.runTrackerClick=!0),o.getColor(),o.getSymbol(),yi(o.parallelArrays,function(t){o[t+"Data"]=[]}),o.setData(i.data,!1),o.isCartesian&&(e.hasCartesianSeries=!0),s.push(o),o._i=s.length-1,P(s,r),this.yAxis&&P(this.yAxis.series,r),yi(s,function(t,e){t.index=e,t.name=t.name||"Series "+(e+1)})},bindAxes:function(){var t,e=this,i=e.options,n=e.chart;yi(e.axisTypes||[],function(a){yi(n[a],function(n){t=n.options,(i[a]===t.index||i[a]!==q&&i[a]===t.id||i[a]===q&&0===t.index)&&(n.series.push(e),e[a]=n,n.isDirty=!0)}),e[a]||e.optionalAxis===a||A(18,!0)})},updateParallelArrays:function(t,e){var i=t.series,n=arguments,a="number"==typeof e?function(n){var a="y"===n&&i.toYData?i.toYData(t):t[n];i[n+"Data"][e]=a}:function(t){Array.prototype[e].apply(i[t+"Data"],Array.prototype.slice.call(n,2))};yi(i.parallelArrays,a)},autoIncrement:function(){var t=this,e=t.options,i=t.xIncrement;return i=f(i,e.pointStart,0),t.pointInterval=f(t.pointInterval,e.pointInterval,1),t.xIncrement=i+t.pointInterval,i},getSegments:function(){var t,e=this,i=-1,n=[],a=e.points,o=a.length;if(o)if(e.options.connectNulls){for(t=o;t--;)null===a[t].y&&a.splice(t,1);a.length&&(n=[a])}else yi(a,function(t,e){null===t.y?(e>i+1&&n.push(a.slice(i+1,e)),i=e):e===o-1&&n.push(a.slice(i+1,e+1))});e.segments=n},setOptions:function(t){var i,n=this.chart,a=n.options,o=a.plotOptions,s=n.userOptions||{},r=s.plotOptions||{},l=o[this.type];return this.userOptions=t,i=e(l,o.series,t),this.tooltipOptions=e(Y.tooltip,Y.plotOptions[this.type].tooltip,s.tooltip,r.series&&r.series.tooltip,r[this.type]&&r[this.type].tooltip,t.tooltip),null===l.marker&&delete i.marker,i},getColor:function(){var t,e,i=this.options,n=this.userOptions,a=this.chart.options.colors,o=this.chart.counters;t=i.color||Li[this.type].color,t||i.colorByPoint||(d(n._colorIndex)?e=n._colorIndex:(n._colorIndex=o.color,e=o.color++),t=a[e]),this.color=t,o.wrapColor(a.length)},getSymbol:function(){var t,e=this,i=e.userOptions,n=e.options.marker,a=e.chart,o=a.options.symbols,s=a.counters;e.symbol=n.symbol,e.symbol||(d(i._symbolIndex)?t=i._symbolIndex:(i._symbolIndex=s.symbol,t=s.symbol++),e.symbol=o[t]),/^url/.test(e.symbol)&&(n.radius=0),s.wrapSymbol(o.length)},drawLegendSymbol:Yi.drawLineMarker,setData:function(t,e){var i,n=this,o=n.points,l=n.options,c=n.chart,h=null,d=n.xAxis,u=d&&!!d.categories;n.xIncrement=null,n.pointRange=u?1:l.pointRange,n.colorCounter=0,t=t||[];var p,m=t.length,g=l.turboThreshold,v=this.xData,y=this.yData,b=n.pointArrayMap,x=b&&b.length;if(yi(this.parallelArrays,function(t){n[t+"Data"].length=0}),g&&m>g){for(i=0;null===h&&m>i;)h=t[i],i++;if(r(h)){var w=f(l.pointStart,0),k=f(l.pointInterval,1);for(i=0;m>i;i++)v[i]=w,y[i]=t[i],w+=k;n.xIncrement=w}else if(s(h))if(x)for(i=0;m>i;i++)p=t[i],v[i]=p[0],y[i]=p.slice(1,x+1);else for(i=0;m>i;i++)p=t[i],v[i]=p[0],y[i]=p[1];else A(12)}else for(i=0;m>i;i++)t[i]!==q&&(p={series:n},n.pointClass.prototype.applyOptions.apply(p,[t[i]]),n.updateParallelArrays(p,i),u&&p.name&&(d.names[p.x]=p.name));for(a(y[0])&&A(14,!0),n.data=[],n.options.data=t,i=o&&o.length||0;i--;)o[i]&&o[i].destroy&&o[i].destroy();d&&(d.minRange=d.userMinRange),n.isDirty=n.isDirtyData=c.isDirtyBox=!0,f(e,!0)&&c.redraw(!1)},processData:function(t){var e,i,n,a,o,s=this,r=s.xData,l=s.yData,c=r.length,h=0,d=s.xAxis,u=s.options,p=u.cropThreshold,f=s.isCartesian;if(f&&!s.isDirty&&!d.isDirty&&!s.yAxis.isDirty&&!t)return!1;if(f&&s.sorted&&(!p||c>p||s.forceCrop)){var m=d.min,g=d.max;r[c-1]<m||r[0]>g?(r=[],l=[]):(r[0]<m||r[c-1]>g)&&(e=this.cropData(s.xData,s.yData,m,g),r=e.xData,l=e.yData,h=e.start,i=!0)}for(o=r.length-1;o>=0;o--)n=r[o]-r[o-1],n>0&&(a===q||a>n)?a=n:0>n&&s.requireSorting&&A(15);s.cropped=i,s.cropStart=h,s.processedXData=r,s.processedYData=l,null===u.pointRange&&(s.pointRange=a||1),s.closestPointRange=a},cropData:function(t,e,i,n){var a,o=t.length,s=0,r=o,l=f(this.cropShoulder,1);for(a=0;o>a;a++)if(t[a]>=i){s=ve(0,a-l);break}for(;o>a;a++)if(t[a]>n){r=a+l;break}return{xData:t.slice(s,r),yData:e.slice(s,r),start:s,end:r}},generatePoints:function(){var t,e,i,n,a=this,o=a.options,s=o.data,r=a.data,l=a.processedXData,c=a.processedYData,h=a.pointClass,d=l.length,u=a.cropStart||0,f=a.hasGroupedData,m=[];if(!r&&!f){var g=[];g.length=s.length,r=a.data=g}for(n=0;d>n;n++)e=u+n,f?m[n]=(new h).init(a,[l[n]].concat(p(c[n]))):(r[e]?i=r[e]:s[e]!==q&&(r[e]=i=(new h).init(a,s[e],l[n])),m[n]=i);if(r&&(d!==(t=r.length)||f))for(n=0;t>n;n++)n!==u||f||(n+=d),r[n]&&(r[n].destroyElements(),r[n].plotX=q);a.data=r,a.points=m},setStackedPoints:function(){if(this.options.stacking&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var t,e,i,n,a,o,s,r=this,l=r.processedXData,c=r.processedYData,h=[],d=c.length,u=r.options,p=u.threshold,f=u.stack,m=u.stacking,g=r.stackKey,v="-"+g,y=r.negStacks,b=r.yAxis,x=b.stacks,w=b.oldStacks;for(a=0;d>a;a++)o=l[a],s=c[a],t=y&&p>s,n=t?v:g,x[n]||(x[n]={}),x[n][o]||(w[n]&&w[n][o]?(x[n][o]=w[n][o],x[n][o].total=null):x[n][o]=new H(b,b.options.stackLabels,t,o,f,m)),e=x[n][o],e.points[r.index]=[e.cum||0],"percent"===m?(i=t?g:v,y&&x[i]&&x[i][o]?(i=x[i][o],e.total=i.total=ve(i.total,e.total)+be(s)||0):e.total=M(e.total+(be(s)||0))):e.total=M(e.total+(s||0)),e.cum=(e.cum||0)+(s||0),e.points[r.index].push(e.cum),h[a]=e.cum;"percent"===m&&(b.usePercentage=!0),this.stackedYData=h,b.oldStacks={}}},setPercentStacks:function(){var t=this,e=t.stackKey,i=t.yAxis.stacks;yi([e,"-"+e],function(e){for(var n,a,o,s,r=t.xData.length;r--;)n=t.xData[r],a=i[e]&&i[e][n],o=a&&a.points[t.index],o&&(s=a.total?100/a.total:0,o[0]=M(o[0]*s),o[1]=M(o[1]*s),t.stackedYData[r]=o[1])})},getExtremes:function(t){var e,i,n,a,o,s,r,l,c,h=this.xAxis,d=this.yAxis,u=this.processedXData,p=[],m=0,g=h.getExtremes(),v=g.min,y=g.max;for(t=t||this.stackedYData||this.processedYData,e=t.length,l=0;e>l;l++)if(s=u[l],r=t[l],i=null!==r&&r!==q&&(!d.isLog||r.length||r>0),n=this.getExtremesFromAll||this.cropped||(u[l+1]||s)>=v&&(u[l-1]||s)<=y,i&&n)if(c=r.length)for(;c--;)null!==r[c]&&(p[m++]=r[c]);else p[m++]=r;this.dataMin=f(a,S(p)),this.dataMax=f(o,j(p))},translate:function(){this.processedXData||this.processData(),this.generatePoints();var t,e=this,i=e.options,n=i.stacking,a=e.xAxis,o=a.categories,s=e.yAxis,l=e.points,c=l.length,h=!!e.modifyValue,u=i.pointPlacement,p="between"===u||r(u),m=i.threshold;for(t=0;c>t;t++){var g,v,y=l[t],b=y.x,x=y.y,w=y.low,k=n&&s.stacks[(e.negStacks&&m>x?"-":"")+e.stackKey];s.isLog&&0>=x&&(y.y=x=null),y.plotX=a.translate(b,0,0,0,1,u,"flags"===this.type),n&&e.visible&&k&&k[b]&&(g=k[b],v=g.points[e.index],w=v[0],x=v[1],0===w&&(w=f(m,s.min)),s.isLog&&0>=w&&(w=null),y.total=y.stackTotal=g.total,y.percentage="percent"===n&&y.y/g.total*100,y.stackY=x,g.setOffset(e.pointXOffset||0,e.barW||0)),y.yBottom=d(w)?s.translate(w,0,1,0,1):null,h&&(x=e.modifyValue(x,y)),y.plotY="number"==typeof x&&1/0!==x?s.translate(x,0,1,0,1):q,y.clientX=p?a.translate(b,0,0,0,1):y.plotX,y.negative=y.y<(m||0),y.category=o&&o[y.x]!==q?o[y.x]:y.x
}e.getSegments()},setTooltipPoints:function(t){var e,i,n,a,o,s,r,l=this,c=[],h=l.xAxis,d=h&&h.getExtremes(),u=h?h.tooltipLen||h.len:l.chart.plotSizeX,p=[];if(l.options.enableMouseTracking!==!1){for(t&&(l.tooltipPoints=null),yi(l.segments||l.points,function(t){c=c.concat(t)}),h&&h.reversed&&(c=c.reverse()),l.orderTooltipPoints&&l.orderTooltipPoints(c),e=c.length,r=0;e>r;r++)if(a=c[r],o=a.x,o>=d.min&&o<=d.max)for(s=c[r+1],i=n===q?0:n+1,n=c[r+1]?ye(ve(0,me((a.clientX+(s?s.wrappedClientX||s.clientX:u))/2)),u):u;i>=0&&n>=i;)p[i++]=a;l.tooltipPoints=p}},tooltipHeaderFormatter:function(t){var e,i=this,n=i.tooltipOptions,a=n.dateTimeLabelFormats,o=n.xDateFormat,s=i.xAxis,l=s&&"datetime"===s.options.type,c=n.headerFormat,h=s&&s.closestPointRange;if(l&&!o){if(h){for(e in Q)if(Q[e]>=h){o=a[e];break}}else o=a.day;o=o||a.year}return l&&o&&r(t.key)&&(c=c.replace("{point.key}","{point.key:"+o+"}")),k(c,{point:t,series:i})},onMouseOver:function(){var t=this,e=t.chart,i=e.hoverSeries;i&&i!==t&&i.onMouseOut(),t.options.events.mouseOver&&Ci(t,"mouseOver"),t.setState(ei),e.hoverSeries=t},onMouseOut:function(){var t=this,e=t.options,i=t.chart,n=i.tooltip,a=i.hoverPoint;a&&a.onMouseOut(),t&&e.events.mouseOut&&Ci(t,"mouseOut"),!n||e.stickyTracking||n.shared&&!t.noSharedTooltip||n.hide(),t.setState(),i.hoverSeries=null},animate:function(e){var i,n,a,s=this,r=s.chart,l=r.renderer,c=s.options.animation,h=r.clipBox,d=r.inverted;c&&!o(c)&&(c=Li[s.type].animation),a="_sharedClip"+c.duration+c.easing,e?(i=r[a],n=r[a+"m"],i||(r[a]=i=l.clipRect(t(h,{width:0})),r[a+"m"]=n=l.clipRect(-99,d?-r.plotLeft:-r.plotTop,99,d?r.chartWidth:r.chartHeight)),s.group.clip(i),s.markerGroup.clip(n),s.sharedClipKey=a):(i=r[a],i&&(i.animate({width:r.plotSizeX},c),r[a+"m"].animate({width:r.plotSizeX+99},c)),s.animate=null,s.animationTimeout=setTimeout(function(){s.afterAnimate()},c.duration))},afterAnimate:function(){var t=this.chart,e=this.sharedClipKey,i=this.group;i&&this.options.clip!==!1&&(i.clip(t.clipRect),this.markerGroup.clip()),setTimeout(function(){e&&t[e]&&(t[e]=t[e].destroy(),t[e+"m"]=t[e+"m"].destroy())},100)},drawPoints:function(){var e,i,n,a,o,s,r,l,c,h,d,u,p=this,m=p.points,g=p.chart,v=p.options,y=v.marker,b=p.markerGroup;if(y.enabled||p._hasPointMarkers)for(a=m.length;a--;)o=m[a],i=me(o.plotX),n=o.plotY,c=o.graphic,h=o.marker||{},d=y.enabled&&h.enabled===q||h.enabled,u=g.isInsidePlot(fe(i),n,g.inverted),d&&n!==q&&!isNaN(n)&&null!==o.y?(e=o.pointAttr[o.selected?ii:ti],s=e.r,r=f(h.symbol,p.symbol),l=0===r.indexOf("url"),c?c.attr({visibility:u?Me?"inherit":Xe:Ve}).animate(t({x:i-s,y:n-s},c.symbolName?{width:2*s,height:2*s}:{})):u&&(s>0||l)&&(o.graphic=c=g.renderer.symbol(r,i-s,n-s,2*s,2*s).attr(e).add(b))):c&&(o.graphic=c.destroy())},convertAttribs:function(t,e,i,n){var a,o,s=this.pointAttrToOptions,r={};t=t||{},e=e||{},i=i||{},n=n||{};for(a in s)o=s[a],r[a]=f(t[o],e[a],i[a],n[a]);return r},getAttribs:function(){var e,i,n,a,o,s,r,l=this,c=l.options,h=Li[l.type].marker?c.marker:c,u=h.states,p=u[ei],f=l.color,m={stroke:f,fill:f},g=l.points||[],v=[],y=l.pointAttrToOptions,b=c.negativeColor,x=h.lineColor,w=h.fillColor;for(c.marker?(p.radius=p.radius||h.radius+2,p.lineWidth=p.lineWidth||h.lineWidth+1):p.color=p.color||Ii(p.color||f).brighten(p.brightness).get(),v[ti]=l.convertAttribs(h,m),yi([ei,ii],function(t){v[t]=l.convertAttribs(u[t],v[ti])}),l.pointAttr=v,i=g.length;i--;){if(n=g[i],h=n.options&&n.options.marker||n.options,h&&h.enabled===!1&&(h.radius=0),n.negative&&b&&(n.color=n.fillColor=b),o=c.colorByPoint||n.color,n.options)for(r in y)d(h[y[r]])&&(o=!0);o?(h=h||{},a=[],u=h.states||{},e=u[ei]=u[ei]||{},c.marker||(e.color=Ii(e.color||n.color).brighten(e.brightness||p.brightness).get()),s={color:n.color},w||(s.fillColor=n.color),x||(s.lineColor=n.color),a[ti]=l.convertAttribs(t(s,h),v[ti]),a[ei]=l.convertAttribs(u[ei],v[ei],a[ti]),a[ii]=l.convertAttribs(u[ii],v[ii],a[ti])):a=v,n.pointAttr=a}},destroy:function(){var t,e,i,n,a,o=this,s=o.chart,r=/AppleWebKit\/533/.test(Ce),l=o.data||[];for(Ci(o,"destroy"),_i(o),yi(o.axisTypes||[],function(t){a=o[t],a&&(h(a.series,o),a.isDirty=a.forceRedraw=!0)}),o.legendItem&&o.chart.legend.destroyItem(o),e=l.length;e--;)i=l[e],i&&i.destroy&&i.destroy();o.points=null,clearTimeout(o.animationTimeout),yi(["area","graph","dataLabelsGroup","group","markerGroup","tracker","graphNeg","areaNeg","posClip","negClip"],function(e){o[e]&&(t=r&&"group"===e?"hide":"destroy",o[e][t]())}),s.hoverSeries===o&&(s.hoverSeries=null),h(s.series,o);for(n in o)delete o[n]},getSegmentPath:function(t){var e=this,i=[],n=e.options.step;return yi(t,function(a,o){var s,r=a.plotX,l=a.plotY;e.getPointSpline?i.push.apply(i,e.getPointSpline(t,a,o)):(i.push(o?Ze:Qe),n&&o&&(s=t[o-1],"right"===n?i.push(s.plotX,l):"center"===n?i.push((s.plotX+r)/2,s.plotY,(s.plotX+r)/2,l):i.push(r,s.plotY)),i.push(a.plotX,a.plotY))}),i},getGraphPath:function(){var t,e=this,i=[],n=[];return yi(e.segments,function(a){t=e.getSegmentPath(a),a.length>1?i=i.concat(t):n.push(a[0])}),e.singlePoints=n,e.graphPath=i,i},drawGraph:function(){var t=this,e=this.options,i=[["graph",e.lineColor||this.color]],n=e.lineWidth,a=e.dashStyle,o="square"!==e.linecap,s=this.getGraphPath(),r=e.negativeColor;r&&i.push(["graphNeg",r]),yi(i,function(i,r){var l,c=i[0],h=t[c];h?(Si(h),h.animate({d:s})):n&&s.length&&(l={stroke:i[1],"stroke-width":n,zIndex:1},a?l.dashstyle=a:o&&(l["stroke-linecap"]=l["stroke-linejoin"]="round"),t[c]=t.chart.renderer.path(s).attr(l).add(t.group).shadow(!r&&e.shadow))})},clipNeg:function(){var t,e,i,n,a,o=this.options,s=this.chart,r=s.renderer,l=o.negativeColor||o.negativeFillColor,c=this.graph,h=this.area,d=this.posClip,u=this.negClip,p=s.chartWidth,f=s.chartHeight,m=ve(p,f),g=this.yAxis;l&&(c||h)&&(t=fe(g.toPixels(o.threshold||0,!0)),0>t&&(m-=t),n={x:0,y:0,width:m,height:t},a={x:0,y:t,width:m,height:m},s.inverted&&(n.height=a.y=s.plotWidth-t,r.isVML&&(n={x:s.plotWidth-t-s.plotLeft,y:0,width:p,height:f},a={x:t+s.plotLeft-p,y:0,width:s.plotLeft+t,height:p})),g.reversed?(e=a,i=n):(e=n,i=a),d?(d.animate(e),u.animate(i)):(this.posClip=d=r.clipRect(e),this.negClip=u=r.clipRect(i),c&&this.graphNeg&&(c.clip(d),this.graphNeg.clip(u)),h&&(h.clip(d),this.areaNeg.clip(u))))},invertGroups:function(){function t(){var t={width:e.yAxis.len,height:e.xAxis.len};yi(["group","markerGroup"],function(i){e[i]&&e[i].attr(t).invert()})}var e=this,i=e.chart;e.xAxis&&(ki(i,"resize",t),ki(e,"destroy",function(){_i(i,"resize",t)}),t(),e.invertGroups=t)},plotGroup:function(t,e,i,n,a){var o=this[t],s=!o;return s&&(this[t]=o=this.chart.renderer.g(e).attr({visibility:i,zIndex:n||.1}).add(a)),o[s?"attr":"animate"](this.getPlotBox()),o},getPlotBox:function(){return{translateX:this.xAxis?this.xAxis.left:this.chart.plotLeft,translateY:this.yAxis?this.yAxis.top:this.chart.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this,i=e.chart,n=e.options,a=n.animation,o=a&&!!e.animate&&i.renderer.isSVG,s=e.visible?Xe:Ve,r=n.zIndex,l=e.hasRendered,c=i.seriesGroup;t=e.plotGroup("group","series",s,r,c),e.markerGroup=e.plotGroup("markerGroup","markers",s,r,c),o&&e.animate(!0),e.getAttribs(),t.inverted=e.isCartesian?i.inverted:!1,e.drawGraph&&(e.drawGraph(),e.clipNeg()),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.options.enableMouseTracking!==!1&&e.drawTracker(),i.inverted&&e.invertGroups(),n.clip===!1||e.sharedClipKey||l||t.clip(i.clipRect),o?e.animate():l||e.afterAnimate(),e.isDirty=e.isDirtyData=!1,e.hasRendered=!0},redraw:function(){var t=this,e=t.chart,i=t.isDirtyData,n=t.group,a=t.xAxis,o=t.yAxis;n&&(e.inverted&&n.attr({width:e.plotWidth,height:e.plotHeight}),n.animate({translateX:f(a&&a.left,e.plotLeft),translateY:f(o&&o.top,e.plotTop)})),t.translate(),t.setTooltipPoints(!0),t.render(),i&&Ci(t,"updatedData")},setState:function(t){var e,i=this,n=i.options,a=i.graph,o=i.graphNeg,s=n.states,r=n.lineWidth;if(t=t||ti,i.state!==t){if(i.state=t,s[t]&&s[t].enabled===!1)return;t&&(r=s[t].lineWidth||r+1),a&&!a.dashstyle&&(e={"stroke-width":r},a.attr(e),o&&o.attr(e))}},setVisible:function(t,e){var i,n=this,a=n.chart,o=n.legendItem,s=a.options.chart.ignoreHiddenSeries,r=n.visible;n.visible=t=n.userOptions.visible=t===q?!r:t,i=t?"show":"hide",yi(["group","dataLabelsGroup","markerGroup","tracker"],function(t){n[t]&&n[t][i]()}),a.hoverSeries===n&&n.onMouseOut(),o&&a.legend.colorizeItem(n,t),n.isDirty=!0,n.options.stacking&&yi(a.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),yi(n.linkedSeries,function(e){e.setVisible(t,!1)}),s&&(a.isDirtyBox=!0),e!==!1&&a.redraw(),Ci(n,i)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){var e=this;e.selected=t=t===q?!e.selected:t,e.checkbox&&(e.checkbox.checked=t),Ci(e,t?"select":"unselect")},drawTracker:qi.drawTrackerGraph},t(W.prototype,{addSeries:function(t,e,i){var n,a=this;return t&&(e=f(e,!0),Ci(a,"addSeries",{options:t},function(){n=a.initSeries(t),a.isDirtyLegend=!0,a.linkSeries(),e&&a.redraw(i)})),n},addAxis:function(t,i,n,a){var o,s=i?"xAxis":"yAxis",r=this.options;o=new F(this,e(t,{index:this[s].length,isX:i})),r[s]=p(r[s]||{}),r[s].push(t),f(n,!0)&&this.redraw(a)},showLoading:function(e){var i=this,n=i.options,a=i.loadingDiv,o=n.loading;a||(i.loadingDiv=a=g(We,{className:Ye+"loading"},t(o.style,{zIndex:10,display:Ue}),i.container),i.loadingSpan=g("span",null,o.labelStyle,a)),i.loadingSpan.innerHTML=e||n.lang.loading,i.loadingShown||(m(a,{opacity:0,display:"",left:i.plotLeft+Ge,top:i.plotTop+Ge,width:i.plotWidth+Ge,height:i.plotHeight+Ge}),Pi(a,{opacity:o.style.opacity},{duration:o.showDuration||0}),i.loadingShown=!0)},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&Pi(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){m(e,{display:Ue})}}),this.loadingShown=!1}}),t(Gi.prototype,{update:function(t,e,i){var n,a=this,s=a.series,r=a.graphic,l=s.data,c=s.chart,h=s.options;e=f(e,!0),a.firePointEvent("update",{options:t},function(){a.applyOptions(t),o(t)&&(s.getAttribs(),r&&(t&&t.marker&&t.marker.symbol?a.graphic=r.destroy():r.attr(a.pointAttr[a.state||""])),t&&t.dataLabels&&a.dataLabel&&(a.dataLabel=a.dataLabel.destroy())),n=vi(a,l),s.updateParallelArrays(a,n),h.data[n]=a.options,s.isDirty=s.isDirtyData=!0,!s.fixedBox&&s.hasCartesianSeries&&(c.isDirtyBox=!0),"point"===h.legendType&&c.legend.destroyItem(a),e&&c.redraw(i)})},remove:function(t,e){var i,n=this,a=n.series,o=a.points,s=a.chart,r=a.data;O(e,s),t=f(t,!0),n.firePointEvent("remove",null,function(){i=vi(n,r),r.length===o.length&&o.splice(i,1),r.splice(i,1),a.options.data.splice(i,1),a.updateParallelArrays(n,"splice",i,1),n.destroy(),a.isDirty=!0,a.isDirtyData=!0,t&&s.redraw()})}}),t(Ui.prototype,{addPoint:function(t,e,i,n){var a,o,s,r,l=this,c=l.options,h=l.data,d=l.graph,u=l.area,p=l.chart,m=l.xAxis&&l.xAxis.names,g=d&&d.shift||0,v=c.data,y=l.xData;if(O(n,p),i&&yi([d,u,l.graphNeg,l.areaNeg],function(t){t&&(t.shift=g+1)}),u&&(u.isArea=!0),e=f(e,!0),a={series:l},l.pointClass.prototype.applyOptions.apply(a,[t]),s=a.x,r=y.length,l.requireSorting&&s<y[r-1])for(o=!0;r&&y[r-1]>s;)r--;l.updateParallelArrays(a,"splice",r,0,0),l.updateParallelArrays(a,r),m&&(m[s]=a.name),v.splice(r,0,t),o&&(l.data.splice(r,0,null),l.processData()),"point"===c.legendType&&l.generatePoints(),i&&(h[0]&&h[0].remove?h[0].remove(!1):(h.shift(),l.updateParallelArrays(a,"shift"),v.shift())),l.isDirty=!0,l.isDirtyData=!0,e&&(l.getAttribs(),p.redraw())},remove:function(t,e){var i=this,n=i.chart;t=f(t,!0),i.isRemoving||(i.isRemoving=!0,Ci(i,"remove",null,function(){i.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,n.linkSeries(),t&&n.redraw(e)})),i.isRemoving=!1},update:function(i,n){var a,o=this.chart,s=this.userOptions,r=this.type,l=ui[r].prototype;i=e(s,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},i),this.remove(!1);for(a in l)l.hasOwnProperty(a)&&(this[a]=q);t(this,ui[i.type||r].prototype),this.init(o,i),f(n,!0)&&o.redraw(!1)}}),t(F.prototype,{update:function(i,n){var a=this.chart;i=a.options[this.coll][this.options.index]=e(this.userOptions,i),this.destroy(!0),this._addedPlotLB=this.userMin=this.userMax=q,this.init(a,t(i,{events:q})),a.isDirtyBox=!0,f(n,!0)&&a.redraw()},remove:function(t){var e=this.chart,i=this.coll;yi(this.series,function(t){t.remove(!1)}),h(e.axes,this),h(e[i],this),e.options[i].splice(this.options.index,1),yi(e[i],function(t,e){t.options.index=e}),this.destroy(),e.isDirtyBox=!0,f(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}});var Qi=v(Ui);ui.line=Qi,Li.area=e(Ei,{threshold:0});var Zi=v(Ui,{type:"area",getSegments:function(){var t,e,i,n,a,o=[],s=[],r=[],l=this.xAxis,c=this.yAxis,h=c.stacks[this.stackKey],d={},u=this.points,p=this.options.connectNulls;if(this.options.stacking&&!this.cropped){for(n=0;n<u.length;n++)d[u[n].x]=u[n];for(a in h)null!==h[a].total&&r.push(+a);r.sort(function(t,e){return t-e}),yi(r,function(n){(!p||d[n]&&null!==d[n].y)&&(d[n]?s.push(d[n]):(t=l.translate(n),i=h[n].percent?h[n].total?100*h[n].cum/h[n].total:0:h[n].cum,e=c.toPixels(i,!0),s.push({y:null,plotX:t,clientX:t,plotY:e,yBottom:e,onMouseOver:Be})))}),s.length&&o.push(s)}else Ui.prototype.getSegments.call(this),o=this.segments;this.segments=o},getSegmentPath:function(t){var e,i,n=Ui.prototype.getSegmentPath.call(this,t),a=[].concat(n),o=this.options,s=n.length,r=this.yAxis.getThreshold(o.threshold);if(3===s&&a.push(Ze,n[1],n[2]),o.stacking&&!this.closedStacks)for(e=t.length-1;e>=0;e--)i=f(t[e].yBottom,r),e<t.length-1&&o.step&&a.push(t[e+1].plotX,i),a.push(t[e].plotX,i);else this.closeSegment(a,t,r);return this.areaPath=this.areaPath.concat(a),n},closeSegment:function(t,e,i){t.push(Ze,e[e.length-1].plotX,i,Ze,e[0].plotX,i)},drawGraph:function(){this.areaPath=[],Ui.prototype.drawGraph.apply(this);var t=this,e=this.areaPath,i=this.options,n=i.negativeColor,a=i.negativeFillColor,o=[["area",this.color,i.fillColor]];(n||a)&&o.push(["areaNeg",n,a]),yi(o,function(n){var a=n[0],o=t[a];o?o.animate({d:e}):t[a]=t.chart.renderer.path(e).attr({fill:f(n[2],Ii(n[1]).setOpacity(f(i.fillOpacity,.75)).get()),zIndex:0}).add(t.group)})},drawLegendSymbol:Yi.drawRectangle});ui.area=Zi,Li.spline=e(Ei);var Ji=v(Ui,{type:"spline",getPointSpline:function(t,e,i){var n,a,o,s,r,l=1.5,c=l+1,h=e.plotX,d=e.plotY,u=t[i-1],p=t[i+1];if(u&&p){var f,m=u.plotX,g=u.plotY,v=p.plotX,y=p.plotY;n=(l*h+m)/c,a=(l*d+g)/c,o=(l*h+v)/c,s=(l*d+y)/c,f=(s-a)*(o-h)/(o-n)+d-s,a+=f,s+=f,a>g&&a>d?(a=ve(g,d),s=2*d-a):g>a&&d>a&&(a=ye(g,d),s=2*d-a),s>y&&s>d?(s=ve(y,d),a=2*d-s):y>s&&d>s&&(s=ye(y,d),a=2*d-s),e.rightContX=o,e.rightContY=s}return i?(r=["C",u.rightContX||u.plotX,u.rightContY||u.plotY,n||h,a||d,h,d],u.rightContX=u.rightContY=null):r=[Qe,h,d],r}});ui.spline=Ji,Li.areaspline=e(Li.area);var Ki=Zi.prototype,tn=v(Ji,{type:"areaspline",closedStacks:!0,getSegmentPath:Ki.getSegmentPath,closeSegment:Ki.closeSegment,drawGraph:Ki.drawGraph,drawLegendSymbol:Yi.drawRectangle});ui.areaspline=tn,Li.column=e(Ei,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,threshold:0});var en=v(Ui,{type:"column",pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},cropShoulder:0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){Ui.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&yi(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},getColumnMetrics:function(){var t,e,i=this,n=i.options,a=i.xAxis,o=i.yAxis,s=a.reversed,r={},l=0;n.grouping===!1?l=1:yi(i.chart.series,function(n){var a=n.options,s=n.yAxis;n.type===i.type&&n.visible&&o.len===s.len&&o.pos===s.pos&&(a.stacking?(t=n.stackKey,r[t]===q&&(r[t]=l++),e=r[t]):a.grouping!==!1&&(e=l++),n.columnIndex=e)});var c=ye(be(a.transA)*(a.ordinalSlope||n.pointRange||a.closestPointRange||1),a.len),h=c*n.groupPadding,u=c-2*h,p=u/l,m=n.pointWidth,g=d(m)?(p-m)/2:p*n.pointPadding,v=f(m,p-2*g),y=(s?l-(i.columnIndex||0):i.columnIndex)||0,b=g+(h+y*p-c/2)*(s?-1:1);return i.columnMetrics={width:v,offset:b}},translate:function(){var t=this,e=t.chart,i=t.options,n=i.borderWidth,a=t.yAxis,o=i.threshold,s=t.translatedThreshold=a.getThreshold(o),r=f(i.minPointLength,5),l=t.getColumnMetrics(),c=l.width,h=t.barW=ge(ve(c,1+2*n)),d=t.pointXOffset=l.offset,u=-(n%2?.5:0),p=n%2?.5:1;e.renderer.isVML&&e.inverted&&(p+=1),Ui.prototype.translate.apply(t),yi(t.points,function(t){var e,i,n,o,l=f(t.yBottom,s),m=ye(ve(-999-l,t.plotY),a.len+999+l),g=t.plotX+d,v=h,y=ye(m,l),b=ve(m,l)-y;be(b)<r&&r&&(b=r,y=fe(be(y-s)>r?l-r:s-(a.translate(t.y,0,1,0,1)<=s?r:0))),t.barX=g,t.pointWidth=c,o=be(g)<.5,e=fe(g+v)+u,g=fe(g)+u,v=e-g,n=be(y)<.5,i=fe(y+b)+p,y=fe(y)+p,b=i-y,o&&(g+=1,v-=1),n&&(y-=1,b+=1),t.shapeType="rect",t.shapeArgs={x:g,y:y,width:v,height:b}})},getSymbol:Be,drawLegendSymbol:Yi.drawRectangle,drawGraph:Be,drawPoints:function(){var t,i=this,n=this.chart,a=i.options,o=n.renderer,s=n.options.animationLimit||250;yi(i.points,function(r){var l=r.plotY,c=r.graphic;l===q||isNaN(l)||null===r.y?c&&(r.graphic=c.destroy()):(t=r.shapeArgs,c?(Si(c),c[n.pointCount<s?"animate":"attr"](e(t))):r.graphic=c=o[r.shapeType](t).attr(r.pointAttr[r.selected?ii:ti]).add(i.group).shadow(a.shadow,null,a.stacking&&!a.borderRadius))})},drawTracker:qi.drawTrackerPoint,animate:function(t){var e,i=this,n=this.yAxis,a=i.options,o=this.chart.inverted,s={};Me&&(t?(s.scaleY=.001,e=ye(n.pos+n.len,ve(n.pos,n.toPixels(a.threshold))),o?s.translateX=e-n.len:s.translateY=e,i.group.attr(s)):(s.scaleY=1,s[o?"translateX":"translateY"]=n.pos,i.group.animate(s,i.options.animation),i.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&yi(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),Ui.prototype.remove.apply(t,arguments)}});ui.column=en,Li.bar=e(Li.column);var nn=v(en,{type:"bar",inverted:!0});ui.bar=nn,Li.scatter=e(Ei,{lineWidth:0,tooltip:{headerFormat:'<span style="font-size: 10px; color:{series.color}">{series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>",followPointer:!0},stickyTracking:!1});var an=v(Ui,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["markerGroup"],takeOrdinalPosition:!1,drawTracker:qi.drawTrackerPoint,drawGraph:function(){this.options.lineWidth&&Ui.prototype.drawGraph.call(this)},setTooltipPoints:Be});ui.scatter=an,Li.pie=e(Ei,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}});var on=v(Gi,{init:function(){Gi.prototype.init.apply(this,arguments);var e,i=this;return i.y<0&&(i.y=null),t(i,{visible:i.visible!==!1,name:f(i.name,"Slice")}),e=function(t){i.slice("select"===t.type)},ki(i,"select",e),ki(i,"unselect",e),i},setVisible:function(t){var e,i=this,n=i.series,a=n.chart;i.visible=i.options.visible=t=t===q?!i.visible:t,n.options.data[vi(i,n.data)]=i.options,e=t?"show":"hide",yi(["graphic","dataLabel","connector","shadowGroup"],function(t){i[t]&&i[t][e]()}),i.legendItem&&a.legend.colorizeItem(i,t),!n.isDirty&&n.options.ignoreHiddenPoint&&(n.isDirty=!0,a.redraw())},slice:function(t,e,i){var n,a=this,o=a.series,s=o.chart;O(i,s),e=f(e,!0),a.sliced=a.options.sliced=t=d(t)?t:!a.sliced,o.options.data[vi(a,o.data)]=a.options,n=t?a.slicedTranslation:{translateX:0,translateY:0},a.graphic.animate(n),a.shadowGroup&&a.shadowGroup.animate(n)}}),sn={type:"pie",isCartesian:!1,pointClass:on,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:Be,animate:function(t){var e=this,i=e.points,n=e.startAngleRad;t||(yi(i,function(t){var i=t.graphic,a=t.shapeArgs;i&&(i.attr({r:e.center[3]/2,start:n,end:n}),i.animate({r:a.r,start:a.start,end:a.end},e.options.animation))}),e.animate=null)},setData:function(t,e){Ui.prototype.setData.call(this,t,!1),this.processData(),this.generatePoints(),f(e,!0)&&this.chart.redraw()},generatePoints:function(){var t,e,i,n,a=0,o=this.options.ignoreHiddenPoint;for(Ui.prototype.generatePoints.call(this),e=this.points,i=e.length,t=0;i>t;t++)n=e[t],a+=o&&!n.visible?0:n.y;for(this.total=a,t=0;i>t;t++)n=e[t],n.percentage=a>0?n.y/a*100:0,n.total=a},translate:function(t){this.generatePoints();var e,i,n,a,o,s,r,l=this,c=0,h=1e3,d=l.options,u=d.slicedOffset,p=u+d.borderWidth,f=d.startAngle||0,m=l.startAngleRad=ke/180*(f-90),g=l.endAngleRad=ke/180*((d.endAngle||f+360)-90),v=g-m,y=l.points,b=d.dataLabels.distance,x=d.ignoreHiddenPoint,w=y.length;for(t||(l.center=t=l.getCenter()),l.getX=function(e,i){return n=pe.asin((e-t[1])/(t[2]/2+b)),t[0]+(i?-1:1)*xe(n)*(t[2]/2+b)},s=0;w>s;s++)r=y[s],e=m+c*v,(!x||r.visible)&&(c+=r.percentage/100),i=m+c*v,r.shapeType="arc",r.shapeArgs={x:t[0],y:t[1],r:t[2]/(2.5-r.percentage/100),innerR:t[3]/2,start:fe(e*h)/h,end:fe(i*h)/h},n=(i+e)/2,n>.75*v&&(n-=2*ke),r.slicedTranslation={translateX:fe(xe(n)*u),translateY:fe(we(n)*u)},a=xe(n)*t[2]/2,o=we(n)*t[2]/2,r.tooltipPos=[t[0]+.7*a,t[1]+.7*o],r.half=-ke/2>n||n>ke/2?1:0,r.angle=n,p=ye(p,b/2),r.labelPos=[t[0]+a+xe(n)*b,t[1]+o+we(n)*b,t[0]+a+xe(n)*p,t[1]+o+we(n)*p,t[0]+a,t[1]+o,0>b?"center":r.half?"right":"left",n]},setTooltipPoints:Be,drawGraph:null,drawPoints:function(){var e,i,n,a,o=this,s=o.chart,r=s.renderer,l=o.options.shadow;l&&!o.shadowGroup&&(o.shadowGroup=r.g("shadow").add(o.group)),yi(o.points,function(s){i=s.graphic,a=s.shapeArgs,n=s.shadowGroup,l&&!n&&(n=s.shadowGroup=r.g("shadow").add(o.shadowGroup)),e=s.sliced?s.slicedTranslation:{translateX:0,translateY:0},n&&n.attr(e),i?i.animate(t(a,e)):s.graphic=i=r.arc(a).setRadialReference(o.center).attr(s.pointAttr[s.selected?ii:ti]).attr({"stroke-linejoin":"round"}).attr(e).add(o.group).shadow(l,n),void 0!==s.visible&&s.setVisible(s.visible)})},sortByAngle:function(t,e){t.sort(function(t,i){return void 0!==t.angle&&(i.angle-t.angle)*e})},drawTracker:qi.drawTrackerPoint,drawLegendSymbol:Yi.drawRectangle,getCenter:Xi.getCenter,getSymbol:Be};sn=v(Ui,sn),ui.pie=sn,Ui.prototype.drawDataLabels=function(){var i,n,a,o,s=this,r=s.options,l=r.cursor,c=r.dataLabels,h=s.points;(c.enabled||s._hasPointLabels)&&(s.dlProcessOptions&&s.dlProcessOptions(c),o=s.plotGroup("dataLabelsGroup","data-labels",s.visible?Xe:Ve,c.zIndex||6),n=c,yi(h,function(r){var h,u,p,m,g,v=r.dataLabel,y=r.connector,b=!0;if(i=r.options&&r.options.dataLabels,h=f(i&&i.enabled,n.enabled),v&&!h)r.dataLabel=v.destroy();else if(h){if(c=e(n,i),g=c.rotation,u=r.getLabelConfig(),a=c.format?k(c.format,u):c.formatter.call(u,c),c.style.color=f(c.color,c.style.color,s.color,"black"),v)d(a)?(v.attr({text:a}),b=!1):(r.dataLabel=v=v.destroy(),y&&(r.connector=y.destroy()));else if(d(a)){p={fill:c.backgroundColor,stroke:c.borderColor,"stroke-width":c.borderWidth,r:c.borderRadius||0,rotation:g,padding:c.padding,zIndex:1};for(m in p)p[m]===q&&delete p[m];v=r.dataLabel=s.chart.renderer[g?"text":"label"](a,0,-999,null,null,null,c.useHTML).attr(p).css(t(c.style,l&&{cursor:l})).add(o).shadow(c.shadow)}v&&s.alignDataLabel(r,v,c,null,b)}}))},Ui.prototype.alignDataLabel=function(e,i,n,a,o){var s,r=this.chart,l=r.inverted,c=f(e.plotX,-999),h=f(e.plotY,-999),d=i.getBBox(),u=this.visible&&(e.series.forceDL||r.isInsidePlot(e.plotX,e.plotY,l));u&&(a=t({x:l?r.plotWidth-h:c,y:fe(l?r.plotHeight-c:h),width:0,height:0},a),t(n,{width:d.width,height:d.height}),n.rotation?(s={align:n.align,x:a.x+n.x+a.width/2,y:a.y+n.y+a.height/2},i[o?"attr":"animate"](s)):(i.align(n,null,a),s=i.alignAttr,"justify"===f(n.overflow,"justify")?this.justifyDataLabel(i,n,s,d,a,o):f(n.crop,!0)&&(u=r.isInsidePlot(s.x,s.y)&&r.isInsidePlot(s.x+d.width,s.y+d.height)))),u||(i.attr({y:-999}),i.placed=!1)},Ui.prototype.justifyDataLabel=function(t,e,i,n,a,o){var s,r,l=this.chart,c=e.align,h=e.verticalAlign;s=i.x,0>s&&("right"===c?e.align="left":e.x=-s,r=!0),s=i.x+n.width,s>l.plotWidth&&("left"===c?e.align="right":e.x=l.plotWidth-s,r=!0),s=i.y,0>s&&("bottom"===h?e.verticalAlign="top":e.y=-s,r=!0),s=i.y+n.height,s>l.plotHeight&&("top"===h?e.verticalAlign="bottom":e.y=l.plotHeight-s,r=!0),r&&(t.placed=!o,t.align(e,null,a))},ui.pie&&(ui.pie.prototype.drawDataLabels=function(){var t,e,i,n,a,o,s,r,l,c,h,d,u,p=this,m=p.data,g=p.chart,v=p.options.dataLabels,y=f(v.connectorPadding,10),b=f(v.connectorWidth,1),x=g.plotWidth,w=g.plotHeight,k=f(v.softConnector,!0),_=v.distance,C=p.center,T=C[2]/2,P=C[1],S=_>0,L=[[],[]],E=[0,0,0,0],A=function(t,e){return e.y-t.y};if(p.visible&&(v.enabled||p._hasPointLabels)){for(Ui.prototype.drawDataLabels.apply(p),yi(m,function(t){t.dataLabel&&t.visible&&L[t.half].push(t)}),d=0;!s&&m[d];)s=m[d]&&m[d].dataLabel&&(m[d].dataLabel.getBBox().height||21),d++;for(d=2;d--;){var M,O,I,R=[],D=[],z=L[d],B=z.length;if(p.sortByAngle(z,d-.5),_>0){for(O=P-T-_;P+T+_>=O;O+=s)R.push(O);if(M=R.length,B>M){for(h=[].concat(z),h.sort(A),u=B;u--;)h[u].rank=u;for(u=B;u--;)z[u].rank>=M&&z.splice(u,1);B=z.length}for(u=0;B>u;u++){t=z[u],o=t.labelPos;var F,H,N=9999;for(H=0;M>H;H++)F=be(R[H]-o[1]),N>F&&(N=F,I=H);if(u>I&&null!==R[u])I=u;else if(B-u+I>M&&null!==R[u])for(I=M-B+u;null===R[I];)I++;else for(;null===R[I];)I++;D.push({i:I,y:R[I]}),R[I]=null}D.sort(A)}for(u=0;B>u;u++){var W,q;t=z[u],o=t.labelPos,n=t.dataLabel,c=t.visible===!1?Ve:Xe,q=o[1],_>0?(W=D.pop(),I=W.i,l=W.y,(q>l&&null!==R[I+1]||l>q&&null!==R[I-1])&&(l=q)):l=q,r=v.justify?C[0]+(d?-1:1)*(T+_):p.getX(0===I||I===R.length-1?q:l,d),n._attr={visibility:c,align:o[6]},n._pos={x:r+v.x+({left:y,right:-y}[o[6]]||0),y:l+v.y-10},n.connX=r,n.connY=l,null===this.options.size&&(a=n.width,y>r-a?E[3]=ve(fe(a-r+y),E[3]):r+a>x-y&&(E[1]=ve(fe(r+a-x+y),E[1])),0>l-s/2?E[0]=ve(fe(-l+s/2),E[0]):l+s/2>w&&(E[2]=ve(fe(l+s/2-w),E[2])))}}(0===j(E)||this.verifyDataLabelOverflow(E))&&(this.placeDataLabels(),S&&b&&yi(this.points,function(t){e=t.connector,o=t.labelPos,n=t.dataLabel,n&&n._pos?(c=n._attr.visibility,r=n.connX,l=n.connY,i=k?[Qe,r+("left"===o[6]?5:-5),l,"C",r,l,2*o[2]-o[4],2*o[3]-o[5],o[2],o[3],Ze,o[4],o[5]]:[Qe,r+("left"===o[6]?5:-5),l,Ze,o[2],o[3],Ze,o[4],o[5]],e?(e.animate({d:i}),e.attr("visibility",c)):t.connector=e=p.chart.renderer.path(i).attr({"stroke-width":b,stroke:v.connectorColor||t.color||"#606060",visibility:c}).add(p.group)):e&&(t.connector=e.destroy())}))}},ui.pie.prototype.placeDataLabels=function(){yi(this.points,function(t){var e,i=t.dataLabel;i&&(e=i._pos,e?(i.attr(i._attr),i[i.moved?"animate":"attr"](e),i.moved=!0):i&&i.attr({y:-999}))})},ui.pie.prototype.alignDataLabel=Be,ui.pie.prototype.verifyDataLabelOverflow=function(t){var e,i=this.center,n=this.options,a=n.center,o=n.minSize||80,s=o;return null!==a[0]?s=ve(i[2]-ve(t[1],t[3]),o):(s=ve(i[2]-t[1]-t[3],o),i[0]+=(t[3]-t[1])/2),null!==a[1]?s=ve(ye(s,i[2]-ve(t[0],t[2])),o):(s=ve(ye(s,i[2]-t[0]-t[2]),o),i[1]+=(t[0]-t[2])/2),s<i[2]?(i[2]=s,this.translate(i),yi(this.points,function(t){t.dataLabel&&(t.dataLabel._pos=null)}),this.drawDataLabels&&this.drawDataLabels()):e=!0,e}),ui.column&&(ui.column.prototype.alignDataLabel=function(t,i,n,a,o){var s=this.chart,r=s.inverted,l=t.dlBox||t.shapeArgs,c=t.below||t.plotY>f(this.translatedThreshold,s.plotSizeY),h=f(n.inside,!!this.options.stacking);l&&(a=e(l),r&&(a={x:s.plotWidth-a.y-a.height,y:s.plotHeight-a.x-a.width,width:a.height,height:a.width}),h||(r?(a.x+=c?0:a.width,a.width=0):(a.y+=c?a.height:0,a.height=0))),n.align=f(n.align,!r||h?"center":c?"right":"left"),n.verticalAlign=f(n.verticalAlign,r||h?"middle":c?"top":"bottom"),Ui.prototype.alignDataLabel.call(this,t,i,n,a,o)}),t(Highcharts,{Axis:F,Chart:W,Color:Ii,Point:Gi,Tick:B,Tooltip:N,Renderer:$,Series:Ui,SVGElement:z,SVGRenderer:Ri,arrayMin:S,arrayMax:j,charts:Fe,dateFormat:X,format:k,pathAnim:U,getOptions:D,hasBidiBug:Oe,isTouchDevice:Ee,numberFormat:y,seriesTypes:ui,setOptions:R,addEvent:ki,removeEvent:_i,createElement:g,discardElement:E,css:m,each:yi,extend:t,map:wi,merge:e,pick:f,splat:p,extendClass:v,pInt:n,wrap:x,svg:Me,canvas:Ie,vml:!Me&&!Ie,product:He,version:Ne})}(),function(t){t.fn.htmlarea=function(t){if(t&&"string"==typeof t){for(var i=[],n=1;n<arguments.length;n++)i.push(arguments[n]);var a=e(this[0]),o=a[t];if(o)return o.apply(a,i)}return this.each(function(){e(this,t)})};var e=window.jHtmlArea=function(t,i){return t.jquery?e(t[0]):t.jhtmlareaObject?t.jhtmlareaObject:new e.fn.init(t,i)};e.fn=e.prototype={jhtmlarea:"0.7.5",init:function(n,a){if("textarea"===n.nodeName.toLowerCase()){var o=t.extend({},e.defaultOptions,a);n.jhtmlareaObject=this;var s=this.textarea=t(n),r=this.container=t("<div/>").addClass("jHtmlArea").width(s.width()).insertAfter(s),l=this.toolbar=t("<div/>").addClass("ToolBar").appendTo(r);i.initToolBar.call(this,o);var c=this.iframe=t("<iframe/>").height(s.height());c.width(s.width()-(t.browser.msie?0:4));var h=this.htmlarea=t("<div/>").append(c);r.append(h).append(s.hide()),i.initEditor.call(this,o),i.attachEditorEvents.call(this),c.height(c.height()-l.height()),l.width(s.width()-2),o.loaded&&o.loaded.call(this)}},dispose:function(){this.textarea.show().insertAfter(this.container),this.container.remove(),this.textarea[0].jhtmlareaObject=null},execCommand:function(t,e,i){this.iframe[0].contentWindow.focus(),this.editor.execCommand(t,e||!1,i||null),this.updateTextArea()},ec:function(t,e,i){this.execCommand(t,e,i)},queryCommandValue:function(t){return this.iframe[0].contentWindow.focus(),this.editor.queryCommandValue(t)},qc:function(t){return this.queryCommandValue(t)},getSelectedHTML:function(){if(t.browser.msie)return this.getRange().htmlText;var e=this.getRange().cloneContents();return t("<p/>").append(t(e)).html()},getSelection:function(){return t.browser.msie?this.editor.selection:this.iframe[0].contentDocument.defaultView.getSelection()},getRange:function(){var t=this.getSelection();return t?t.getRangeAt?t.getRangeAt(0):t.createRange():null},html:function(t){return t?(this.textarea.val(t),void this.updateHtmlArea()):this.toHtmlString()},pasteHTML:function(e){this.iframe[0].contentWindow.focus();var i=this.getRange();t.browser.msie?i.pasteHTML(e):t.browser.mozilla?(i.deleteContents(),i.insertNode(t(0!=e.indexOf("<")?t("<span/>").append(e):e)[0])):(i.deleteContents(),i.insertNode(t(this.iframe[0].contentWindow.document.createElement("span")).append(t(0!=e.indexOf("<")?"<span>"+e+"</span>":e))[0])),i.collapse(!1),i.select()},cut:function(){this.ec("cut")},copy:function(){this.ec("copy")},paste:function(){this.ec("paste")},bold:function(){this.ec("bold")},italic:function(){this.ec("italic")},underline:function(){this.ec("underline")},strikeThrough:function(){this.ec("strikethrough")},image:function(e){t.browser.msie&&!e?this.ec("insertImage",!0):this.ec("insertImage",!1,e||prompt("Image URL:","http://"))},removeFormat:function(){this.ec("removeFormat",!1,[]),this.unlink()},link:function(){t.browser.msie?this.ec("createLink",!0):this.ec("createLink",!1,prompt("Link URL:","http://"))},unlink:function(){this.ec("unlink",!1,[])},orderedList:function(){this.ec("insertorderedlist")},unorderedList:function(){this.ec("insertunorderedlist")},superscript:function(){this.ec("superscript")},subscript:function(){this.ec("subscript")},p:function(){this.formatBlock("<p>")},h1:function(){this.heading(1)},h2:function(){this.heading(2)},h3:function(){this.heading(3)},h4:function(){this.heading(4)},h5:function(){this.heading(5)},h6:function(){this.heading(6)},heading:function(e){this.formatBlock(t.browser.msie?"Heading "+e:"h"+e)},indent:function(){this.ec("indent")},outdent:function(){this.ec("outdent")},insertHorizontalRule:function(){this.ec("insertHorizontalRule",!1,"ht")},justifyLeft:function(){this.ec("justifyLeft")},justifyCenter:function(){this.ec("justifyCenter")},justifyRight:function(){this.ec("justifyRight")},increaseFontSize:function(){t.browser.msie?this.ec("fontSize",!1,this.qc("fontSize")+1):t.browser.safari?this.getRange().surroundContents(t(this.iframe[0].contentWindow.document.createElement("span")).css("font-size","larger")[0]):this.ec("increaseFontSize",!1,"big")},decreaseFontSize:function(){t.browser.msie?this.ec("fontSize",!1,this.qc("fontSize")-1):t.browser.safari?this.getRange().surroundContents(t(this.iframe[0].contentWindow.document.createElement("span")).css("font-size","smaller")[0]):this.ec("decreaseFontSize",!1,"small")},forecolor:function(t){this.ec("foreColor",!1,t||prompt("Enter HTML Color:","#"))},formatBlock:function(t){this.ec("formatblock",!1,t||null)
},showHTMLView:function(){this.updateTextArea(),this.textarea.show(),this.htmlarea.hide(),t("ul li:not(li:has(a.html))",this.toolbar).hide(),t("ul:not(:has(:visible))",this.toolbar).hide(),t("ul li a.html",this.toolbar).addClass("highlighted")},hideHTMLView:function(){this.updateHtmlArea(),this.textarea.hide(),this.htmlarea.show(),t("ul",this.toolbar).show(),t("ul li",this.toolbar).show().find("a.html").removeClass("highlighted")},toggleHTMLView:function(){this.textarea.is(":hidden")?this.showHTMLView():this.hideHTMLView()},toHtmlString:function(){return this.editor.body.innerHTML},toString:function(){return this.editor.body.innerText},updateTextArea:function(){this.textarea.val(this.toHtmlString())},updateHtmlArea:function(){this.editor.body.innerHTML=this.textarea.val()}},e.fn.init.prototype=e.fn,e.defaultOptions={toolbar:[["html"],["bold","italic","underline","strikethrough","|","subscript","superscript"],["increasefontsize","decreasefontsize"],["orderedlist","unorderedlist"],["indent","outdent"],["justifyleft","justifycenter","justifyright"],["link","unlink","image","horizontalrule"],["p","h1","h2","h3","h4","h5","h6"],["cut","copy","paste"]],css:null,toolbarText:{bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strike-Through",cut:"Cut",copy:"Copy",paste:"Paste",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6",p:"Paragraph",indent:"Indent",outdent:"Outdent",horizontalrule:"Insert Horizontal Rule",justifyleft:"Left Justify",justifycenter:"Center Justify",justifyright:"Right Justify",increasefontsize:"Increase Font Size",decreasefontsize:"Decrease Font Size",forecolor:"Text Color",link:"Insert Link",unlink:"Remove Link",image:"Insert Image",orderedlist:"Insert Ordered List",unorderedlist:"Insert Unordered List",subscript:"Subscript",superscript:"Superscript",html:"Show/Hide HTML Source View"}};var i={toolbarButtons:{strikethrough:"strikeThrough",orderedlist:"orderedList",unorderedlist:"unorderedList",horizontalrule:"insertHorizontalRule",justifyleft:"justifyLeft",justifycenter:"justifyCenter",justifyright:"justifyRight",increasefontsize:"increaseFontSize",decreasefontsize:"decreaseFontSize",html:function(){this.toggleHTMLView()}},initEditor:function(t){var e=this.editor=this.iframe[0].contentWindow.document;if(e.designMode="on",e.open(),e.write(this.textarea.val()),e.close(),t.css){var i=e.createElement("link");i.rel="stylesheet",i.type="text/css",i.href=t.css,e.getElementsByTagName("head")[0].appendChild(i)}},initToolBar:function(e){function n(n){for(var s=t("<ul/>").appendTo(a.toolbar),r=0;r<n.length;r++){var l=n[r];if("string"===(typeof l).toLowerCase())if("|"===l)s.append(t('<li class="separator"/>'));else{var c=function(t){var e=i.toolbarButtons[t]||t;return"function"===(typeof e).toLowerCase()?function(t){e.call(this,t)}:function(){this[e](),this.editor.body.focus()}}(l.toLowerCase()),h=e.toolbarText[l.toLowerCase()];s.append(o(l.toLowerCase(),h||l,c))}else s.append(o(l.css,l.text,l.action))}}var a=this,o=function(e,i,n){return t("<li/>").append(t("<a href='javascript:void(0);'/>").addClass(e).attr("title",i).click(function(){n.call(a,t(this))}))};if(0!==e.toolbar.length&&i.isArray(e.toolbar[0]))for(var s=0;s<e.toolbar.length;s++)n(e.toolbar[s]);else n(e.toolbar)},attachEditorEvents:function(){var e=this,i=function(){e.updateHtmlArea()};this.textarea.click(i).keyup(i).keydown(i).mousedown(i).blur(i);var n=function(){e.updateTextArea()};if(t(this.editor.body).click(n).keyup(n).keydown(n).mousedown(n).blur(n),t("form").submit(function(){e.toggleHTMLView(),e.toggleHTMLView()}),window.__doPostBack){var a=__doPostBack;window.__doPostBack=function(){return e&&e.toggleHTMLView&&(e.toggleHTMLView(),e.toggleHTMLView()),a.apply(window,arguments)}}},isArray:function(t){return t&&"object"==typeof t&&"number"==typeof t.length&&"function"==typeof t.splice&&!t.propertyIsEnumerable("length")}}}(jQuery),function(t){if(jHtmlArea){var e=jHtmlArea.fn.forecolor;jHtmlArea.fn.forecolor=function(i){if(i)e.call(this,i);else{var n=this,a=this.getRange();jHtmlAreaColorPickerMenu(t(".forecolor",this.toolbar),{colorChosen:function(e){t.browser.msie?a.execCommand("ForeColor",!1,e):n.forecolor(e)}})}}}var i=window.jHtmlAreaColorPickerMenu=function(t,e){return new jHtmlAreaColorPickerMenu.fn.init(t,e)};i.fn=i.prototype={jhtmlareacolorpickermenu:"0.7.0",init:function(e,n){var a=t.extend({},i.defaultOptions,n),o=this,s=this.owner=t(e),r=s.position();i.instance&&i.instance.hide(),jHtmlAreaColorPickerMenu.instance=this;for(var l=this.picker=t("<div/>").css({position:"absolute",left:r.left+a.offsetLeft,top:r.top+s.height()+a.offsetTop,"z-index":a["z-index"]}).addClass("jHtmlAreaColorPickerMenu"),c=0;c<a.colors.length;c++){var h=a.colors[c];t("<div/>").css("background-color",h).appendTo(l).click(function(t){return function(){a.colorChosen&&a.colorChosen.call(this,t),o.hide()}}(h))}t("<div/>").html("<div></div>Automatic").addClass("automatic").appendTo(l).click(function(){a.colorChosen&&a.colorChosen.call(this,null),o.hide()});var d=!1;l.appendTo(s.parent()).show().mouseout(function(){d=!0,o.currentTimeout=window.setTimeout(function(){d===!0&&o.hide()},1e3)}).mouseover(function(){o.currentTimeout&&(window.clearTimeout(o.currentTimeout),o.currentTimeout=null),d=!1})},hide:function(){this.picker.hide(),this.picker.remove()}},i.fn.init.prototype=i.fn,i.defaultOptions={"z-index":0,offsetTop:0,offsetLeft:0,colors:["#ffffff","#cccccc","#c0c0c0","#999999","#666666","#333333","#000000","#ffcccc","#ff6666","#ff0000","#cc0000","#990000","#660000","#330000","#ffcc99","#ff9966","#ff9900","#ff6600","#cc6600","#993300","#663300","#ffff99","#ffff66","#ffcc66","#ffcc33","#cc9933","#996633","#663333","#ffffcc","#ffff33","#ffff00","#ffcc00","#999900","#666600","#333300","#99ff99","#66ff99","#33ff33","#33cc00","#009900","#006600","#003300","#99FFFF","#33FFFF","#66CCCC","#00CCCC","#339999","#336666","#003333","#CCFFFF","#66FFFF","#33CCFF","#3366FF","#3333FF","#000099","#000066","#CCCCFF","#9999FF","#6666CC","#6633FF","#6600CC","#333399","#330099","#FFCCFF","#FF99FF","#CC66CC","#CC33CC","#993399","#663366","#330033"],colorChosen:null}}(jQuery),!function(t){function e(){}function i(t){function i(e){e.prototype.option||(e.prototype.option=function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))})}function a(e,i){t.fn[e]=function(a){if("string"==typeof a){for(var s=n.call(arguments,1),r=0,l=this.length;l>r;r++){var c=this[r],h=t.data(c,e);if(h)if(t.isFunction(h[a])&&"_"!==a.charAt(0)){var d=h[a].apply(h,s);if(void 0!==d)return d}else o("no such method '"+a+"' for "+e+" instance");else o("cannot call methods on "+e+" prior to initialization; attempted to call '"+a+"'")}return this}return this.each(function(){var n=t.data(this,e);n?(n.option(a),n._init()):(n=new i(this,a),t.data(this,e,n))})}}if(t){var o="undefined"==typeof console?e:function(t){console.error(t)};return t.bridget=function(t,e){i(e),a(t,e)},t.bridget}}var n=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],i):i(t.jQuery)}(window),function(t){function e(e){var i=t.event;return i.target=i.target||i.srcElement||e,i}var i=document.documentElement,n=function(){};i.addEventListener?n=function(t,e,i){t.addEventListener(e,i,!1)}:i.attachEvent&&(n=function(t,i,n){t[i+n]=n.handleEvent?function(){var i=e(t);n.handleEvent.call(n,i)}:function(){var i=e(t);n.call(t,i)},t.attachEvent("on"+i,t[i+n])});var a=function(){};i.removeEventListener?a=function(t,e,i){t.removeEventListener(e,i,!1)}:i.detachEvent&&(a=function(t,e,i){t.detachEvent("on"+e,t[e+i]);try{delete t[e+i]}catch(n){t[e+i]=void 0}});var o={bind:n,unbind:a};"function"==typeof define&&define.amd?define("eventie/eventie",o):"object"==typeof exports?module.exports=o:t.eventie=o}(this),function(t){function e(t){"function"==typeof t&&(e.isReady?t():o.push(t))}function i(t){var i="readystatechange"===t.type&&"complete"!==a.readyState;if(!e.isReady&&!i){e.isReady=!0;for(var n=0,s=o.length;s>n;n++){var r=o[n];r()}}}function n(n){return n.bind(a,"DOMContentLoaded",i),n.bind(a,"readystatechange",i),n.bind(t,"load",i),e}var a=t.document,o=[];e.isReady=!1,"function"==typeof define&&define.amd?(e.isReady="function"==typeof requirejs,define("doc-ready/doc-ready",["eventie/eventie"],n)):t.docReady=n(t.eventie)}(this),function(){function t(){}function e(t,e){for(var i=t.length;i--;)if(t[i].listener===e)return i;return-1}function i(t){return function(){return this[t].apply(this,arguments)}}var n=t.prototype,a=this,o=a.EventEmitter;n.getListeners=function(t){var e,i,n=this._getEvents();if(t instanceof RegExp){e={};for(i in n)n.hasOwnProperty(i)&&t.test(i)&&(e[i]=n[i])}else e=n[t]||(n[t]=[]);return e},n.flattenListeners=function(t){var e,i=[];for(e=0;e<t.length;e+=1)i.push(t[e].listener);return i},n.getListenersAsObject=function(t){var e,i=this.getListeners(t);return i instanceof Array&&(e={},e[t]=i),e||i},n.addListener=function(t,i){var n,a=this.getListenersAsObject(t),o="object"==typeof i;for(n in a)a.hasOwnProperty(n)&&-1===e(a[n],i)&&a[n].push(o?i:{listener:i,once:!1});return this},n.on=i("addListener"),n.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},n.once=i("addOnceListener"),n.defineEvent=function(t){return this.getListeners(t),this},n.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},n.removeListener=function(t,i){var n,a,o=this.getListenersAsObject(t);for(a in o)o.hasOwnProperty(a)&&(n=e(o[a],i),-1!==n&&o[a].splice(n,1));return this},n.off=i("removeListener"),n.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},n.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},n.manipulateListeners=function(t,e,i){var n,a,o=t?this.removeListener:this.addListener,s=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(n=i.length;n--;)o.call(this,e,i[n]);else for(n in e)e.hasOwnProperty(n)&&(a=e[n])&&("function"==typeof a?o.call(this,n,a):s.call(this,n,a));return this},n.removeEvent=function(t){var e,i=typeof t,n=this._getEvents();if("string"===i)delete n[t];else if(t instanceof RegExp)for(e in n)n.hasOwnProperty(e)&&t.test(e)&&delete n[e];else delete this._events;return this},n.removeAllListeners=i("removeEvent"),n.emitEvent=function(t,e){var i,n,a,o,s=this.getListenersAsObject(t);for(a in s)if(s.hasOwnProperty(a))for(n=s[a].length;n--;)i=s[a][n],i.once===!0&&this.removeListener(t,i.listener),o=i.listener.apply(this,e||[]),o===this._getOnceReturnValue()&&this.removeListener(t,i.listener);return this},n.trigger=i("emitEvent"),n.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},n.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},n._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},n._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return a.EventEmitter=o,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:this.EventEmitter=t}.call(this),function(t){function e(t){if(t){if("string"==typeof n[t])return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e,a=0,o=i.length;o>a;a++)if(e=i[a]+t,"string"==typeof n[e])return e}}var i="Webkit Moz ms Ms O".split(" "),n=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return e}):"object"==typeof exports?module.exports=e:t.getStyleProperty=e}(window),function(t){function e(t){var e=parseFloat(t),i=-1===t.indexOf("%")&&!isNaN(e);return i&&e}function i(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0,i=s.length;i>e;e++){var n=s[e];t[n]=0}return t}function n(t){function n(t){if("string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var n=o(t);if("none"===n.display)return i();var a={};a.width=t.offsetWidth,a.height=t.offsetHeight;for(var h=a.isBorderBox=!(!c||!n[c]||"border-box"!==n[c]),d=0,u=s.length;u>d;d++){var p=s[d],f=n[p];f=r(t,f);var m=parseFloat(f);a[p]=isNaN(m)?0:m}var g=a.paddingLeft+a.paddingRight,v=a.paddingTop+a.paddingBottom,y=a.marginLeft+a.marginRight,b=a.marginTop+a.marginBottom,x=a.borderLeftWidth+a.borderRightWidth,w=a.borderTopWidth+a.borderBottomWidth,k=h&&l,_=e(n.width);_!==!1&&(a.width=_+(k?0:g+x));var C=e(n.height);return C!==!1&&(a.height=C+(k?0:v+w)),a.innerWidth=a.width-(g+x),a.innerHeight=a.height-(v+w),a.outerWidth=a.width+y,a.outerHeight=a.height+b,a}}function r(t,e){if(a||-1===e.indexOf("%"))return e;var i=t.style,n=i.left,o=t.runtimeStyle,s=o&&o.left;return s&&(o.left=t.currentStyle.left),i.left=e,e=i.pixelLeft,i.left=n,s&&(o.left=s),e}var l,c=t("boxSizing");return function(){if(c){var t=document.createElement("div");t.style.width="200px",t.style.padding="1px 2px 3px 4px",t.style.borderStyle="solid",t.style.borderWidth="1px 2px 3px 4px",t.style[c]="border-box";var i=document.body||document.documentElement;i.appendChild(t);var n=o(t);l=200===e(n.width),i.removeChild(t)}}(),n}var a=t.getComputedStyle,o=a?function(t){return a(t,null)}:function(t){return t.currentStyle},s=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],n):"object"==typeof exports?module.exports=n(require("get-style-property")):t.getSize=n(t.getStyleProperty)}(window),function(t,e){function i(t,e){return t[r](e)}function n(t){if(!t.parentNode){var e=document.createDocumentFragment();e.appendChild(t)}}function a(t,e){n(t);for(var i=t.parentNode.querySelectorAll(e),a=0,o=i.length;o>a;a++)if(i[a]===t)return!0;return!1}function o(t,e){return n(t),i(t,e)}var s,r=function(){if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],i=0,n=t.length;n>i;i++){var a=t[i],o=a+"MatchesSelector";if(e[o])return o}}();if(r){var l=document.createElement("div"),c=i(l,"div");s=c?i:o}else s=a;"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return s}):window.matchesSelector=s}(this,Element.prototype),function(t){function e(t,e){for(var i in e)t[i]=e[i];return t}function i(t){for(var e in t)return!1;return e=null,!0}function n(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function a(t,a,o){function r(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}var l=o("transition"),c=o("transform"),h=l&&c,d=!!o("perspective"),u={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[l],p=["transform","transition","transitionDuration","transitionProperty"],f=function(){for(var t={},e=0,i=p.length;i>e;e++){var n=p[e],a=o(n);a&&a!==n&&(t[n]=a)}return t}();e(r.prototype,t.prototype),r.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},r.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},r.prototype.getSize=function(){this.size=a(this.element)},r.prototype.css=function(t){var e=this.element.style;for(var i in t){var n=f[i]||i;e[n]=t[i]}},r.prototype.getPosition=function(){var t=s(this.element),e=this.layout.options,i=e.isOriginLeft,n=e.isOriginTop,a=parseInt(t[i?"left":"right"],10),o=parseInt(t[n?"top":"bottom"],10);a=isNaN(a)?0:a,o=isNaN(o)?0:o;var r=this.layout.size;a-=i?r.paddingLeft:r.paddingRight,o-=n?r.paddingTop:r.paddingBottom,this.position.x=a,this.position.y=o},r.prototype.layoutPosition=function(){var t=this.layout.size,e=this.layout.options,i={};e.isOriginLeft?(i.left=this.position.x+t.paddingLeft+"px",i.right=""):(i.right=this.position.x+t.paddingRight+"px",i.left=""),e.isOriginTop?(i.top=this.position.y+t.paddingTop+"px",i.bottom=""):(i.bottom=this.position.y+t.paddingBottom+"px",i.top=""),this.css(i),this.emitEvent("layout",[this])};var m=d?function(t,e){return"translate3d("+t+"px, "+e+"px, 0)"}:function(t,e){return"translate("+t+"px, "+e+"px)"};r.prototype._transitionTo=function(t,e){this.getPosition();var i=this.position.x,n=this.position.y,a=parseInt(t,10),o=parseInt(e,10),s=a===this.position.x&&o===this.position.y;if(this.setPosition(t,e),s&&!this.isTransitioning)return void this.layoutPosition();var r=t-i,l=e-n,c={},h=this.layout.options;r=h.isOriginLeft?r:-r,l=h.isOriginTop?l:-l,c.transform=m(r,l),this.transition({to:c,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},r.prototype.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},r.prototype.moveTo=h?r.prototype._transitionTo:r.prototype.goTo,r.prototype.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},r.prototype._nonTransition=function(t){this.css(t.to),t.isCleaning&&this._removeStyles(t.to);for(var e in t.onTransitionEnd)t.onTransitionEnd[e].call(this)},r.prototype._transition=function(t){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(t);var e=this._transn;for(var i in t.onTransitionEnd)e.onEnd[i]=t.onTransitionEnd[i];for(i in t.to)e.ingProperties[i]=!0,t.isCleaning&&(e.clean[i]=!0);if(t.from){this.css(t.from);var n=this.element.offsetHeight;n=null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0};var g=c&&n(c)+",opacity";r.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:g,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(u,this,!1))},r.prototype.transition=r.prototype[l?"_transition":"_nonTransition"],r.prototype.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},r.prototype.onotransitionend=function(t){this.ontransitionend(t)};var v={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};r.prototype.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,n=v[t.propertyName]||t.propertyName;if(delete e.ingProperties[n],i(e.ingProperties)&&this.disableTransition(),n in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[n]),n in e.onEnd){var a=e.onEnd[n];a.call(this),delete e.onEnd[n]}this.emitEvent("transitionEnd",[this])}},r.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(u,this,!1),this.isTransitioning=!1},r.prototype._removeStyles=function(t){var e={};for(var i in t)e[i]="";this.css(e)};var y={transitionProperty:"",transitionDuration:""};return r.prototype.removeTransitionStyles=function(){this.css(y)},r.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},r.prototype.remove=function(){if(!l||!parseFloat(this.layout.options.transitionDuration))return void this.removeElem();var t=this;this.on("transitionEnd",function(){return t.removeElem(),!0}),this.hide()},r.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options;this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0})},r.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options;this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.isHidden&&this.css({display:"none"})}}})},r.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},r}var o=t.getComputedStyle,s=o?function(t){return o(t,null)}:function(t){return t.currentStyle};"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],a):(t.Outlayer={},t.Outlayer.Item=a(t.EventEmitter,t.getSize,t.getStyleProperty))}(window),function(t){function e(t,e){for(var i in e)t[i]=e[i];return t}function i(t){return"[object Array]"===d.call(t)}function n(t){var e=[];if(i(t))e=t;else if(t&&"number"==typeof t.length)for(var n=0,a=t.length;a>n;n++)e.push(t[n]);else e.push(t);return e}function a(t,e){var i=p(e,t);-1!==i&&e.splice(i,1)}function o(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()}function s(i,s,d,p,f,m){function g(t,i){if("string"==typeof t&&(t=r.querySelector(t)),!t||!u(t))return void(l&&l.error("Bad "+this.constructor.namespace+" element: "+t));this.element=t,this.options=e({},this.constructor.defaults),this.option(i);var n=++v;this.element.outlayerGUID=n,y[n]=this,this._create(),this.options.isInitLayout&&this.layout()}var v=0,y={};return g.namespace="outlayer",g.Item=m,g.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},e(g.prototype,d.prototype),g.prototype.option=function(t){e(this.options,t)},g.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),e(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},g.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},g.prototype._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,n=[],a=0,o=e.length;o>a;a++){var s=e[a],r=new i(s,this);n.push(r)}return n},g.prototype._filterFindItemElements=function(t){t=n(t);for(var e=this.options.itemSelector,i=[],a=0,o=t.length;o>a;a++){var s=t[a];if(u(s))if(e){f(s,e)&&i.push(s);for(var r=s.querySelectorAll(e),l=0,c=r.length;c>l;l++)i.push(r[l])}else i.push(s)}return i},g.prototype.getItemElements=function(){for(var t=[],e=0,i=this.items.length;i>e;e++)t.push(this.items[e].element);return t},g.prototype.layout=function(){this._resetLayout(),this._manageStamps();var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},g.prototype._init=g.prototype.layout,g.prototype._resetLayout=function(){this.getSize()},g.prototype.getSize=function(){this.size=p(this.element)},g.prototype._getMeasurement=function(t,e){var i,n=this.options[t];n?("string"==typeof n?i=this.element.querySelector(n):u(n)&&(i=n),this[t]=i?p(i)[e]:n):this[t]=0},g.prototype.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},g.prototype._getItemsForLayout=function(t){for(var e=[],i=0,n=t.length;n>i;i++){var a=t[i];a.isIgnored||e.push(a)}return e},g.prototype._layoutItems=function(t,e){function i(){n.emitEvent("layoutComplete",[n,t])}var n=this;if(!t||!t.length)return void i();this._itemsOn(t,"layout",i);for(var a=[],o=0,s=t.length;s>o;o++){var r=t[o],l=this._getItemLayoutPosition(r);l.item=r,l.isInstant=e||r.isLayoutInstant,a.push(l)}this._processLayoutQueue(a)},g.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},g.prototype._processLayoutQueue=function(t){for(var e=0,i=t.length;i>e;e++){var n=t[e];this._positionItem(n.item,n.x,n.y,n.isInstant)}},g.prototype._positionItem=function(t,e,i,n){n?t.goTo(e,i):t.moveTo(e,i)},g.prototype._postLayout=function(){this.resizeContainer()},g.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},g.prototype._getContainerSize=h,g.prototype._setContainerMeasure=function(t,e){if(void 0!==t){var i=this.size;i.isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},g.prototype._itemsOn=function(t,e,i){function n(){return a++,a===o&&i.call(s),!0}for(var a=0,o=t.length,s=this,r=0,l=t.length;l>r;r++){var c=t[r];c.on(e,n)}},g.prototype.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},g.prototype.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},g.prototype.stamp=function(t){if(t=this._find(t)){this.stamps=this.stamps.concat(t);for(var e=0,i=t.length;i>e;e++){var n=t[e];this.ignore(n)}}},g.prototype.unstamp=function(t){if(t=this._find(t))for(var e=0,i=t.length;i>e;e++){var n=t[e];a(n,this.stamps),this.unignore(n)}},g.prototype._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),t=n(t)):void 0},g.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var t=0,e=this.stamps.length;e>t;t++){var i=this.stamps[t];this._manageStamp(i)}}},g.prototype._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},g.prototype._manageStamp=h,g.prototype._getElementOffset=function(t){var e=t.getBoundingClientRect(),i=this._boundingRect,n=p(t),a={left:e.left-i.left-n.marginLeft,top:e.top-i.top-n.marginTop,right:i.right-e.right-n.marginRight,bottom:i.bottom-e.bottom-n.marginBottom};return a},g.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},g.prototype.bindResize=function(){this.isResizeBound||(i.bind(t,"resize",this),this.isResizeBound=!0)},g.prototype.unbindResize=function(){this.isResizeBound&&i.unbind(t,"resize",this),this.isResizeBound=!1},g.prototype.onresize=function(){function t(){e.resize(),delete e.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var e=this;this.resizeTimeout=setTimeout(t,100)},g.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},g.prototype.needsResizeLayout=function(){var t=p(this.element),e=this.size&&t;return e&&t.innerWidth!==this.size.innerWidth},g.prototype.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},g.prototype.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},g.prototype.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(i)}},g.prototype.reveal=function(t){var e=t&&t.length;if(e)for(var i=0;e>i;i++){var n=t[i];n.reveal()}},g.prototype.hide=function(t){var e=t&&t.length;if(e)for(var i=0;e>i;i++){var n=t[i];n.hide()}},g.prototype.getItem=function(t){for(var e=0,i=this.items.length;i>e;e++){var n=this.items[e];if(n.element===t)return n}},g.prototype.getItems=function(t){if(t&&t.length){for(var e=[],i=0,n=t.length;n>i;i++){var a=t[i],o=this.getItem(a);o&&e.push(o)}return e}},g.prototype.remove=function(t){t=n(t);var e=this.getItems(t);if(e&&e.length){this._itemsOn(e,"remove",function(){this.emitEvent("removeComplete",[this,e])});for(var i=0,o=e.length;o>i;i++){var s=e[i];s.remove(),a(s,this.items)}}},g.prototype.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="";for(var e=0,i=this.items.length;i>e;e++){var n=this.items[e];n.destroy()}this.unbindResize(),delete this.element.outlayerGUID,c&&c.removeData(this.element,this.constructor.namespace)},g.data=function(t){var e=t&&t.outlayerGUID;return e&&y[e]},g.create=function(t,i){function n(){g.apply(this,arguments)}return Object.create?n.prototype=Object.create(g.prototype):e(n.prototype,g.prototype),n.prototype.constructor=n,n.defaults=e({},g.defaults),e(n.defaults,i),n.prototype.settings={},n.namespace=t,n.data=g.data,n.Item=function(){m.apply(this,arguments)},n.Item.prototype=new m,s(function(){for(var e=o(t),i=r.querySelectorAll(".js-"+e),a="data-"+e+"-options",s=0,h=i.length;h>s;s++){var d,u=i[s],p=u.getAttribute(a);try{d=p&&JSON.parse(p)}catch(f){l&&l.error("Error parsing "+a+" on "+u.nodeName.toLowerCase()+(u.id?"#"+u.id:"")+": "+f);continue}var m=new n(u,d);c&&c.data(u,t,m)}}),c&&c.bridget&&c.bridget(t,n),n},g.Item=m,g}var r=t.document,l=t.console,c=t.jQuery,h=function(){},d=Object.prototype.toString,u="object"==typeof HTMLElement?function(t){return t instanceof HTMLElement}:function(t){return t&&"object"==typeof t&&1===t.nodeType&&"string"==typeof t.nodeName},p=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i;return-1};"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],s):t.Outlayer=s(t.eventie,t.docReady,t.EventEmitter,t.getSize,t.matchesSelector,t.Outlayer.Item)}(window),function(t){function e(t,e){var n=t.create("masonry");return n.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var t=this.cols;for(this.colYs=[];t--;)this.colYs.push(0);this.maxY=0},n.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],i=t&&t.element;this.columnWidth=i&&e(i).outerWidth||this.containerWidth}this.columnWidth+=this.gutter,this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth),this.cols=Math.max(this.cols,1)},n.prototype.getContainerWidth=function(){var t=this.options.isFitWidth?this.element.parentNode:this.element,i=e(t);this.containerWidth=i&&i.innerWidth},n.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,n=e&&1>e?"round":"ceil",a=Math[n](t.size.outerWidth/this.columnWidth);a=Math.min(a,this.cols);for(var o=this._getColGroup(a),s=Math.min.apply(Math,o),r=i(o,s),l={x:this.columnWidth*r,y:s},c=s+t.size.outerHeight,h=this.cols+1-o.length,d=0;h>d;d++)this.colYs[r+d]=c;return l},n.prototype._getColGroup=function(t){if(2>t)return this.colYs;for(var e=[],i=this.cols+1-t,n=0;i>n;n++){var a=this.colYs.slice(n,n+t);e[n]=Math.max.apply(Math,a)}return e},n.prototype._manageStamp=function(t){var i=e(t),n=this._getElementOffset(t),a=this.options.isOriginLeft?n.left:n.right,o=a+i.outerWidth,s=Math.floor(a/this.columnWidth);s=Math.max(0,s);var r=Math.floor(o/this.columnWidth);r-=o%this.columnWidth?0:1,r=Math.min(this.cols-1,r);for(var l=(this.options.isOriginTop?n.top:n.bottom)+i.outerHeight,c=s;r>=c;c++)this.colYs[c]=Math.max(l,this.colYs[c])},n.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this.options.isFitWidth&&(t.width=this._getContainerFitWidth()),t},n.prototype._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},n.prototype.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!==this.containerWidth},n}var i=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var i=0,n=t.length;n>i;i++){var a=t[i];if(a===e)return i}return-1};"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],e):t.Masonry=e(t.Outlayer,t.getSize)}(window),window.log=function(){if(log.history=log.history||[],log.history.push(arguments),this.console){var t,e=arguments;e.callee=e.callee.caller,t=[].slice.call(e),"object"==typeof console.log?log.apply.call(console.log,console,t):console.log.apply(console,t)}},function(t){function e(){}for(var i,n="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn".split(",");i=n.pop();)t[i]=t[i]||e}(function(){try{return console.log(),window.console}catch(t){return window.console={}}}()),function(t){function e(t){return"object"==typeof t?t:{top:t,left:t}}var i=t.scrollTo=function(e,i,n){t(window).scrollTo(e,i,n)};i.defaults={axis:"xy",duration:parseFloat(t.fn.jquery)>=1.3?0:1,limit:!0},i.window=function(){return t(window)._scrollable()},t.fn._scrollable=function(){return this.map(function(){var e=this,i=!e.nodeName||-1!=t.inArray(e.nodeName.toLowerCase(),["iframe","#document","html","body"]);if(!i)return e;var n=(e.contentWindow||e).document||e.ownerDocument||e;return/webkit/i.test(navigator.userAgent)||"BackCompat"==n.compatMode?n.body:n.documentElement})},t.fn.scrollTo=function(n,a,o){return"object"==typeof a&&(o=a,a=0),"function"==typeof o&&(o={onAfter:o}),"max"==n&&(n=9e9),o=t.extend({},i.defaults,o),a=a||o.duration,o.queue=o.queue&&o.axis.length>1,o.queue&&(a/=2),o.offset=e(o.offset),o.over=e(o.over),this._scrollable().each(function(){function s(t){c.animate(d,a,o.easing,t&&function(){t.call(this,n,o)
})}if(null!=n){var r,l=this,c=t(l),h=n,d={},u=c.is("html,body");switch(typeof h){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(h)){h=e(h);break}if(h=t(h,this),!h.length)return;case"object":(h.is||h.style)&&(r=(h=t(h)).offset())}t.each(o.axis.split(""),function(t,e){var n="x"==e?"Left":"Top",a=n.toLowerCase(),p="scroll"+n,f=l[p],m=i.max(l,e);if(r)d[p]=r[a]+(u?0:f-c.offset()[a]),o.margin&&(d[p]-=parseInt(h.css("margin"+n))||0,d[p]-=parseInt(h.css("border"+n+"Width"))||0),d[p]+=o.offset[a]||0,o.over[a]&&(d[p]+=h["x"==e?"width":"height"]()*o.over[a]);else{var g=h[a];d[p]=g.slice&&"%"==g.slice(-1)?parseFloat(g)/100*m:g}o.limit&&/^\d+$/.test(d[p])&&(d[p]=d[p]<=0?0:Math.min(d[p],m)),!t&&o.queue&&(f!=d[p]&&s(o.onAfterFirst),delete d[p])}),s(o.onAfter)}}).end()},i.max=function(e,i){var n="x"==i?"Width":"Height",a="scroll"+n;if(!t(e).is("html,body"))return e[a]-t(e)[n.toLowerCase()]();var o="client"+n,s=e.ownerDocument.documentElement,r=e.ownerDocument.body;return Math.max(s[a],r[a])-Math.min(s[o],r[o])}}(jQuery),$(window).load(function(){!function(t){function e(t){if(t&&t.length){var e=t.match(n.text)[1],i=e.match(n.url);return i?'<img src="'+i[1]+'" />':e}}function i(i,n,a){("after"==i||"before"==i)&&(a=e(n.currentStyle[i]))&&t(n)["before"==i?"prepend":"append"](t(document.createElement("span")).addClass(i).html(a))}var n={text:/^['"]?(.+?)["']?$/,url:/^url\(["']?(.+?)['"]?\)$/};if(t.pseudo=function(t){i("before",t),i("after",t),t.runtimeStyle.behavior=null},document.createStyleSheet){var a=document.createStyleSheet(null,0);a.addRule(".dummy","display: static;"),a.cssText="html, head, head *, body, *.before, *.after, *.before *, *.after * { behavior: none; } * { behavior: expression($.pseudo(this)); }"}}(jQuery)}),function(t){t.fn.fileupload=function(){this.each(function(){function e(){file=i.value,reWin=/.*\\(.*)/;var e=file.replace(reWin,"$1");reUnix=/.*\/(.*)/,e=e.replace(reUnix,"$1"),n.innerHTML=e;var o=/.*\.(.*)/,s=e.replace(o,"$1");a.indexOf("."+s.toLowerCase())<0&&(i.value="",t(n).addClass("error").text("\u041d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0444\u0430\u0439\u043b\u0430"),window.setTimeout(function(){t(n).removeClass("error").text("")},3e3))}var i=t(this).get(0),n=t(this).siblings(".cf_file_progress").get(0);i.value="",i.onchange=e;var a=i.accept.split(",")})}}(jQuery),function(t){t.fn.formValidator=function(e){var i={};this.each(function(){{var n=(t.extend(i,e),t(this)),a=t(":input",n);a.length}a.removeClass("error").each(function(){var e=t(this),i=e.parents(".fieldrow"),n=e.val();if(gr=e.data("group"),e.parent().removeClass("error"),i.find("em.error").css("display","none"),e.data("validate")||e.data("required"))if(e.data("required")&&""==e.val())e.addClass("error"),e.parent().addClass("error"),i.find(".error.required").css("display","block");else{if(gr){var o=a.filter('[data-group="'+gr+'"]'),s=!1;o.each(function(){var e=t(this).is('[type="checkbox"]')?t(this)[0].checked:t(this).val();e&&(s=!0)}),s?o.removeClass("error").closest("div.fieldrow").find(".error.group").hide():o.addClass("error").closest("div.fieldrow").find(".error.group").show()}switch(e.data("validate")){case"number":if(""!=n)for(var r="-+0123456789. ",l=n.length-1;l>=0;l--){var c=new String(n.charAt(l)),h=r.lastIndexOf(c)>-1;if(!h){e.addClass("error"),e.parent().addClass("error"),i.find(".error.validate").css("display","block");break}}break;case"password":""!=n&&n.length<6&&(e.addClass("error"),i.find(".error.validate").css("display","block"));break;case"email":""!=n&&(/^([a-z0-9_\-]+\.)*[a-z0-9_\-]+@([a-z0-9][a-z0-9\-]*[a-z0-9]\.)+[a-z]{2,4}$/i.test(n)||(e.addClass("error"),e.parent().addClass("error"),i.find(".error.validate").css("display","block")))}if(e.data("minlength")&&""!=n&&(n.length<1*e.data("minlength")?(e.removeClass("ok"),e.parent().addClass("error"),e.addClass("error"),i.find(".error.minlength").css("display","block")):(e.removeClass("error"),i.addClass("ok"))),e.data("identity")){var d=t(e.data("identity"));d.length<1&&alert("\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0441\u0435\u043b\u0435\u043a\u0442\u043e\u0440 \u0432 \u043f\u043e\u043b\u0435 "+e.attr("name")),""!=n&&""!=d.val()&&n!=d.val()&&(e.addClass("error"),e.parent().addClass("error"),i.find(".error.identity").css("display","block"))}}}),n.data("valid",0==t(":input.error",n).length)})}}(jQuery),jQuery.extend(jQuery.easing,{easeIn:function(t,e,i,n,a){return jQuery.easing.easeInQuad(t,e,i,n,a)},easeOut:function(t,e,i,n,a){return jQuery.easing.easeOutQuad(t,e,i,n,a)},easeInOut:function(t,e,i,n,a){return jQuery.easing.easeInOutQuad(t,e,i,n,a)},expoin:function(t,e,i,n,a){return jQuery.easing.easeInExpo(t,e,i,n,a)},expoout:function(t,e,i,n,a){return jQuery.easing.easeOutExpo(t,e,i,n,a)},expoinout:function(t,e,i,n,a){return jQuery.easing.easeInOutExpo(t,e,i,n,a)},bouncein:function(t,e,i,n,a){return jQuery.easing.easeInBounce(t,e,i,n,a)},bounceout:function(t,e,i,n,a){return jQuery.easing.easeOutBounce(t,e,i,n,a)},bounceinout:function(t,e,i,n,a){return jQuery.easing.easeInOutBounce(t,e,i,n,a)},elasin:function(t,e,i,n,a){return jQuery.easing.easeInElastic(t,e,i,n,a)},elasout:function(t,e,i,n,a){return jQuery.easing.easeOutElastic(t,e,i,n,a)},elasinout:function(t,e,i,n,a){return jQuery.easing.easeInOutElastic(t,e,i,n,a)},backin:function(t,e,i,n,a){return jQuery.easing.easeInBack(t,e,i,n,a)},backout:function(t,e,i,n,a){return jQuery.easing.easeOutBack(t,e,i,n,a)},backinout:function(t,e,i,n,a){return jQuery.easing.easeInOutBack(t,e,i,n,a)}}),function(t){t.fn.replaceCheckBox=function(){this.each(function(){{var e=t(this);t("label[for="+e.attr("id")+"]")}if(e.hasClass("custom"))return!1;e.wrap('<span class="field checkbox" />').wrap("<span />");var i=e.parents("span.checkbox:eq(0)");e.prop("checked")&&i.addClass("checked"),i.on("click",function(){return e.attr("disabled")?!1:void e.trigger("change")}),e.on("change",function(){return e.attr("disabled")?!1:void(e.prop("checked")?(i.removeClass("checked"),e.prop("checked",!1)):(i.addClass("checked"),e.prop("checked",!0)))})})}}(jQuery),function(t){t.fn.selectReplace=function(){this.each(function(){var e=t(this),i=t('<span class="inpselblock"></span>'),n=t('<span class="inpseltxt"></span>'),a=e.width();if(e.hasClass("custom"))return!1;i.parent().width(a),e.wrap(i),n.insertBefore(e),n.text(t("option:selected",e).text());var o=t('<a class="selopener" href="#"></a>').insertBefore(n),s=t('<div class="optcontainer'+(e.hasClass("round")?" round":"")+'" id="'+e.attr("name")+'opts"></div>').appendTo("body");s.css("min-width",a).hide(function(){t(this).addClass("hide")}),t("option",e).each(function(i){var a=t(this),r=t('<a href="#" title="'+a.text()+'">'+a.text()+"</a>").appendTo(s);r.click(function(){return e.get(0).selectedIndex=i,n.text(t("option:eq("+i+")",e).text()),s.find(".selected").removeClass("selected"),t(this).addClass("selected"),s.slideUp("fast",function(){t(this).addClass("hide"),o.removeClass("open")}),e.change(),!1}),a.prop("selected")&&r.addClass("selected")}),o.click(function(){if(t(".inpselblock").removeClass("open"),t("div.optcontainer").slideUp("fast",function(){t(this).addClass("hide")}),s.hasClass("hide")){var i=t(n).offset(),a=0;s.removeClass("hide"),s.css({left:i.left+"px",top:i.top-1+"px","min-width":e.outerWidth()+15}),s.slideDown("fast",function(){t(document).on("click",function(e){(e.pageX<i.left||e.pageX>i.left+s.width()||e.pageY<i.top||e.pageY>i.top+s.height())&&s.slideUp("fast",function(){t(this).addClass("hide"),o.removeClass("open")})}),o.addClass("open")}),s.siblings().each(function(){var e=parseInt(t(this).css("z-index"));a=Math.max(a,isNaN(e)?0:e)}),s.css({"z-index":a+1})}else s.slideUp("fast",function(){t(this).addClass("hide"),o.removeClass("open")});return!1}),e.addClass("custom")})}}(jQuery),function(t){t.fn.radioReplace=function(){this.each(function(){{var e=t(this),i=(t("label[for="+e.attr("id")+"]"),t(this.form));e.attr("name")}if(e.hasClass("custom"))return!1;e.wrap('<span class="field radio" />').wrap("<span />");var n=e.parents("span.radio:eq(0)");e.prop("checked")&&n.addClass("checked"),e.change(function(){if(t(this).attr("disabled"))return!1;var e=t(this).attr("name");t('input[name="'+e+'"]',i).each(function(){var e=t(this),i=e.parents("span.radio:eq(0)");e.prop("checked")?i.addClass("checked"):i.removeClass("checked")})})})}}(jQuery),function(t){t.fn.columnize=function(e){var i={width:400,columns:!1,buildOnce:!1,overflow:!1,doneFunc:function(){},target:!1,ignoreImageLoading:!0,columnFloat:"left",lastNeverTallest:!1,accuracy:!1,manualBreaks:!1,cssClassPrefix:""};return e=t.extend(i,e),"string"==typeof e.width&&(e.width=parseInt(e.width,10),isNaN(e.width)&&(e.width=i.width)),this.each(function(){function n(t,e){var i=e?".":"";return f.length?i+f+"-"+t:i+t}function a(i,a,o,s){for(;(p||o.height()<s)&&a[0].childNodes.length;){var r=a[0].childNodes[0];if(t(r).find(n("columnbreak",!0)).length)return;if(t(r).hasClass(n("columnbreak")))return;i.append(r)}if(0!==i[0].childNodes.length){var l=i[0].childNodes,c=l[l.length-1];i[0].removeChild(c);var h=t(c);if(3==h[0].nodeType){var d=h[0].nodeValue,u=e.width/18;e.accuracy&&(u=e.accuracy);for(var f,m=null;o.height()<s&&d.length;){var g=d.indexOf(" ",u);f=-1!=g?d.substring(0,d.indexOf(" ",u)):d,m=document.createTextNode(f),i.append(m),d=d.length>u&&-1!=g?d.substring(g):""}if(o.height()>=s&&null!==m&&(i[0].removeChild(m),d=m.nodeValue+d),!d.length)return!1;h[0].nodeValue=d}return a.contents().length?a.prepend(h):a.append(h),3==h[0].nodeType}}function o(t,e,i,s){if(!t.contents(":last").find(n("columnbreak",!0)).length&&!t.contents(":last").hasClass(n("columnbreak"))&&e.contents().length){var r=e.contents(":first");if(1!=r.get(0).nodeType)return;var l=r.clone(!0);r.hasClass(n("columnbreak"))?(t.append(l),r.remove()):p?(t.append(l),r.remove()):1!=l.get(0).nodeType||l.hasClass(n("dontend"))||(t.append(l),l.is("img")&&i.height()<s+20?r.remove():!r.hasClass(n("dontsplit"))&&i.height()<s+20?r.remove():l.is("img")||r.hasClass(n("dontsplit"))?l.remove():(l.empty(),a(l,r,i,s)?r.addClass(n("split")):(r.addClass(n("split")),r.children().length&&o(l,r,i,s)),0===l.get(0).childNodes.length&&l.remove()))}}function s(){if(!c.data("columnized")||1!=c.children().length){if(c.data("columnized",!0),c.data("columnizing",!0),c.empty(),c.append(t("<div class='"+n("first")+" "+n("last")+" "+n("column")+" ' style='width:100%; float: "+e.columnFloat+";'></div>")),$col=c.children().eq(c.children().length-1),$destroyable=d.clone(!0),e.overflow){for(targetHeight=e.overflow.height,a($col,$destroyable,$col,targetHeight),$destroyable.contents().find(":first-child").hasClass(n("dontend"))||o($col,$destroyable,$col,targetHeight);$col.contents(":last").length&&r($col.contents(":last").get(0));){var i=$col.contents(":last");i.remove(),$destroyable.prepend(i)}for(var s="",l=document.createElement("DIV");$destroyable[0].childNodes.length>0;){var h=$destroyable[0].childNodes[0];if(h.attributes)for(var u=0;u<h.attributes.length;u++)0===h.attributes[u].nodeName.indexOf("jQuery")&&h.removeAttribute(h.attributes[u].nodeName);l.innerHTML="",l.appendChild($destroyable[0].childNodes[0]),s+=l.innerHTML}var p=t(e.overflow.id)[0];p.innerHTML=s}else $col.append($destroyable);c.data("columnizing",!1),e.overflow&&e.overflow.doneFunc&&e.overflow.doneFunc()}}function r(e){return 3==e.nodeType?/^\s+$/.test(e.nodeValue)&&e.previousSibling?r(e.previousSibling):!1:1!=e.nodeType?!1:t(e).hasClass(n("dontend"))?!0:0===e.childNodes.length?!1:r(e.childNodes[e.childNodes.length-1])}function l(){if(m=0,u!=c.width()){u=c.width();var i=Math.round(c.width()/e.width),l=e.width,f=e.height;if(e.columns&&(i=e.columns),p&&(i=d.find(n("columnbreak",!0)).length+1,l=!1),1>=i)return s();if(!c.data("columnizing")){c.data("columnized",!0),c.data("columnizing",!0),c.empty(),c.append(t("<div style='width:"+Math.floor(100/i)+"%; float: "+e.columnFloat+";'></div>")),k=c.children(":last"),k.append(d.clone()),h=k.height(),c.empty();var g=h/i,v=3,y=!1;e.overflow?(v=1,g=e.overflow.height):f&&l&&(v=1,g=f,y=!0);for(var b=0;v>b&&20>b;b++){c.empty();var x,w,k,_;try{x=d.clone(!0)}catch(C){x=d.clone()}x.css("visibility","hidden");for(var T=0;i>T;T++)w=0===T?n("first"):"",w+=" "+n("column"),w=T==i-1?n("last")+" "+w:w,c.append(t("<div class='"+w+"' style='width:"+Math.floor(100/i)+"%; float: "+e.columnFloat+";'></div>"));for(T=0;T<i-(e.overflow?0:1)||y&&x.contents().length;){for(c.children().length<=T&&c.append(t("<div class='"+w+"' style='width:"+Math.floor(100/i)+"%; float: "+e.columnFloat+";'></div>")),k=c.children().eq(T),y&&k.width(l+"px"),a(k,x,k,g),o(k,x,k,g);k.contents(":last").length&&r(k.contents(":last").get(0));)_=k.contents(":last"),_.remove(),x.prepend(_);T++,0===k.contents().length&&x.contents().length?k.append(x.contents(":first")):T!=i-(e.overflow?0:1)||e.overflow||x.find(n("columnbreak",!0)).length&&i++}if(e.overflow&&!y){var P=!1,S=document.all&&-1!=navigator.appVersion.indexOf("MSIE 7.");if(P||S){for(var j="",L=document.createElement("DIV");x[0].childNodes.length>0;){var E=x[0].childNodes[0];for(T=0;T<E.attributes.length;T++)0===E.attributes[T].nodeName.indexOf("jQuery")&&E.removeAttribute(E.attributes[T].nodeName);L.innerHTML="",L.appendChild(x[0].childNodes[0]),j+=L.innerHTML}var A=t(e.overflow.id)[0];A.innerHTML=j}else t(e.overflow.id).empty().append(x.contents().clone(!0))}else if(y)c.children().each(function(t){k=c.children().eq(t),k.width(l+"px"),0===t?k.addClass(n("first")):t==c.children().length-1?k.addClass(n("last")):(k.removeClass(n("first")),k.removeClass(n("last")))}),c.width(c.children().length*l+"px");else{k=c.children().eq(c.children().length-1),x.contents().each(function(){k.append(t(this))});var M=(k.height(),0),O=1e7,I=0,R=!1,D=0;c.children().each(function(t){return function(e){var i=t.children().eq(e),a=i.children(":last").find(n("columnbreak",!0)).length;if(!a){var o=i.height();R=!1,M+=o,o>I&&(I=o,R=!0),O>o&&(O=o),D++}}}(c));var z=M/D;0===M?b=v:e.lastNeverTallest&&R?(m+=30,g+=30,b==v-1&&v++):I-O>30?g=z+30:Math.abs(z-g)>20?g=z:b=v}c.append(t("<br style='clear:both;'>"))}c.find(n("column",!0)).find(":first"+n("removeiffirst",!0)).remove(),c.find(n("column",!0)).find(":last"+n("removeiflast",!0)).remove(),c.data("columnizing",!1),e.overflow&&e.overflow.doneFunc(),e.doneFunc()}}}var c=t(e.target?e.target:this),h=t(this).height(),d=t("<div></div>"),u=0,p=e.manualBreaks,f=i.cssClassPrefix;"string"==typeof e.cssClassPrefix&&(f=e.cssClassPrefix);var m=0;if(d.append(t(this).contents().clone(!0)),!e.ignoreImageLoading&&!e.target&&!c.data("imageLoaded")&&(c.data("imageLoaded",!0),t(this).find("img").length>0)){var g=function(t,i){return function(){t.data("firstImageLoaded")||(t.data("firstImageLoaded","true"),t.empty().append(i.children().clone(!0)),t.columnize(e))}}(t(this),d);return t(this).find("img").one("load",g),void t(this).find("img").one("abort",g)}c.empty(),l(),e.buildOnce||t(window).resize(function(){e.buildOnce||(c.data("timeout")&&clearTimeout(c.data("timeout")),c.data("timeout",setTimeout(l,200)))})})}}(jQuery),function(t){function e(t,e){if(!(t.originalEvent.touches.length>1)){t.preventDefault();var i=t.originalEvent.changedTouches[0],n=document.createEvent("MouseEvents");n.initMouseEvent(e,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(n)}}if(t.support.touch="ontouchend"in document,t.support.touch){var i,n=t.ui.mouse.prototype,a=n._mouseInit;n._touchStart=function(t){var n=this;!i&&n._mouseCapture(t.originalEvent.changedTouches[0])&&(i=!0,n._touchMoved=!1,e(t,"mouseover"),e(t,"mousemove"),e(t,"mousedown"))},n._touchMove=function(t){i&&(this._touchMoved=!0,e(t,"mousemove"))},n._touchEnd=function(t){i&&(e(t,"mouseup"),e(t,"mouseout"),this._touchMoved||e(t,"click"),i=!1)},n._mouseInit=function(){var e=this;e.element.bind("touchstart",t.proxy(e,"_touchStart")).bind("touchmove",t.proxy(e,"_touchMove")).bind("touchend",t.proxy(e,"_touchEnd")),a.call(e)}}}(jQuery),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):e(t.jQuery?t.jQuery:t.Zepto)}(this,function(t,e){t.fn.jPlayer=function(i){var n="string"==typeof i,a=Array.prototype.slice.call(arguments,1),o=this;return i=!n&&a.length?t.extend.apply(null,[!0,i].concat(a)):i,n&&"_"===i.charAt(0)?o:(this.each(n?function(){var n=t(this).data("jPlayer"),s=n&&t.isFunction(n[i])?n[i].apply(n,a):n;return s!==n&&s!==e?(o=s,!1):void 0}:function(){var e=t(this).data("jPlayer");e?e.option(i||{}):t(this).data("jPlayer",new t.jPlayer(i,this))}),o)},t.jPlayer=function(e,i){if(arguments.length){this.element=t(i),this.options=t.extend(!0,{},this.options,e);var n=this;this.element.bind("remove.jPlayer",function(){n.destroy()}),this._init()}},"function"!=typeof t.fn.stop&&(t.fn.stop=function(){}),t.jPlayer.emulateMethods="load play pause",t.jPlayer.emulateStatus="src readyState networkState currentTime duration paused ended playbackRate",t.jPlayer.emulateOptions="muted volume",t.jPlayer.reservedEvent="ready flashreset resize repeat error warning",t.jPlayer.event={},t.each("ready flashreset resize repeat click error warning loadstart progress suspend abort emptied stalled play pause loadedmetadata loadeddata waiting playing canplay canplaythrough seeking seeked timeupdate ended ratechange durationchange volumechange".split(" "),function(){t.jPlayer.event[this]="jPlayer_"+this}),t.jPlayer.htmlEvent="loadstart abort emptied stalled loadedmetadata loadeddata canplay canplaythrough".split(" "),t.jPlayer.pause=function(){t.each(t.jPlayer.prototype.instances,function(t,e){e.data("jPlayer").status.srcSet&&e.jPlayer("pause")})},t.jPlayer.timeFormat={showHour:!1,showMin:!0,showSec:!0,padHour:!1,padMin:!0,padSec:!0,sepHour:":",sepMin:":",sepSec:""};var i=function(){this.init()};i.prototype={init:function(){this.options={timeFormat:t.jPlayer.timeFormat}},time:function(t){var e=new Date(1e3*(t&&"number"==typeof t?t:0)),i=e.getUTCHours();return t=this.options.timeFormat.showHour?e.getUTCMinutes():e.getUTCMinutes()+60*i,e=this.options.timeFormat.showMin?e.getUTCSeconds():e.getUTCSeconds()+60*t,i=this.options.timeFormat.padHour&&10>i?"0"+i:i,t=this.options.timeFormat.padMin&&10>t?"0"+t:t,e=this.options.timeFormat.padSec&&10>e?"0"+e:e,i=""+(this.options.timeFormat.showHour?i+this.options.timeFormat.sepHour:""),i+=this.options.timeFormat.showMin?t+this.options.timeFormat.sepMin:"",i+=this.options.timeFormat.showSec?e+this.options.timeFormat.sepSec:""}};var n=new i;t.jPlayer.convertTime=function(t){return n.time(t)},t.jPlayer.uaBrowser=function(t){t=t.toLowerCase();var e=/(opera)(?:.*version)?[ \/]([\w.]+)/,i=/(msie) ([\w.]+)/,n=/(mozilla)(?:.*? rv:([\w.]+))?/;return t=/(webkit)[ \/]([\w.]+)/.exec(t)||e.exec(t)||i.exec(t)||0>t.indexOf("compatible")&&n.exec(t)||[],{browser:t[1]||"",version:t[2]||"0"}},t.jPlayer.uaPlatform=function(t){var e=t.toLowerCase(),i=/(android)/,n=/(mobile)/;return t=/(ipad|iphone|ipod|android|blackberry|playbook|windows ce|webos)/.exec(e)||[],e=/(ipad|playbook)/.exec(e)||!n.exec(e)&&i.exec(e)||[],t[1]&&(t[1]=t[1].replace(/\s/g,"_")),{platform:t[1]||"",tablet:e[1]||""}},t.jPlayer.browser={},t.jPlayer.platform={};var a=t.jPlayer.uaBrowser(navigator.userAgent);a.browser&&(t.jPlayer.browser[a.browser]=!0,t.jPlayer.browser.version=a.version),a=t.jPlayer.uaPlatform(navigator.userAgent),a.platform&&(t.jPlayer.platform[a.platform]=!0,t.jPlayer.platform.mobile=!a.tablet,t.jPlayer.platform.tablet=!!a.tablet),t.jPlayer.getDocMode=function(){var e;return t.jPlayer.browser.msie&&(document.documentMode?e=document.documentMode:(e=5,document.compatMode&&"CSS1Compat"===document.compatMode&&(e=7))),e},t.jPlayer.browser.documentMode=t.jPlayer.getDocMode(),t.jPlayer.nativeFeatures={init:function(){var t,e,i=document,n=i.createElement("video"),a={w3c:"fullscreenEnabled fullscreenElement requestFullscreen exitFullscreen fullscreenchange fullscreenerror".split(" "),moz:"mozFullScreenEnabled mozFullScreenElement mozRequestFullScreen mozCancelFullScreen mozfullscreenchange mozfullscreenerror".split(" "),webkit:" webkitCurrentFullScreenElement webkitRequestFullScreen webkitCancelFullScreen webkitfullscreenchange ".split(" "),webkitVideo:"webkitSupportsFullscreen webkitDisplayingFullscreen webkitEnterFullscreen webkitExitFullscreen  ".split(" ")},o=["w3c","moz","webkit","webkitVideo"];for(this.fullscreen=n={support:{w3c:!!i[a.w3c[0]],moz:!!i[a.moz[0]],webkit:"function"==typeof i[a.webkit[3]],webkitVideo:"function"==typeof n[a.webkitVideo[2]]},used:{}},t=0,e=o.length;e>t;t++){var s=o[t];if(n.support[s]){n.spec=s,n.used[s]=!0;break}}if(n.spec){var r=a[n.spec];n.api={fullscreenEnabled:!0,fullscreenElement:function(t){return t=t?t:i,t[r[1]]},requestFullscreen:function(t){return t[r[2]]()},exitFullscreen:function(t){return t=t?t:i,t[r[3]]()}},n.event={fullscreenchange:r[4],fullscreenerror:r[5]}}else n.api={fullscreenEnabled:!1,fullscreenElement:function(){return null},requestFullscreen:function(){},exitFullscreen:function(){}},n.event={}}},t.jPlayer.nativeFeatures.init(),t.jPlayer.focus=null,t.jPlayer.keyIgnoreElementNames="INPUT TEXTAREA";var o=function(e){var i,n=t.jPlayer.focus;n&&(t.each(t.jPlayer.keyIgnoreElementNames.split(/\s+/g),function(t,n){return e.target.nodeName.toUpperCase()===n.toUpperCase()?(i=!0,!1):void 0}),i||t.each(n.options.keyBindings,function(i,a){return a&&e.which===a.key&&t.isFunction(a.fn)?(e.preventDefault(),a.fn(n),!1):void 0}))};t.jPlayer.keys=function(e){t(document.documentElement).unbind("keydown.jPlayer"),e&&t(document.documentElement).bind("keydown.jPlayer",o)},t.jPlayer.keys(!0),t.jPlayer.prototype={count:0,version:{script:"2.5.0",needFlash:"2.5.0",flash:"unknown"},options:{swfPath:"js",solution:"html, flash",supplied:"mp3",preload:"metadata",volume:.8,muted:!1,playbackRate:1,defaultPlaybackRate:1,minPlaybackRate:.5,maxPlaybackRate:4,wmode:"opaque",backgroundColor:"#000000",cssSelectorAncestor:"#jp_container_1",cssSelector:{videoPlay:".jp-video-play",play:".jp-play",pause:".jp-pause",stop:".jp-stop",seekBar:".jp-seek-bar",playBar:".jp-play-bar",mute:".jp-mute",unmute:".jp-unmute",volumeBar:".jp-volume-bar",volumeBarValue:".jp-volume-bar-value",volumeMax:".jp-volume-max",playbackRateBar:".jp-playback-rate-bar",playbackRateBarValue:".jp-playback-rate-bar-value",currentTime:".jp-current-time",duration:".jp-duration",fullScreen:".jp-full-screen",restoreScreen:".jp-restore-screen",repeat:".jp-repeat",repeatOff:".jp-repeat-off",gui:".jp-gui",noSolution:".jp-no-solution"},smoothPlayBar:!1,fullScreen:!1,fullWindow:!1,autohide:{restored:!1,full:!0,fadeIn:200,fadeOut:600,hold:1e3},loop:!1,repeat:function(e){e.jPlayer.options.loop?t(this).unbind(".jPlayerRepeat").bind(t.jPlayer.event.ended+".jPlayer.jPlayerRepeat",function(){t(this).jPlayer("play")}):t(this).unbind(".jPlayerRepeat")},nativeVideoControls:{},noFullWindow:{msie:/msie [0-6]\./,ipad:/ipad.*?os [0-4]\./,iphone:/iphone/,ipod:/ipod/,android_pad:/android [0-3]\.(?!.*?mobile)/,android_phone:/android.*?mobile/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/},noVolume:{ipad:/ipad/,iphone:/iphone/,ipod:/ipod/,android_pad:/android(?!.*?mobile)/,android_phone:/android.*?mobile/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/,playbook:/playbook/},timeFormat:{},keyEnabled:!1,audioFullScreen:!1,keyBindings:{play:{key:32,fn:function(t){t.status.paused?t.play():t.pause()}},fullScreen:{key:13,fn:function(t){(t.status.video||t.options.audioFullScreen)&&t._setOption("fullScreen",!t.options.fullScreen)}},muted:{key:8,fn:function(t){t._muted(!t.options.muted)}},volumeUp:{key:38,fn:function(t){t.volume(t.options.volume+.1)}},volumeDown:{key:40,fn:function(t){t.volume(t.options.volume-.1)}}},verticalVolume:!1,verticalPlaybackRate:!1,globalVolume:!1,idPrefix:"jp",noConflict:"jQuery",emulateHtml:!1,consoleAlerts:!0,errorAlerts:!1,warningAlerts:!1},optionsAudio:{size:{width:"0px",height:"0px",cssClass:""},sizeFull:{width:"0px",height:"0px",cssClass:""}},optionsVideo:{size:{width:"480px",height:"270px",cssClass:"jp-video-270p"},sizeFull:{width:"100%",height:"100%",cssClass:"jp-video-full"}},instances:{},status:{src:"",media:{},paused:!0,format:{},formatType:"",waitForPlay:!0,waitForLoad:!0,srcSet:!1,video:!1,seekPercent:0,currentPercentRelative:0,currentPercentAbsolute:0,currentTime:0,duration:0,videoWidth:0,videoHeight:0,readyState:0,networkState:0,playbackRate:1,ended:0},internal:{ready:!1},solution:{html:!0,flash:!0},format:{mp3:{codec:'audio/mpeg; codecs="mp3"',flashCanPlay:!0,media:"audio"},m4a:{codec:'audio/mp4; codecs="mp4a.40.2"',flashCanPlay:!0,media:"audio"},m3u8a:{codec:'application/vnd.apple.mpegurl; codecs="mp4a.40.2"',flashCanPlay:!1,media:"audio"},m3ua:{codec:"audio/mpegurl",flashCanPlay:!1,media:"audio"},oga:{codec:'audio/ogg; codecs="vorbis, opus"',flashCanPlay:!1,media:"audio"},flac:{codec:"audio/x-flac",flashCanPlay:!1,media:"audio"},wav:{codec:'audio/wav; codecs="1"',flashCanPlay:!1,media:"audio"},webma:{codec:'audio/webm; codecs="vorbis"',flashCanPlay:!1,media:"audio"},fla:{codec:"audio/x-flv",flashCanPlay:!0,media:"audio"},rtmpa:{codec:'audio/rtmp; codecs="rtmp"',flashCanPlay:!0,media:"audio"},m4v:{codec:'video/mp4; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:!0,media:"video"},m3u8v:{codec:'application/vnd.apple.mpegurl; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:!1,media:"video"},m3uv:{codec:"audio/mpegurl",flashCanPlay:!1,media:"video"},ogv:{codec:'video/ogg; codecs="theora, vorbis"',flashCanPlay:!1,media:"video"},webmv:{codec:'video/webm; codecs="vorbis, vp8"',flashCanPlay:!1,media:"video"},flv:{codec:"video/x-flv",flashCanPlay:!0,media:"video"},rtmpv:{codec:'video/rtmp; codecs="rtmp"',flashCanPlay:!0,media:"video"}},_init:function(){var i=this;if(this.element.empty(),this.status=t.extend({},this.status),this.internal=t.extend({},this.internal),this.options.timeFormat=t.extend({},t.jPlayer.timeFormat,this.options.timeFormat),this.internal.cmdsIgnored=t.jPlayer.platform.ipad||t.jPlayer.platform.iphone||t.jPlayer.platform.ipod,this.internal.domNode=this.element.get(0),this.options.keyEnabled&&!t.jPlayer.focus&&(t.jPlayer.focus=this),this.formats=[],this.solutions=[],this.require={},this.htmlElement={},this.html={},this.html.audio={},this.html.video={},this.flash={},this.css={},this.css.cs={},this.css.jq={},this.ancestorJq=[],this.options.volume=this._limitValue(this.options.volume,0,1),t.each(this.options.supplied.toLowerCase().split(","),function(e,n){var a=n.replace(/^\s+|\s+$/g,"");if(i.format[a]){var o=!1;t.each(i.formats,function(t,e){return a===e?(o=!0,!1):void 0}),o||i.formats.push(a)}}),t.each(this.options.solution.toLowerCase().split(","),function(e,n){var a=n.replace(/^\s+|\s+$/g,"");if(i.solution[a]){var o=!1;t.each(i.solutions,function(t,e){return a===e?(o=!0,!1):void 0}),o||i.solutions.push(a)}}),this.internal.instance="jp_"+this.count,this.instances[this.internal.instance]=this.element,this.element.attr("id")||this.element.attr("id",this.options.idPrefix+"_jplayer_"+this.count),this.internal.self=t.extend({},{id:this.element.attr("id"),jq:this.element}),this.internal.audio=t.extend({},{id:this.options.idPrefix+"_audio_"+this.count,jq:e}),this.internal.video=t.extend({},{id:this.options.idPrefix+"_video_"+this.count,jq:e}),this.internal.flash=t.extend({},{id:this.options.idPrefix+"_flash_"+this.count,jq:e,swf:this.options.swfPath+(".swf"!==this.options.swfPath.toLowerCase().slice(-4)?(this.options.swfPath&&"/"!==this.options.swfPath.slice(-1)?"/":"")+"Jplayer.swf":"")}),this.internal.poster=t.extend({},{id:this.options.idPrefix+"_poster_"+this.count,jq:e}),t.each(t.jPlayer.event,function(t,n){i.options[t]!==e&&(i.element.bind(n+".jPlayer",i.options[t]),i.options[t]=e)}),this.require.audio=!1,this.require.video=!1,t.each(this.formats,function(t,e){i.require[i.format[e].media]=!0}),this.options=this.require.video?t.extend(!0,{},this.optionsVideo,this.options):t.extend(!0,{},this.optionsAudio,this.options),this._setSize(),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow),this.status.noVolume=this._uaBlocklist(this.options.noVolume),t.jPlayer.nativeFeatures.fullscreen.api.fullscreenEnabled&&this._fullscreenAddEventListeners(),this._restrictNativeVideoControls(),this.htmlElement.poster=document.createElement("img"),this.htmlElement.poster.id=this.internal.poster.id,this.htmlElement.poster.onload=function(){i.status.video&&!i.status.waitForPlay||i.internal.poster.jq.show()},this.element.append(this.htmlElement.poster),this.internal.poster.jq=t("#"+this.internal.poster.id),this.internal.poster.jq.css({width:this.status.width,height:this.status.height}),this.internal.poster.jq.hide(),this.internal.poster.jq.bind("click.jPlayer",function(){i._trigger(t.jPlayer.event.click)}),this.html.audio.available=!1,this.require.audio&&(this.htmlElement.audio=document.createElement("audio"),this.htmlElement.audio.id=this.internal.audio.id,this.html.audio.available=!!this.htmlElement.audio.canPlayType&&this._testCanPlayType(this.htmlElement.audio)),this.html.video.available=!1,this.require.video&&(this.htmlElement.video=document.createElement("video"),this.htmlElement.video.id=this.internal.video.id,this.html.video.available=!!this.htmlElement.video.canPlayType&&this._testCanPlayType(this.htmlElement.video)),this.flash.available=this._checkForFlash(10.1),this.html.canPlay={},this.flash.canPlay={},t.each(this.formats,function(t,e){i.html.canPlay[e]=i.html[i.format[e].media].available&&""!==i.htmlElement[i.format[e].media].canPlayType(i.format[e].codec),i.flash.canPlay[e]=i.format[e].flashCanPlay&&i.flash.available}),this.html.desired=!1,this.flash.desired=!1,t.each(this.solutions,function(e,n){if(0===e)i[n].desired=!0;else{var a=!1,o=!1;t.each(i.formats,function(t,e){i[i.solutions[0]].canPlay[e]&&("video"===i.format[e].media?o=!0:a=!0)}),i[n].desired=i.require.audio&&!a||i.require.video&&!o}}),this.html.support={},this.flash.support={},t.each(this.formats,function(t,e){i.html.support[e]=i.html.canPlay[e]&&i.html.desired,i.flash.support[e]=i.flash.canPlay[e]&&i.flash.desired}),this.html.used=!1,this.flash.used=!1,t.each(this.solutions,function(e,n){t.each(i.formats,function(t,e){return i[n].support[e]?(i[n].used=!0,!1):void 0})}),this._resetActive(),this._resetGate(),this._cssSelectorAncestor(this.options.cssSelectorAncestor),this.html.used||this.flash.used?this.css.jq.noSolution.length&&this.css.jq.noSolution.hide():(this._error({type:t.jPlayer.error.NO_SOLUTION,context:"{solution:'"+this.options.solution+"', supplied:'"+this.options.supplied+"'}",message:t.jPlayer.errorMsg.NO_SOLUTION,hint:t.jPlayer.errorHint.NO_SOLUTION}),this.css.jq.noSolution.length&&this.css.jq.noSolution.show()),this.flash.used){var n,a="jQuery="+encodeURI(this.options.noConflict)+"&id="+encodeURI(this.internal.self.id)+"&vol="+this.options.volume+"&muted="+this.options.muted;if(t.jPlayer.browser.msie&&(9>Number(t.jPlayer.browser.version)||9>t.jPlayer.browser.documentMode)){a=['<param name="movie" value="'+this.internal.flash.swf+'" />','<param name="FlashVars" value="'+a+'" />','<param name="allowScriptAccess" value="always" />','<param name="bgcolor" value="'+this.options.backgroundColor+'" />','<param name="wmode" value="'+this.options.wmode+'" />'],n=document.createElement('<object id="'+this.internal.flash.id+'" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="0" height="0" tabindex="-1"></object>');for(var o=0;o<a.length;o++)n.appendChild(document.createElement(a[o]))}else o=function(t,e,i){var n=document.createElement("param");n.setAttribute("name",e),n.setAttribute("value",i),t.appendChild(n)},n=document.createElement("object"),n.setAttribute("id",this.internal.flash.id),n.setAttribute("name",this.internal.flash.id),n.setAttribute("data",this.internal.flash.swf),n.setAttribute("type","application/x-shockwave-flash"),n.setAttribute("width","1"),n.setAttribute("height","1"),n.setAttribute("tabindex","-1"),o(n,"flashvars",a),o(n,"allowscriptaccess","always"),o(n,"bgcolor",this.options.backgroundColor),o(n,"wmode",this.options.wmode);this.element.append(n),this.internal.flash.jq=t(n)}this.status.playbackRateEnabled=this.html.used&&!this.flash.used?this._testPlaybackRate("audio"):!1,this._updatePlaybackRate(),this.html.used&&(this.html.audio.available&&(this._addHtmlEventListeners(this.htmlElement.audio,this.html.audio),this.element.append(this.htmlElement.audio),this.internal.audio.jq=t("#"+this.internal.audio.id)),this.html.video.available&&(this._addHtmlEventListeners(this.htmlElement.video,this.html.video),this.element.append(this.htmlElement.video),this.internal.video.jq=t("#"+this.internal.video.id),this.internal.video.jq.css(this.status.nativeVideoControls?{width:this.status.width,height:this.status.height}:{width:"0px",height:"0px"}),this.internal.video.jq.bind("click.jPlayer",function(){i._trigger(t.jPlayer.event.click)
}))),this.options.emulateHtml&&this._emulateHtmlBridge(),this.html.used&&!this.flash.used&&setTimeout(function(){i.internal.ready=!0,i.version.flash="n/a",i._trigger(t.jPlayer.event.repeat),i._trigger(t.jPlayer.event.ready)},100),this._updateNativeVideoControls(),this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),t.jPlayer.prototype.count++},destroy:function(){this.clearMedia(),this._removeUiClass(),this.css.jq.currentTime.length&&this.css.jq.currentTime.text(""),this.css.jq.duration.length&&this.css.jq.duration.text(""),t.each(this.css.jq,function(t,e){e.length&&e.unbind(".jPlayer")}),this.internal.poster.jq.unbind(".jPlayer"),this.internal.video.jq&&this.internal.video.jq.unbind(".jPlayer"),this._fullscreenRemoveEventListeners(),this===t.jPlayer.focus&&(t.jPlayer.focus=null),this.options.emulateHtml&&this._destroyHtmlBridge(),this.element.removeData("jPlayer"),this.element.unbind(".jPlayer"),this.element.empty(),delete this.instances[this.internal.instance]},enable:function(){},disable:function(){},_testCanPlayType:function(t){try{return t.canPlayType(this.format.mp3.codec),!0}catch(e){return!1}},_testPlaybackRate:function(t){t=document.createElement("string"==typeof t?t:"audio");try{return"playbackRate"in t?(t.playbackRate=.5,.5===t.playbackRate):!1}catch(e){return!1}},_uaBlocklist:function(e){var i=navigator.userAgent.toLowerCase(),n=!1;return t.each(e,function(t,e){return e&&e.test(i)?(n=!0,!1):void 0}),n},_restrictNativeVideoControls:function(){this.require.audio&&this.status.nativeVideoControls&&(this.status.nativeVideoControls=!1,this.status.noFullWindow=!0)},_updateNativeVideoControls:function(){this.html.video.available&&this.html.used&&(this.htmlElement.video.controls=this.status.nativeVideoControls,this._updateAutohide(),this.status.nativeVideoControls&&this.require.video?(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})):this.status.waitForPlay&&this.status.video&&(this.internal.poster.jq.show(),this.internal.video.jq.css({width:"0px",height:"0px"})))},_addHtmlEventListeners:function(e,i){var n=this;e.preload=this.options.preload,e.muted=this.options.muted,e.volume=this.options.volume,this.status.playbackRateEnabled&&(e.defaultPlaybackRate=this.options.defaultPlaybackRate,e.playbackRate=this.options.playbackRate),e.addEventListener("progress",function(){i.gate&&(n.internal.cmdsIgnored&&0<this.readyState&&(n.internal.cmdsIgnored=!1),n._getHtmlStatus(e),n._updateInterface(),n._trigger(t.jPlayer.event.progress))},!1),e.addEventListener("timeupdate",function(){i.gate&&(n._getHtmlStatus(e),n._updateInterface(),n._trigger(t.jPlayer.event.timeupdate))},!1),e.addEventListener("durationchange",function(){i.gate&&(n._getHtmlStatus(e),n._updateInterface(),n._trigger(t.jPlayer.event.durationchange))},!1),e.addEventListener("play",function(){i.gate&&(n._updateButtons(!0),n._html_checkWaitForPlay(),n._trigger(t.jPlayer.event.play))},!1),e.addEventListener("playing",function(){i.gate&&(n._updateButtons(!0),n._seeked(),n._trigger(t.jPlayer.event.playing))},!1),e.addEventListener("pause",function(){i.gate&&(n._updateButtons(!1),n._trigger(t.jPlayer.event.pause))},!1),e.addEventListener("waiting",function(){i.gate&&(n._seeking(),n._trigger(t.jPlayer.event.waiting))},!1),e.addEventListener("seeking",function(){i.gate&&(n._seeking(),n._trigger(t.jPlayer.event.seeking))},!1),e.addEventListener("seeked",function(){i.gate&&(n._seeked(),n._trigger(t.jPlayer.event.seeked))},!1),e.addEventListener("volumechange",function(){i.gate&&(n.options.volume=e.volume,n.options.muted=e.muted,n._updateMute(),n._updateVolume(),n._trigger(t.jPlayer.event.volumechange))},!1),e.addEventListener("ratechange",function(){i.gate&&(n.options.defaultPlaybackRate=e.defaultPlaybackRate,n.options.playbackRate=e.playbackRate,n._updatePlaybackRate(),n._trigger(t.jPlayer.event.ratechange))},!1),e.addEventListener("suspend",function(){i.gate&&(n._seeked(),n._trigger(t.jPlayer.event.suspend))},!1),e.addEventListener("ended",function(){i.gate&&(t.jPlayer.browser.webkit||(n.htmlElement.media.currentTime=0),n.htmlElement.media.pause(),n._updateButtons(!1),n._getHtmlStatus(e,!0),n._updateInterface(),n._trigger(t.jPlayer.event.ended))},!1),e.addEventListener("error",function(){i.gate&&(n._updateButtons(!1),n._seeked(),n.status.srcSet&&(clearTimeout(n.internal.htmlDlyCmdId),n.status.waitForLoad=!0,n.status.waitForPlay=!0,n.status.video&&!n.status.nativeVideoControls&&n.internal.video.jq.css({width:"0px",height:"0px"}),n._validString(n.status.media.poster)&&!n.status.nativeVideoControls&&n.internal.poster.jq.show(),n.css.jq.videoPlay.length&&n.css.jq.videoPlay.show(),n._error({type:t.jPlayer.error.URL,context:n.status.src,message:t.jPlayer.errorMsg.URL,hint:t.jPlayer.errorHint.URL})))},!1),t.each(t.jPlayer.htmlEvent,function(a,o){e.addEventListener(this,function(){i.gate&&n._trigger(t.jPlayer.event[o])},!1)})},_getHtmlStatus:function(t,e){var i=0,n=0,a=0,o=0;isFinite(t.duration)&&(this.status.duration=t.duration),i=t.currentTime,n=0<this.status.duration?100*i/this.status.duration:0,"object"==typeof t.seekable&&0<t.seekable.length?(a=0<this.status.duration?100*t.seekable.end(t.seekable.length-1)/this.status.duration:100,o=0<this.status.duration?100*t.currentTime/t.seekable.end(t.seekable.length-1):0):(a=100,o=n),e&&(n=o=i=0),this.status.seekPercent=a,this.status.currentPercentRelative=o,this.status.currentPercentAbsolute=n,this.status.currentTime=i,this.status.videoWidth=t.videoWidth,this.status.videoHeight=t.videoHeight,this.status.readyState=t.readyState,this.status.networkState=t.networkState,this.status.playbackRate=t.playbackRate,this.status.ended=t.ended},_resetStatus:function(){this.status=t.extend({},this.status,t.jPlayer.prototype.status)},_trigger:function(e,i,n){e=t.Event(e),e.jPlayer={},e.jPlayer.version=t.extend({},this.version),e.jPlayer.options=t.extend(!0,{},this.options),e.jPlayer.status=t.extend(!0,{},this.status),e.jPlayer.html=t.extend(!0,{},this.html),e.jPlayer.flash=t.extend(!0,{},this.flash),i&&(e.jPlayer.error=t.extend({},i)),n&&(e.jPlayer.warning=t.extend({},n)),this.element.trigger(e)},jPlayerFlashEvent:function(e,i){if(e===t.jPlayer.event.ready)if(this.internal.ready){if(this.flash.gate){if(this.status.srcSet){var n=this.status.currentTime,a=this.status.paused;this.setMedia(this.status.media),this.volumeWorker(this.options.volume),n>0&&(a?this.pause(n):this.play(n))}this._trigger(t.jPlayer.event.flashreset)}}else this.internal.ready=!0,this.internal.flash.jq.css({width:"0px",height:"0px"}),this.version.flash=i.version,this.version.needFlash!==this.version.flash&&this._error({type:t.jPlayer.error.VERSION,context:this.version.flash,message:t.jPlayer.errorMsg.VERSION+this.version.flash,hint:t.jPlayer.errorHint.VERSION}),this._trigger(t.jPlayer.event.repeat),this._trigger(e);if(this.flash.gate)switch(e){case t.jPlayer.event.progress:this._getFlashStatus(i),this._updateInterface(),this._trigger(e);break;case t.jPlayer.event.timeupdate:this._getFlashStatus(i),this._updateInterface(),this._trigger(e);break;case t.jPlayer.event.play:this._seeked(),this._updateButtons(!0),this._trigger(e);break;case t.jPlayer.event.pause:this._updateButtons(!1),this._trigger(e);break;case t.jPlayer.event.ended:this._updateButtons(!1),this._trigger(e);break;case t.jPlayer.event.click:this._trigger(e);break;case t.jPlayer.event.error:this.status.waitForLoad=!0,this.status.waitForPlay=!0,this.status.video&&this.internal.flash.jq.css({width:"0px",height:"0px"}),this._validString(this.status.media.poster)&&this.internal.poster.jq.show(),this.css.jq.videoPlay.length&&this.status.video&&this.css.jq.videoPlay.show(),this.status.video?this._flash_setVideo(this.status.media):this._flash_setAudio(this.status.media),this._updateButtons(!1),this._error({type:t.jPlayer.error.URL,context:i.src,message:t.jPlayer.errorMsg.URL,hint:t.jPlayer.errorHint.URL});break;case t.jPlayer.event.seeking:this._seeking(),this._trigger(e);break;case t.jPlayer.event.seeked:this._seeked(),this._trigger(e);break;case t.jPlayer.event.ready:break;default:this._trigger(e)}return!1},_getFlashStatus:function(t){this.status.seekPercent=t.seekPercent,this.status.currentPercentRelative=t.currentPercentRelative,this.status.currentPercentAbsolute=t.currentPercentAbsolute,this.status.currentTime=t.currentTime,this.status.duration=t.duration,this.status.videoWidth=t.videoWidth,this.status.videoHeight=t.videoHeight,this.status.readyState=4,this.status.networkState=0,this.status.playbackRate=1,this.status.ended=!1},_updateButtons:function(t){t===e?t=!this.status.paused:this.status.paused=!t,this.css.jq.play.length&&this.css.jq.pause.length&&(t?(this.css.jq.play.hide(),this.css.jq.pause.show()):(this.css.jq.play.show(),this.css.jq.pause.hide())),this.css.jq.restoreScreen.length&&this.css.jq.fullScreen.length&&(this.status.noFullWindow?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.hide()):this.options.fullWindow?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.show()):(this.css.jq.fullScreen.show(),this.css.jq.restoreScreen.hide())),this.css.jq.repeat.length&&this.css.jq.repeatOff.length&&(this.options.loop?(this.css.jq.repeat.hide(),this.css.jq.repeatOff.show()):(this.css.jq.repeat.show(),this.css.jq.repeatOff.hide()))},_updateInterface:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.width(this.status.seekPercent+"%"),this.css.jq.playBar.length&&(this.options.smoothPlayBar?this.css.jq.playBar.stop().animate({width:this.status.currentPercentAbsolute+"%"},250,"linear"):this.css.jq.playBar.width(this.status.currentPercentRelative+"%")),this.css.jq.currentTime.length&&this.css.jq.currentTime.text(this._convertTime(this.status.currentTime)),this.css.jq.duration.length&&this.css.jq.duration.text(this._convertTime(this.status.duration))},_convertTime:i.prototype.time,_seeking:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.addClass("jp-seeking-bg")},_seeked:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.removeClass("jp-seeking-bg")},_resetGate:function(){this.html.audio.gate=!1,this.html.video.gate=!1,this.flash.gate=!1},_resetActive:function(){this.html.active=!1,this.flash.active=!1},_escapeHtml:function(t){return t.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;").split('"').join("&quot;")},_qualifyURL:function(t){var e=document.createElement("div");return e.innerHTML='<a href="'+this._escapeHtml(t)+'">x</a>',e.firstChild.href},_absoluteMediaUrls:function(e){var i=this;return t.each(e,function(t,n){i.format[t]&&(e[t]=i._qualifyURL(n))}),e},setMedia:function(e){var i=this,n=!1,a=this.status.media.poster!==e.poster;this._resetMedia(),this._resetGate(),this._resetActive(),e=this._absoluteMediaUrls(e),t.each(this.formats,function(a,o){var s="video"===i.format[o].media;return t.each(i.solutions,function(t,a){if(i[a].support[o]&&i._validString(e[o])){var r="html"===a;return s?(r?(i.html.video.gate=!0,i._html_setVideo(e),i.html.active=!0):(i.flash.gate=!0,i._flash_setVideo(e),i.flash.active=!0),i.css.jq.videoPlay.length&&i.css.jq.videoPlay.show(),i.status.video=!0):(r?(i.html.audio.gate=!0,i._html_setAudio(e),i.html.active=!0):(i.flash.gate=!0,i._flash_setAudio(e),i.flash.active=!0),i.css.jq.videoPlay.length&&i.css.jq.videoPlay.hide(),i.status.video=!1),n=!0,!1}}),n?!1:void 0}),n?(this.status.nativeVideoControls&&this.html.video.gate||!this._validString(e.poster)||(a?this.htmlElement.poster.src=e.poster:this.internal.poster.jq.show()),this.status.srcSet=!0,this.status.media=t.extend({},e),this._updateButtons(!1),this._updateInterface()):this._error({type:t.jPlayer.error.NO_SUPPORT,context:"{supplied:'"+this.options.supplied+"'}",message:t.jPlayer.errorMsg.NO_SUPPORT,hint:t.jPlayer.errorHint.NO_SUPPORT})},_resetMedia:function(){this._resetStatus(),this._updateButtons(!1),this._updateInterface(),this._seeked(),this.internal.poster.jq.hide(),clearTimeout(this.internal.htmlDlyCmdId),this.html.active?this._html_resetMedia():this.flash.active&&this._flash_resetMedia()},clearMedia:function(){this._resetMedia(),this.html.active?this._html_clearMedia():this.flash.active&&this._flash_clearMedia(),this._resetGate(),this._resetActive()},load:function(){this.status.srcSet?this.html.active?this._html_load():this.flash.active&&this._flash_load():this._urlNotSetError("load")},focus:function(){this.options.keyEnabled&&(t.jPlayer.focus=this)},play:function(t){t="number"==typeof t?t:0/0,this.status.srcSet?(this.focus(),this.html.active?this._html_play(t):this.flash.active&&this._flash_play(t)):this._urlNotSetError("play")},videoPlay:function(){this.play()},pause:function(t){t="number"==typeof t?t:0/0,this.status.srcSet?this.html.active?this._html_pause(t):this.flash.active&&this._flash_pause(t):this._urlNotSetError("pause")},tellOthers:function(e,i){var n=this,a="function"==typeof i,o=Array.prototype.slice.call(arguments);"string"==typeof e&&(a&&o.splice(1,1),t.each(this.instances,function(){n.element!==this&&(a&&!i.call(this.data("jPlayer"),n)||this.jPlayer.apply(this,o))}))},pauseOthers:function(t){this.tellOthers("pause",function(){return this.status.srcSet},t)},stop:function(){this.status.srcSet?this.html.active?this._html_pause(0):this.flash.active&&this._flash_pause(0):this._urlNotSetError("stop")},playHead:function(t){t=this._limitValue(t,0,100),this.status.srcSet?this.html.active?this._html_playHead(t):this.flash.active&&this._flash_playHead(t):this._urlNotSetError("playHead")},_muted:function(t){this.mutedWorker(t),this.options.globalVolume&&this.tellOthers("mutedWorker",function(){return this.options.globalVolume},t)},mutedWorker:function(e){this.options.muted=e,this.html.used&&this._html_setProperty("muted",e),this.flash.used&&this._flash_mute(e),this.html.video.gate||this.html.audio.gate||(this._updateMute(e),this._updateVolume(this.options.volume),this._trigger(t.jPlayer.event.volumechange))},mute:function(t){t=t===e?!0:!!t,this._muted(t)},unmute:function(t){t=t===e?!0:!!t,this._muted(!t)},_updateMute:function(t){t===e&&(t=this.options.muted),this.css.jq.mute.length&&this.css.jq.unmute.length&&(this.status.noVolume?(this.css.jq.mute.hide(),this.css.jq.unmute.hide()):t?(this.css.jq.mute.hide(),this.css.jq.unmute.show()):(this.css.jq.mute.show(),this.css.jq.unmute.hide()))},volume:function(t){this.volumeWorker(t),this.options.globalVolume&&this.tellOthers("volumeWorker",function(){return this.options.globalVolume},t)},volumeWorker:function(e){e=this._limitValue(e,0,1),this.options.volume=e,this.html.used&&this._html_setProperty("volume",e),this.flash.used&&this._flash_volume(e),this.html.video.gate||this.html.audio.gate||(this._updateVolume(e),this._trigger(t.jPlayer.event.volumechange))},volumeBar:function(e){if(this.css.jq.volumeBar.length){var i=t(e.currentTarget),n=i.offset(),a=e.pageX-n.left,o=i.width();e=i.height()-e.pageY+n.top,i=i.height(),this.volume(this.options.verticalVolume?e/i:a/o)}this.options.muted&&this._muted(!1)},volumeBarValue:function(){},_updateVolume:function(t){t===e&&(t=this.options.volume),t=this.options.muted?0:t,this.status.noVolume?(this.css.jq.volumeBar.length&&this.css.jq.volumeBar.hide(),this.css.jq.volumeBarValue.length&&this.css.jq.volumeBarValue.hide(),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.hide()):(this.css.jq.volumeBar.length&&this.css.jq.volumeBar.show(),this.css.jq.volumeBarValue.length&&(this.css.jq.volumeBarValue.show(),this.css.jq.volumeBarValue[this.options.verticalVolume?"height":"width"](100*t+"%")),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.show())},volumeMax:function(){this.volume(1),this.options.muted&&this._muted(!1)},_cssSelectorAncestor:function(e){var i=this;this.options.cssSelectorAncestor=e,this._removeUiClass(),this.ancestorJq=e?t(e):[],e&&1!==this.ancestorJq.length&&this._warning({type:t.jPlayer.warning.CSS_SELECTOR_COUNT,context:e,message:t.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.ancestorJq.length+" found for cssSelectorAncestor.",hint:t.jPlayer.warningHint.CSS_SELECTOR_COUNT}),this._addUiClass(),t.each(this.options.cssSelector,function(t,e){i._cssSelector(t,e)}),this._updateInterface(),this._updateButtons(),this._updateAutohide(),this._updateVolume(),this._updateMute()},_cssSelector:function(e,i){var n=this;"string"==typeof i?t.jPlayer.prototype.options.cssSelector[e]?(this.css.jq[e]&&this.css.jq[e].length&&this.css.jq[e].unbind(".jPlayer"),this.options.cssSelector[e]=i,this.css.cs[e]=this.options.cssSelectorAncestor+" "+i,this.css.jq[e]=i?t(this.css.cs[e]):[],this.css.jq[e].length&&this.css.jq[e].bind("click.jPlayer",function(i){i.preventDefault(),n[e](i),t(this).blur()}),i&&1!==this.css.jq[e].length&&this._warning({type:t.jPlayer.warning.CSS_SELECTOR_COUNT,context:this.css.cs[e],message:t.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.css.jq[e].length+" found for "+e+" method.",hint:t.jPlayer.warningHint.CSS_SELECTOR_COUNT})):this._warning({type:t.jPlayer.warning.CSS_SELECTOR_METHOD,context:e,message:t.jPlayer.warningMsg.CSS_SELECTOR_METHOD,hint:t.jPlayer.warningHint.CSS_SELECTOR_METHOD}):this._warning({type:t.jPlayer.warning.CSS_SELECTOR_STRING,context:i,message:t.jPlayer.warningMsg.CSS_SELECTOR_STRING,hint:t.jPlayer.warningHint.CSS_SELECTOR_STRING})},seekBar:function(e){if(this.css.jq.seekBar.length){var i=t(e.currentTarget),n=i.offset();e=e.pageX-n.left,i=i.width(),this.playHead(100*e/i)}},playBar:function(){},playbackRate:function(t){this._setOption("playbackRate",t)},playbackRateBar:function(e){if(this.css.jq.playbackRateBar.length){var i=t(e.currentTarget),n=i.offset(),a=e.pageX-n.left,o=i.width();e=i.height()-e.pageY+n.top,i=i.height(),this.playbackRate((this.options.verticalPlaybackRate?e/i:a/o)*(this.options.maxPlaybackRate-this.options.minPlaybackRate)+this.options.minPlaybackRate)}},playbackRateBarValue:function(){},_updatePlaybackRate:function(){var t=(this.options.playbackRate-this.options.minPlaybackRate)/(this.options.maxPlaybackRate-this.options.minPlaybackRate);this.status.playbackRateEnabled?(this.css.jq.playbackRateBar.length&&this.css.jq.playbackRateBar.show(),this.css.jq.playbackRateBarValue.length&&(this.css.jq.playbackRateBarValue.show(),this.css.jq.playbackRateBarValue[this.options.verticalPlaybackRate?"height":"width"](100*t+"%"))):(this.css.jq.playbackRateBar.length&&this.css.jq.playbackRateBar.hide(),this.css.jq.playbackRateBarValue.length&&this.css.jq.playbackRateBarValue.hide())},repeat:function(){this._loop(!0)},repeatOff:function(){this._loop(!1)},_loop:function(e){this.options.loop!==e&&(this.options.loop=e,this._updateButtons(),this._trigger(t.jPlayer.event.repeat))},currentTime:function(){},duration:function(){},gui:function(){},noSolution:function(){},option:function(i,n){var a=i;if(0===arguments.length)return t.extend(!0,{},this.options);if("string"==typeof i){var o=i.split(".");if(n===e){for(var a=t.extend(!0,{},this.options),s=0;s<o.length;s++){if(a[o[s]]===e)return this._warning({type:t.jPlayer.warning.OPTION_KEY,context:i,message:t.jPlayer.warningMsg.OPTION_KEY,hint:t.jPlayer.warningHint.OPTION_KEY}),e;a=a[o[s]]}return a}for(var s=a={},r=0;r<o.length;r++)r<o.length-1?(s[o[r]]={},s=s[o[r]]):s[o[r]]=n}return this._setOptions(a),this},_setOptions:function(e){var i=this;return t.each(e,function(t,e){i._setOption(t,e)}),this},_setOption:function(e,i){var n=this;switch(e){case"volume":this.volume(i);break;case"muted":this._muted(i);break;case"globalVolume":this.options[e]=i;break;case"cssSelectorAncestor":this._cssSelectorAncestor(i);break;case"cssSelector":t.each(i,function(t,e){n._cssSelector(t,e)});break;case"playbackRate":this.options[e]=i=this._limitValue(i,this.options.minPlaybackRate,this.options.maxPlaybackRate),this.html.used&&this._html_setProperty("playbackRate",i),this._updatePlaybackRate();break;case"defaultPlaybackRate":this.options[e]=i=this._limitValue(i,this.options.minPlaybackRate,this.options.maxPlaybackRate),this.html.used&&this._html_setProperty("defaultPlaybackRate",i),this._updatePlaybackRate();break;case"minPlaybackRate":this.options[e]=i=this._limitValue(i,.1,this.options.maxPlaybackRate-.1),this._updatePlaybackRate();break;case"maxPlaybackRate":this.options[e]=i=this._limitValue(i,this.options.minPlaybackRate+.1,16),this._updatePlaybackRate();break;case"fullScreen":if(this.options[e]!==i){var a=t.jPlayer.nativeFeatures.fullscreen.used.webkitVideo;(!a||a&&!this.status.waitForPlay)&&(a||(this.options[e]=i),i?this._requestFullscreen():this._exitFullscreen(),a||this._setOption("fullWindow",i))}break;case"fullWindow":this.options[e]!==i&&(this._removeUiClass(),this.options[e]=i,this._refreshSize());break;case"size":this.options.fullWindow||this.options[e].cssClass===i.cssClass||this._removeUiClass(),this.options[e]=t.extend({},this.options[e],i),this._refreshSize();break;case"sizeFull":this.options.fullWindow&&this.options[e].cssClass!==i.cssClass&&this._removeUiClass(),this.options[e]=t.extend({},this.options[e],i),this._refreshSize();break;case"autohide":this.options[e]=t.extend({},this.options[e],i),this._updateAutohide();break;case"loop":this._loop(i);break;case"nativeVideoControls":this.options[e]=t.extend({},this.options[e],i),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this._restrictNativeVideoControls(),this._updateNativeVideoControls();break;case"noFullWindow":this.options[e]=t.extend({},this.options[e],i),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow),this._restrictNativeVideoControls(),this._updateButtons();break;case"noVolume":this.options[e]=t.extend({},this.options[e],i),this.status.noVolume=this._uaBlocklist(this.options.noVolume),this._updateVolume(),this._updateMute();break;case"emulateHtml":this.options[e]!==i&&((this.options[e]=i)?this._emulateHtmlBridge():this._destroyHtmlBridge());break;case"timeFormat":this.options[e]=t.extend({},this.options[e],i);break;case"keyEnabled":this.options[e]=i,i||this!==t.jPlayer.focus||(t.jPlayer.focus=null);break;case"keyBindings":this.options[e]=t.extend(!0,{},this.options[e],i);break;case"audioFullScreen":this.options[e]=i}return this},_refreshSize:function(){this._setSize(),this._addUiClass(),this._updateSize(),this._updateButtons(),this._updateAutohide(),this._trigger(t.jPlayer.event.resize)},_setSize:function(){this.options.fullWindow?(this.status.width=this.options.sizeFull.width,this.status.height=this.options.sizeFull.height,this.status.cssClass=this.options.sizeFull.cssClass):(this.status.width=this.options.size.width,this.status.height=this.options.size.height,this.status.cssClass=this.options.size.cssClass),this.element.css({width:this.status.width,height:this.status.height})},_addUiClass:function(){this.ancestorJq.length&&this.ancestorJq.addClass(this.status.cssClass)},_removeUiClass:function(){this.ancestorJq.length&&this.ancestorJq.removeClass(this.status.cssClass)},_updateSize:function(){this.internal.poster.jq.css({width:this.status.width,height:this.status.height}),!this.status.waitForPlay&&this.html.active&&this.status.video||this.html.video.available&&this.html.used&&this.status.nativeVideoControls?this.internal.video.jq.css({width:this.status.width,height:this.status.height}):!this.status.waitForPlay&&this.flash.active&&this.status.video&&this.internal.flash.jq.css({width:this.status.width,height:this.status.height})},_updateAutohide:function(){var t=this,e=function(){t.css.jq.gui.fadeIn(t.options.autohide.fadeIn,function(){clearTimeout(t.internal.autohideId),t.internal.autohideId=setTimeout(function(){t.css.jq.gui.fadeOut(t.options.autohide.fadeOut)},t.options.autohide.hold)})};this.css.jq.gui.length&&(this.css.jq.gui.stop(!0,!0),clearTimeout(this.internal.autohideId),this.element.unbind(".jPlayerAutohide"),this.css.jq.gui.unbind(".jPlayerAutohide"),this.status.nativeVideoControls?this.css.jq.gui.hide():this.options.fullWindow&&this.options.autohide.full||!this.options.fullWindow&&this.options.autohide.restored?(this.element.bind("mousemove.jPlayer.jPlayerAutohide",e),this.css.jq.gui.bind("mousemove.jPlayer.jPlayerAutohide",e),this.css.jq.gui.hide()):this.css.jq.gui.show())},fullScreen:function(){this._setOption("fullScreen",!0)},restoreScreen:function(){this._setOption("fullScreen",!1)},_fullscreenAddEventListeners:function(){var e=this,i=t.jPlayer.nativeFeatures.fullscreen;i.api.fullscreenEnabled&&i.event.fullscreenchange&&("function"!=typeof this.internal.fullscreenchangeHandler&&(this.internal.fullscreenchangeHandler=function(){e._fullscreenchange()}),document.addEventListener(i.event.fullscreenchange,this.internal.fullscreenchangeHandler,!1))},_fullscreenRemoveEventListeners:function(){var e=t.jPlayer.nativeFeatures.fullscreen;this.internal.fullscreenchangeHandler&&document.addEventListener(e.event.fullscreenchange,this.internal.fullscreenchangeHandler,!1)},_fullscreenchange:function(){this.options.fullScreen&&!t.jPlayer.nativeFeatures.fullscreen.api.fullscreenElement()&&this._setOption("fullScreen",!1)},_requestFullscreen:function(){var e=this.ancestorJq.length?this.ancestorJq[0]:this.element[0],i=t.jPlayer.nativeFeatures.fullscreen;i.used.webkitVideo&&(e=this.htmlElement.video),i.api.fullscreenEnabled&&i.api.requestFullscreen(e)},_exitFullscreen:function(){var e,i=t.jPlayer.nativeFeatures.fullscreen;i.used.webkitVideo&&(e=this.htmlElement.video),i.api.fullscreenEnabled&&i.api.exitFullscreen(e)},_html_initMedia:function(e){var i=t(this.htmlElement.media).empty();t.each(e.track||[],function(t,e){var n=document.createElement("track");n.setAttribute("kind",e.kind?e.kind:""),n.setAttribute("src",e.src?e.src:""),n.setAttribute("srclang",e.srclang?e.srclang:""),n.setAttribute("label",e.label?e.label:""),e.def&&n.setAttribute("default",e.def),i.append(n)}),this.htmlElement.media.src=this.status.src,"none"!==this.options.preload&&this._html_load(),this._trigger(t.jPlayer.event.timeupdate)},_html_setFormat:function(e){var i=this;t.each(this.formats,function(t,n){return i.html.support[n]&&e[n]?(i.status.src=e[n],i.status.format[n]=!0,i.status.formatType=n,!1):void 0})},_html_setAudio:function(t){this._html_setFormat(t),this.htmlElement.media=this.htmlElement.audio,this._html_initMedia(t)},_html_setVideo:function(t){this._html_setFormat(t),this.status.nativeVideoControls&&(this.htmlElement.video.poster=this._validString(t.poster)?t.poster:""),this.htmlElement.media=this.htmlElement.video,this._html_initMedia(t)},_html_resetMedia:function(){this.htmlElement.media&&(this.htmlElement.media.id!==this.internal.video.id||this.status.nativeVideoControls||this.internal.video.jq.css({width:"0px",height:"0px"}),this.htmlElement.media.pause())},_html_clearMedia:function(){this.htmlElement.media&&(this.htmlElement.media.src="about:blank",this.htmlElement.media.load())},_html_load:function(){this.status.waitForLoad&&(this.status.waitForLoad=!1,this.htmlElement.media.load()),clearTimeout(this.internal.htmlDlyCmdId)},_html_play:function(t){var e=this,i=this.htmlElement.media;if(this._html_load(),isNaN(t))i.play();else{this.internal.cmdsIgnored&&i.play();try{if(i.seekable&&!("object"==typeof i.seekable&&0<i.seekable.length))throw 1;i.currentTime=t,i.play()}catch(n){return void(this.internal.htmlDlyCmdId=setTimeout(function(){e.play(t)},250))}}this._html_checkWaitForPlay()},_html_pause:function(t){var e=this,i=this.htmlElement.media;if(t>0?this._html_load():clearTimeout(this.internal.htmlDlyCmdId),i.pause(),!isNaN(t))try{if(i.seekable&&!("object"==typeof i.seekable&&0<i.seekable.length))throw 1;i.currentTime=t}catch(n){return void(this.internal.htmlDlyCmdId=setTimeout(function(){e.pause(t)},250))}t>0&&this._html_checkWaitForPlay()},_html_playHead:function(t){var e=this,i=this.htmlElement.media;this._html_load();try{if("object"==typeof i.seekable&&0<i.seekable.length)i.currentTime=t*i.seekable.end(i.seekable.length-1)/100;else{if(!(0<i.duration)||isNaN(i.duration))throw"e";i.currentTime=t*i.duration/100}}catch(n){return void(this.internal.htmlDlyCmdId=setTimeout(function(){e.playHead(t)},250))}this.status.waitForLoad||this._html_checkWaitForPlay()},_html_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})))},_html_setProperty:function(t,e){this.html.audio.available&&(this.htmlElement.audio[t]=e),this.html.video.available&&(this.htmlElement.video[t]=e)},_flash_setAudio:function(e){var i=this;try{t.each(this.formats,function(t,n){if(i.flash.support[n]&&e[n]){switch(n){case"m4a":case"fla":i._getMovie().fl_setAudio_m4a(e[n]);break;case"mp3":i._getMovie().fl_setAudio_mp3(e[n]);break;case"rtmpa":i._getMovie().fl_setAudio_rtmp(e[n])}return i.status.src=e[n],i.status.format[n]=!0,i.status.formatType=n,!1}}),"auto"===this.options.preload&&(this._flash_load(),this.status.waitForLoad=!1)}catch(n){this._flashError(n)}},_flash_setVideo:function(e){var i=this;try{t.each(this.formats,function(t,n){if(i.flash.support[n]&&e[n]){switch(n){case"m4v":case"flv":i._getMovie().fl_setVideo_m4v(e[n]);break;case"rtmpv":i._getMovie().fl_setVideo_rtmp(e[n])}return i.status.src=e[n],i.status.format[n]=!0,i.status.formatType=n,!1}}),"auto"===this.options.preload&&(this._flash_load(),this.status.waitForLoad=!1)}catch(n){this._flashError(n)}},_flash_resetMedia:function(){this.internal.flash.jq.css({width:"0px",height:"0px"}),this._flash_pause(0/0)},_flash_clearMedia:function(){try{this._getMovie().fl_clearMedia()}catch(t){this._flashError(t)}},_flash_load:function(){try{this._getMovie().fl_load()}catch(t){this._flashError(t)}this.status.waitForLoad=!1},_flash_play:function(t){try{this._getMovie().fl_play(t)}catch(e){this._flashError(e)}this.status.waitForLoad=!1,this._flash_checkWaitForPlay()},_flash_pause:function(t){try{this._getMovie().fl_pause(t)}catch(e){this._flashError(e)}t>0&&(this.status.waitForLoad=!1,this._flash_checkWaitForPlay())},_flash_playHead:function(t){try{this._getMovie().fl_play_head(t)}catch(e){this._flashError(e)}this.status.waitForLoad||this._flash_checkWaitForPlay()},_flash_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.flash.jq.css({width:this.status.width,height:this.status.height})))},_flash_volume:function(t){try{this._getMovie().fl_volume(t)}catch(e){this._flashError(e)}},_flash_mute:function(t){try{this._getMovie().fl_mute(t)}catch(e){this._flashError(e)}},_getMovie:function(){return document[this.internal.flash.id]},_getFlashPluginVersion:function(){var t,e=0;if(window.ActiveXObject)try{if(t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")){var i=t.GetVariable("$version");i&&(i=i.split(" ")[1].split(","),e=parseInt(i[0],10)+"."+parseInt(i[1],10))}}catch(n){}else navigator.plugins&&0<navigator.mimeTypes.length&&(t=navigator.plugins["Shockwave Flash"])&&(e=navigator.plugins["Shockwave Flash"].description.replace(/.*\s(\d+\.\d+).*/,"$1"));return 1*e},_checkForFlash:function(t){var e=!1;return this._getFlashPluginVersion()>=t&&(e=!0),e},_validString:function(t){return t&&"string"==typeof t},_limitValue:function(t,e,i){return e>t?e:t>i?i:t},_urlNotSetError:function(e){this._error({type:t.jPlayer.error.URL_NOT_SET,context:e,message:t.jPlayer.errorMsg.URL_NOT_SET,hint:t.jPlayer.errorHint.URL_NOT_SET})},_flashError:function(e){var i;i=this.internal.ready?"FLASH_DISABLED":"FLASH",this._error({type:t.jPlayer.error[i],context:this.internal.flash.swf,message:t.jPlayer.errorMsg[i]+e.message,hint:t.jPlayer.errorHint[i]}),this.internal.flash.jq.css({width:"1px",height:"1px"})},_error:function(e){this._trigger(t.jPlayer.event.error,e),this.options.errorAlerts&&this._alert("Error!"+(e.message?"\n"+e.message:"")+(e.hint?"\n"+e.hint:"")+"\nContext: "+e.context)},_warning:function(i){this._trigger(t.jPlayer.event.warning,e,i),this.options.warningAlerts&&this._alert("Warning!"+(i.message?"\n"+i.message:"")+(i.hint?"\n"+i.hint:"")+"\nContext: "+i.context)},_alert:function(t){t="jPlayer "+this.version.script+" : id='"+this.internal.self.id+"' : "+t,this.options.consoleAlerts?console&&console.log&&console.log(t):alert(t)},_emulateHtmlBridge:function(){var e=this;t.each(t.jPlayer.emulateMethods.split(/\s+/g),function(t,i){e.internal.domNode[i]=function(t){e[i](t)}}),t.each(t.jPlayer.event,function(i,n){var a=!0;t.each(t.jPlayer.reservedEvent.split(/\s+/g),function(t,e){return e===i?a=!1:void 0}),a&&e.element.bind(n+".jPlayer.jPlayerHtml",function(){e._emulateHtmlUpdate();var t=document.createEvent("Event");t.initEvent(i,!1,!0),e.internal.domNode.dispatchEvent(t)})})},_emulateHtmlUpdate:function(){var e=this;t.each(t.jPlayer.emulateStatus.split(/\s+/g),function(t,i){e.internal.domNode[i]=e.status[i]
}),t.each(t.jPlayer.emulateOptions.split(/\s+/g),function(t,i){e.internal.domNode[i]=e.options[i]})},_destroyHtmlBridge:function(){var e=this;this.element.unbind(".jPlayerHtml"),t.each((t.jPlayer.emulateMethods+" "+t.jPlayer.emulateStatus+" "+t.jPlayer.emulateOptions).split(/\s+/g),function(t,i){delete e.internal.domNode[i]})}},t.jPlayer.error={FLASH:"e_flash",FLASH_DISABLED:"e_flash_disabled",NO_SOLUTION:"e_no_solution",NO_SUPPORT:"e_no_support",URL:"e_url",URL_NOT_SET:"e_url_not_set",VERSION:"e_version"},t.jPlayer.errorMsg={FLASH:"jPlayer's Flash fallback is not configured correctly, or a command was issued before the jPlayer Ready event. Details: ",FLASH_DISABLED:"jPlayer's Flash fallback has been disabled by the browser due to the CSS rules you have used. Details: ",NO_SOLUTION:"No solution can be found by jPlayer in this browser. Neither HTML nor Flash can be used.",NO_SUPPORT:"It is not possible to play any media format provided in setMedia() on this browser using your current options.",URL:"Media URL could not be loaded.",URL_NOT_SET:"Attempt to issue media playback commands, while no media url is set.",VERSION:"jPlayer "+t.jPlayer.prototype.version.script+" needs Jplayer.swf version "+t.jPlayer.prototype.version.needFlash+" but found "},t.jPlayer.errorHint={FLASH:"Check your swfPath option and that Jplayer.swf is there.",FLASH_DISABLED:"Check that you have not display:none; the jPlayer entity or any ancestor.",NO_SOLUTION:"Review the jPlayer options: support and supplied.",NO_SUPPORT:"Video or audio formats defined in the supplied option are missing.",URL:"Check media URL is valid.",URL_NOT_SET:"Use setMedia() to set the media URL.",VERSION:"Update jPlayer files."},t.jPlayer.warning={CSS_SELECTOR_COUNT:"e_css_selector_count",CSS_SELECTOR_METHOD:"e_css_selector_method",CSS_SELECTOR_STRING:"e_css_selector_string",OPTION_KEY:"e_option_key"},t.jPlayer.warningMsg={CSS_SELECTOR_COUNT:"The number of css selectors found did not equal one: ",CSS_SELECTOR_METHOD:"The methodName given in jPlayer('cssSelector') is not a valid jPlayer method.",CSS_SELECTOR_STRING:"The methodCssSelector given in jPlayer('cssSelector') is not a String or is empty.",OPTION_KEY:"The option requested in jPlayer('option') is undefined."},t.jPlayer.warningHint={CSS_SELECTOR_COUNT:"Check your css selector and the ancestor.",CSS_SELECTOR_METHOD:"Check your method name.",CSS_SELECTOR_STRING:"Check your css selector is a string.",OPTION_KEY:"Check your option name."}}),function(){"use strict";var t,e=function(){var t=/\-([a-z])/g,e=function(t,e){return e.toUpperCase()};return function(i){return i.replace(t,e)}}(),i=function(t,i){var n,a,o,s,r,l;if(window.getComputedStyle?n=window.getComputedStyle(t,null).getPropertyValue(i):(a=e(i),n=t.currentStyle?t.currentStyle[a]:t.style[a]),"cursor"===i&&(!n||"auto"===n))for(o=t.tagName.toLowerCase(),s=["a"],r=0,l=s.length;l>r;r++)if(o===s[r])return"pointer";return n},n=function(t){if(m.prototype._singleton){t||(t=window.event);var e;this!==window?e=this:t.target?e=t.target:t.srcElement&&(e=t.srcElement),m.prototype._singleton.setCurrent(e)}},a=function(t,e,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&t.attachEvent("on"+e,i)},o=function(t,e,i){t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent&&t.detachEvent("on"+e,i)},s=function(t,e){if(t.addClass)return t.addClass(e),t;if(e&&"string"==typeof e){var i=(e||"").split(/\s+/);if(1===t.nodeType)if(t.className){for(var n=" "+t.className+" ",a=t.className,o=0,s=i.length;s>o;o++)n.indexOf(" "+i[o]+" ")<0&&(a+=" "+i[o]);t.className=a.replace(/^\s+|\s+$/g,"")}else t.className=e}return t},r=function(t,e){if(t.removeClass)return t.removeClass(e),t;if(e&&"string"==typeof e||void 0===e){var i=(e||"").split(/\s+/);if(1===t.nodeType&&t.className)if(e){for(var n=(" "+t.className+" ").replace(/[\n\t]/g," "),a=0,o=i.length;o>a;a++)n=n.replace(" "+i[a]+" "," ");t.className=n.replace(/^\s+|\s+$/g,"")}else t.className=""}return t},l=function(){var t,e,i,n=1;return"function"==typeof document.body.getBoundingClientRect&&(t=document.body.getBoundingClientRect(),e=t.right-t.left,i=document.body.offsetWidth,n=Math.round(e/i*100)/100),n},c=function(t){var e={left:0,top:0,width:0,height:0,zIndex:999999999},n=i(t,"z-index");if(n&&"auto"!==n&&(e.zIndex=parseInt(n,10)),t.getBoundingClientRect){var a,o,s,r=t.getBoundingClientRect();"pageXOffset"in window&&"pageYOffset"in window?(a=window.pageXOffset,o=window.pageYOffset):(s=l(),a=Math.round(document.documentElement.scrollLeft/s),o=Math.round(document.documentElement.scrollTop/s));var c=document.documentElement.clientLeft||0,h=document.documentElement.clientTop||0;e.left=r.left+a-c,e.top=r.top+o-h,e.width="width"in r?r.width:r.right-r.left,e.height="height"in r?r.height:r.bottom-r.top}return e},h=function(t){var e=m.prototype._singleton;return e.options.useNoCache?(t.indexOf("?")>=0?"&nocache=":"?nocache=")+(new Date).getTime():""},d=function(t){var e=[];if(t.trustedDomains){var i;"string"==typeof t.trustedDomains&&t.trustedDomains?i=[t.trustedDomains]:"length"in t.trustedDomains&&(i=t.trustedDomains),e.push("trustedDomain="+encodeURIComponent(i.join(",")))}return"string"==typeof t.amdModuleId&&t.amdModuleId&&e.push("amdModuleId="+encodeURIComponent(t.amdModuleId)),"string"==typeof t.cjsModuleId&&t.cjsModuleId&&e.push("cjsModuleId="+encodeURIComponent(t.cjsModuleId)),e.join("&")},u=function(t,e){if(e.indexOf)return e.indexOf(t);for(var i=0,n=e.length;n>i;i++)if(e[i]===t)return i;return-1},p=function(t){if("string"==typeof t)throw new TypeError("ZeroClipboard doesn't accept query strings.");return t.length?t:[t]},f=function(t,e,i,n,a){a?window.setTimeout(function(){t.call(e,i,n)},0):t.call(e,i,n)},m=function(t,e){if(t&&(m.prototype._singleton||this).glue(t),m.prototype._singleton)return m.prototype._singleton;m.prototype._singleton=this,this.options={};for(var i in y)this.options[i]=y[i];for(var n in e)this.options[n]=e[n];this.handlers={},m.detectFlashSupport()&&w()},g=[];m.prototype.setCurrent=function(e){t=e,this.reposition();var n=e.getAttribute("title");n&&this.setTitle(n);var a=this.options.forceHandCursor===!0||"pointer"===i(e,"cursor");v.call(this,a)},m.prototype.setText=function(t){t&&""!==t&&(this.options.text=t,this.ready()&&this.flashBridge.setText(t))},m.prototype.setTitle=function(t){t&&""!==t&&this.htmlBridge.setAttribute("title",t)},m.prototype.setSize=function(t,e){this.ready()&&this.flashBridge.setSize(t,e)},m.prototype.setHandCursor=function(t){t="boolean"==typeof t?t:!!t,v.call(this,t),this.options.forceHandCursor=t};var v=function(t){this.ready()&&this.flashBridge.setHandCursor(t)};m.version="1.2.0-beta.4";var y={moviePath:"ZeroClipboard.swf",trustedDomains:null,text:null,hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",allowScriptAccess:"sameDomain",useNoCache:!0,forceHandCursor:!1};m.setDefaults=function(t){for(var e in t)y[e]=t[e]},m.destroy=function(){m.prototype._singleton.unglue(g);var t=m.prototype._singleton.htmlBridge;t.parentNode.removeChild(t),delete m.prototype._singleton},m.detectFlashSupport=function(){var t=!1;if("function"==typeof ActiveXObject)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(t=!0)}catch(e){}return!t&&navigator.mimeTypes["application/x-shockwave-flash"]&&(t=!0),t};var b=null,x=null,w=function(){var t=m.prototype._singleton,e=document.getElementById("global-zeroclipboard-html-bridge");if(!e){var i={};for(var n in t.options)i[n]=t.options[n];i.amdModuleId=b,i.cjsModuleId=x;var a=d(i),o='      <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" id="global-zeroclipboard-flash-bridge" width="100%" height="100%">         <param name="movie" value="'+t.options.moviePath+h(t.options.moviePath)+'"/>         <param name="allowScriptAccess" value="'+t.options.allowScriptAccess+'"/>         <param name="scale" value="exactfit"/>         <param name="loop" value="false"/>         <param name="menu" value="false"/>         <param name="quality" value="best" />         <param name="bgcolor" value="#ffffff"/>         <param name="wmode" value="transparent"/>         <param name="flashvars" value="'+a+'"/>         <embed src="'+t.options.moviePath+h(t.options.moviePath)+'"           loop="false" menu="false"           quality="best" bgcolor="#ffffff"           width="100%" height="100%"           name="global-zeroclipboard-flash-bridge"           allowScriptAccess="always"           allowFullScreen="false"           type="application/x-shockwave-flash"           wmode="transparent"           pluginspage="http://www.macromedia.com/go/getflashplayer"           flashvars="'+a+'"           scale="exactfit">         </embed>       </object>';e=document.createElement("div"),e.id="global-zeroclipboard-html-bridge",e.setAttribute("class","global-zeroclipboard-container"),e.setAttribute("data-clipboard-ready",!1),e.style.position="absolute",e.style.left="-9999px",e.style.top="-9999px",e.style.width="15px",e.style.height="15px",e.style.zIndex="9999",e.innerHTML=o,document.body.appendChild(e)}t.htmlBridge=e,t.flashBridge=document["global-zeroclipboard-flash-bridge"]||e.children[0].lastElementChild};m.prototype.resetBridge=function(){this.htmlBridge.style.left="-9999px",this.htmlBridge.style.top="-9999px",this.htmlBridge.removeAttribute("title"),this.htmlBridge.removeAttribute("data-clipboard-text"),r(t,this.options.activeClass),t=null,this.options.text=null},m.prototype.ready=function(){var t=this.htmlBridge.getAttribute("data-clipboard-ready");return"true"===t||t===!0},m.prototype.reposition=function(){if(!t)return!1;var e=c(t);this.htmlBridge.style.top=e.top+"px",this.htmlBridge.style.left=e.left+"px",this.htmlBridge.style.width=e.width+"px",this.htmlBridge.style.height=e.height+"px",this.htmlBridge.style.zIndex=e.zIndex+1,this.setSize(e.width,e.height)},m.dispatch=function(t,e){m.prototype._singleton.receiveEvent(t,e)},m.prototype.on=function(t,e){for(var i=t.toString().split(/\s/g),n=0;n<i.length;n++)t=i[n].toLowerCase().replace(/^on/,""),this.handlers[t]||(this.handlers[t]=e);this.handlers.noflash&&!m.detectFlashSupport()&&this.receiveEvent("onNoFlash",null)},m.prototype.addEventListener=m.prototype.on,m.prototype.off=function(t,e){for(var i=t.toString().split(/\s/g),n=0;n<i.length;n++){t=i[n].toLowerCase().replace(/^on/,"");for(var a in this.handlers)a===t&&this.handlers[a]===e&&delete this.handlers[a]}},m.prototype.removeEventListener=m.prototype.off,m.prototype.receiveEvent=function(e,i){e=e.toString().toLowerCase().replace(/^on/,"");var n=t,a=!0;switch(e){case"load":if(i&&parseFloat(i.flashVersion.replace(",",".").replace(/[^0-9\.]/gi,""))<10)return void this.receiveEvent("onWrongFlash",{flashVersion:i.flashVersion});this.htmlBridge.setAttribute("data-clipboard-ready",!0);break;case"mouseover":s(n,this.options.hoverClass);break;case"mouseout":r(n,this.options.hoverClass),this.resetBridge();break;case"mousedown":s(n,this.options.activeClass);break;case"mouseup":r(n,this.options.activeClass);break;case"datarequested":var o=n.getAttribute("data-clipboard-target"),l=o?document.getElementById(o):null;if(l){var c=l.value||l.textContent||l.innerText;c&&this.setText(c)}else{var h=n.getAttribute("data-clipboard-text");h&&this.setText(h)}a=!1;break;case"complete":this.options.text=null}if(this.handlers[e]){var d=this.handlers[e];"string"==typeof d&&"function"==typeof window[d]&&(d=window[d]),"function"==typeof d&&f(d,n,this,i,a)}},m.prototype.glue=function(t){t=p(t);for(var e=0;e<t.length;e++)-1==u(t[e],g)&&(g.push(t[e]),a(t[e],"mouseover",n))},m.prototype.unglue=function(t){t=p(t);for(var e=0;e<t.length;e++){o(t[e],"mouseover",n);var i=u(t[e],g);-1!=i&&g.splice(i,1)}},"function"==typeof define&&define.amd?define(["require","exports","module"],function(t,e,i){return b=i&&i.id||null,m}):"undefined"!=typeof module&&module?(x=module.id||null,module.exports=m):window.ZeroClipboard=m}(),$.datepicker.regional.ru={closeText:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",prevText:"&#x3c;\u041f\u0440\u0435\u0434",nextText:"\u0421\u043b\u0435\u0434&#x3e;",currentText:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f",monthNames:["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"],monthNamesShort:["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"],dayNames:["\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0432\u0442\u043e\u0440\u043d\u0438\u043a","\u0441\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0435\u0440\u0433","\u043f\u044f\u0442\u043d\u0438\u0446\u0430","\u0441\u0443\u0431\u0431\u043e\u0442\u0430"],dayNamesShort:["\u0432\u0441\u043a","\u043f\u043d\u0434","\u0432\u0442\u0440","\u0441\u0440\u0434","\u0447\u0442\u0432","\u043f\u0442\u043d","\u0441\u0431\u0442"],dayNamesMin:["\u0412\u0441","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"],weekHeader:"\u041d\u0435",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.setDefaults($.datepicker.regional.ru),function(t){function e(){var t=document.createElement("input"),e="onpaste";return t.setAttribute(e,""),"function"==typeof t[e]?"paste":"input"}var i,n=e()+".mask",a=navigator.userAgent,o=/iphone/i.test(a),s=/android/i.test(a);t.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn",placeholder:"_"},t.fn.extend({caret:function(t,e){var i;return 0===this.length||this.is(":hidden")?void 0:"number"==typeof t?(e="number"==typeof e?e:t,this.each(function(){this.setSelectionRange?this.setSelectionRange(t,e):this.createTextRange&&(i=this.createTextRange(),i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",t),i.select())})):(this[0].setSelectionRange?(t=this[0].selectionStart,e=this[0].selectionEnd):document.selection&&document.selection.createRange&&(i=document.selection.createRange(),t=0-i.duplicate().moveStart("character",-1e5),e=t+i.text.length),{begin:t,end:e})},unmask:function(){return this.trigger("unmask")},mask:function(e,a){var r,l,c,h,d,u;return!e&&this.length>0?(r=t(this[0]),r.data(t.mask.dataName)()):(a=t.extend({placeholder:t.mask.placeholder,completed:null},a),l=t.mask.definitions,c=[],h=u=e.length,d=null,t.each(e.split(""),function(t,e){"?"==e?(u--,h=t):l[e]?(c.push(RegExp(l[e])),null===d&&(d=c.length-1)):c.push(null)}),this.trigger("unmask").each(function(){function r(t){for(;u>++t&&!c[t];);return t}function p(t){for(;--t>=0&&!c[t];);return t}function f(t,e){var i,n;if(!(0>t)){for(i=t,n=r(e);u>i;i++)if(c[i]){if(!(u>n&&c[i].test(k[n])))break;k[i]=k[n],k[n]=a.placeholder,n=r(n)}b(),w.caret(Math.max(d,t))}}function m(t){var e,i,n,o;for(e=t,i=a.placeholder;u>e;e++)if(c[e]){if(n=r(e),o=k[e],k[e]=i,!(u>n&&c[n].test(o)))break;i=o}}function g(t){var e,i,n,a=t.which;8===a||46===a||o&&127===a?(e=w.caret(),i=e.begin,n=e.end,0===n-i&&(i=46!==a?p(i):n=r(i-1),n=46===a?r(n):n),y(i,n),f(i,n-1),t.preventDefault()):27==a&&(w.val(_),w.caret(0,x()),t.preventDefault())}function v(e){var i,n,o,l=e.which,h=w.caret();e.ctrlKey||e.altKey||e.metaKey||32>l||l&&(0!==h.end-h.begin&&(y(h.begin,h.end),f(h.begin,h.end-1)),i=r(h.begin-1),u>i&&(n=String.fromCharCode(l),c[i].test(n)&&(m(i),k[i]=n,b(),o=r(i),s?setTimeout(t.proxy(t.fn.caret,w,o),0):w.caret(o),a.completed&&o>=u&&a.completed.call(w))),e.preventDefault())}function y(t,e){var i;for(i=t;e>i&&u>i;i++)c[i]&&(k[i]=a.placeholder)}function b(){w.val(k.join(""))}function x(t){var e,i,n=w.val(),o=-1;for(e=0,pos=0;u>e;e++)if(c[e]){for(k[e]=a.placeholder;pos++<n.length;)if(i=n.charAt(pos-1),c[e].test(i)){k[e]=i,o=e;break}if(pos>n.length)break}else k[e]===n.charAt(pos)&&e!==h&&(pos++,o=e);return t?b():h>o+1?(w.val(""),y(0,u)):(b(),w.val(w.val().substring(0,o+1))),h?e:d}var w=t(this),k=t.map(e.split(""),function(t){return"?"!=t?l[t]?a.placeholder:t:void 0}),_=w.val();w.data(t.mask.dataName,function(){return t.map(k,function(t,e){return c[e]&&t!=a.placeholder?t:null}).join("")}),w.attr("readonly")||w.one("unmask",function(){w.unbind(".mask").removeData(t.mask.dataName)}).bind("focus.mask",function(){clearTimeout(i);var t;_=w.val(),t=x(),i=setTimeout(function(){b(),t==e.length?w.caret(0,t):w.caret(t)},10)}).bind("blur.mask",function(){x(),w.val()!=_&&w.change()}).bind("keydown.mask",g).bind("keypress.mask",v).bind(n,function(){setTimeout(function(){var t=x(!0);w.caret(t),a.completed&&t==w.val().length&&a.completed.call(w)},0)}),x()}))}})}(jQuery),function(t){t.fn.audionota=function(){this.each(function(){var e=t(this),i=t('<div class="audioplayer"></div>').prependTo(e),n=e.find(".title").text(),a={},o="",s=e.attr("id")?e.attr("id"):"a"+(new Date).getTime();e.find(".media a").each(function(e){var i=t(this);o+=e>0?","+i.attr("rel"):i.attr("rel"),a[i.attr("rel")]=i.attr("href")});var r=(e.data("width")?e.data("width"):625,e.data("autoplay")?e.data("autoplay"):!1,e.data("volume")?e.data("volume"):.6,e.data("mute")?e.data("mute"):!1,e.data("swf")?e.data("swf"):"/swf",'<div id="container_'+s+'" class="nota_audio"><div class="nota_type-single"><div id="notaplayer_'+s+'" class="nota_jplayer"></div><div class="nota_gui"><div class="nota_interface"><div class="nota_title-container"><div class="nota_title">'+n+'</div></div><div class="nota_progress-container"><div class="nota_progress"><div class="nota_seek-bar"><div class="nota_play-bar"></div><div class="nota_time-container"><span class="nota_current-time"></span> / <span class="nota_duration"></span></div></div></div><div class="nota_time-tooltip"><span>00:00</span><i></i></div></div><div class="nota_controls-holder"><div class="nota_controls"><a href="javascript:;" class="nota_play" tabindex="1"><span>\u0432\u043e\u0441\u043f\u0440.</span></a><a href="javascript:;" class="nota_pause" tabindex="1"><span>\u043f\u0430\u0443\u0437\u0430</span></a><a href="javascript:;" class="nota_stop" tabindex="1"><span>\u0441\u0442\u043e\u043f</span></a><div class="nota_volume-controls"><a href="javascript:;" class="nota_mute" tabindex="1" title="\u0432\u044b\u043a\u043b."><span>\u0432\u044b\u043a\u043b.</span></a><a href="javascript:;" class="nota_unmute" tabindex="1" title="\u0432\u043a\u043b."><span>\u0432\u043a\u043b.</span></a><a href="javascript:;" class="nota_volume-max" tabindex="1" title="max volume"><span>\u0432\u0436\u0430\u0440\u0438\u0442\u044c</span></a><div class="nota_volume-bar"><div class="nota_volume-bar-value"><i></i><i></i><i></i><i></i><i></i><i></i></div></div></div></div></div></div></div><div class="nota_no-solution"><span>\u041d\u0443\u0436\u0435\u043d \u043f\u043b\u0430\u0433\u0438\u043d</span>\u0414\u043b\u044f \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u0430\u0443\u0434\u0438\u043e \u0432\u0430\u043c \u043d\u0443\u0436\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0431\u0440\u0430\u0443\u0437\u0435\u0440 \u0438\u043b\u0438 <a href="http://get.adobe.com/flashplayer/" target="_blank">Flash plugin</a>.</div></div></div>');t(r).appendTo(i),"apready"!=i.data("apready")&&t("#notaplayer_"+s).jPlayer({ready:function(){var e=t(this);e.jPlayer("setMedia",a),i.data("apready","apready"),DOC.on("beforepagechange",function(){}),DOC.on("pagechange",function(){setHeaderButton(e)})},loadedmetadata:function(){},timeupdate:function(){},play:function(){},pause:function(){},stop:function(){},swfPath:"/assets",errorAlerts:!1,cssSelectorAncestor:"#container_"+s,cssSelector:{play:".nota_play",pause:".nota_pause",stop:".nota_stop",seekBar:".nota_seek-bar",playBar:".nota_play-bar",mute:".nota_mute",unmute:".nota_unmute",volumeBar:".nota_volume-bar",volumeBarValue:".nota_volume-bar-value",volumeMax:".nota_volume-max",currentTime:".nota_current-time",duration:".nota_duration",fullScreen:".nota_full-screen",restoreScreen:".nota_restore-screen",repeat:".nota_repeat",repeatOff:".nota_repeat-off",gui:".nota_gui",noSolution:".nota_no-solution"},supplied:o,wmode:"window",smoothPlayBar:!1,keyEnabled:!0})})}}(jQuery),function(t){t.fn.notaplayer=function(){this.each(function(){function e(e,a){if(!n.data("stat"))return!1;i();var o=300*(a-e);M=window.setTimeout(function(){var i;t(".playlist a",n).each(function(){var n=t(this);n.data("cutstart")==e&&n.data("cutend")==a&&(i=n.data("fragment"))}),t.ajax({url:n.data("stat"),dataType:"text",type:"GET",data:{videoid:n.data("videoid"),fragment:i,start:e,end:a},complete:function(){}})},o)}function i(){window.clearTimeout(M)}var n=t(this),a=t('<div class="videoplayer"></div>').prependTo(n),o={},s="",r=n.attr("id")?n.attr("id"):"v"+(new Date).getTime();n.find(".media a").each(function(e){var i=t(this);s+=e>0?","+i.attr("rel"):i.attr("rel"),o[i.attr("rel")]=i.attr("href")}),o.poster=n.find(".preview img").attr("src");var l,c,h,d,u,p,f,m,g,v,y,b,x,w={Android:function(){return navigator.userAgent.match(/Android/i)?!0:!1},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)?!0:!1},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)?!0:!1},Windows:function(){return navigator.userAgent.match(/IEMobile/i)?!0:!1},any:function(){return w.Android()||w.BlackBerry()||w.iOS()||w.Windows()}},k=n.data("width")?n.data("width"):590,_=n.data("height")?n.data("height"):396,C=n.data("autoplay")?n.data("autoplay"):!1,T=n.data("volume")?n.data("volume"):.6,P=n.data("mute")?n.data("mute"):!1,S=n.data("swf")?n.data("swf"):"/swf",j=!1,L=!1,E=!1,A='<div id="container_'+r+'" class="nota_video" style="width:'+k+'px;"><div class="nota_type-single"><div id="notaplayer_'+r+'" class="nota_jplayer"></div><div class="nota_video-play"><a href="javascript:;" class="nota_video-play-icon" tabindex="1">\u0432\u043e\u0441\u043f\u0440.</a></div><div class="nota_gui"><div class="nota_interface"><div class="nota_progress-container"><div class="nota_time-cut"></div><div class="nota_progress"><div class="nota_seek-bar"><div class="nota_play-bar"></div><div class="nota_time-container"><span class="nota_current-time"></span> / <span class="nota_duration"></span></div></div></div><div class="nota_time-tooltip"><span>00:00</span><i></i></div></div><div class="nota_controls-holder"><div class="nota_controls"><a href="javascript:;" class="nota_previous" tabindex="1"><span>\u043f\u0440\u0435\u0434.</span></a><a href="javascript:;" class="nota_play" tabindex="1"><span>\u0432\u043e\u0441\u043f\u0440.</span></a><a href="javascript:;" class="nota_pause" tabindex="1"><span>\u043f\u0430\u0443\u0437\u0430</span></a><a href="javascript:;" class="nota_next" tabindex="1"><span>\u0441\u043b\u0435\u0434.</span></a><a href="javascript:;" class="nota_stop" tabindex="1"><span>\u0441\u0442\u043e\u043f</span></a><div class="nota_volume-controls"><a href="javascript:;" class="nota_mute" tabindex="1" title="\u0432\u044b\u043a\u043b."><span>\u0432\u044b\u043a\u043b.</span></a><a href="javascript:;" class="nota_unmute" tabindex="1" title="\u0432\u043a\u043b."><span>\u0432\u043a\u043b.</span></a><a href="javascript:;" class="nota_volume-max" tabindex="1" title="max volume"><span>\u0432\u0436\u0430\u0440\u0438\u0442\u044c</span></a><div class="nota_volume-bar"><div class="nota_volume-bar-value"><i></i><i></i><i></i><i></i><i></i><i></i></div></div></div></div><div class="nota_controls_row2"><div class="nota_toggles"><a href="javascript:;" class="nota_full-screen" tabindex="1" title="\u0432\u0435\u0441\u044c \u044d\u043a\u0440\u0430\u043d">\u0432\u0435\u0441\u044c \u044d\u043a\u0440\u0430\u043d</a><a href="javascript:;" class="nota_restore-screen" tabindex="1" title="\u043e\u0431\u044b\u0447\u043d\u044b\u0439 \u0440\u0430\u0437\u043c\u0435\u0440">\u043e\u0431\u044b\u0447\u043d\u044b\u0439 \u0440\u0430\u0437\u043c\u0435\u0440</a><a href="javascript:;" class="nota_repeat" tabindex="1" title="\u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c">\u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c</a><a href="javascript:;" class="nota_repeat-off" tabindex="1" title="\u043d\u0435 \u043f\u043e\u0432\u0442\u043e\u0440\u044f\u0442\u044c">\u043d\u0435 \u043f\u043e\u0432\u0442\u043e\u0440\u044f\u0442\u044c</a><a href="javascript:;" class="nota_shuffle" tabindex="1" title="\u0432\u0440\u0430\u0437\u043d\u043e\u0431\u043e\u0439">\u0432\u0440\u0430\u0437\u043d\u043e\u0431\u043e\u0439</a><a href="javascript:;" class="nota_shuffle-off" tabindex="1" title="\u043f\u043e \u043f\u043e\u0440\u044f\u0434\u043a\u0443">\u043f\u043e \u043f\u043e\u0440\u044f\u0434\u043a\u0443</a></div><div class="nota_speed"><a href="javascript:;" class="nota_speed-up" tabindex="1" title="\u0443\u0441\u043a\u043e\u0440\u0438\u0442\u044c">\u0443\u0441\u043a\u043e\u0440\u0438\u0442\u044c</a></div><div class="nota_jump"><a href="javascript:;" class="nota_jump-back" tabindex="1" title="\u0447\u0443\u0442\u044c \u043d\u0430\u0437\u0430\u0434">-</a><span class="nota_jump-step">10</span><a href="javascript:;" class="nota_jump-forward" tabindex="1" title="\u0447\u0443\u0442\u044c \u0432\u043f\u0435\u0440\u0435\u0434">+</a></div><div class="nota_cut-control"><a href="javascript:;" class="nota_cut-start" tabindex="1" title="\u043e\u0442 \u0441\u0438\u0445">\u043e\u0442 \u0441\u0438\u0445</a><a href="javascript:;" class="nota_cut-cancel" tabindex="1" title="\u043e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"><i></i><span>\u043e\u0447\u0438\u0441\u0442\u0438\u0442\u044c</span></a><a href="javascript:;" class="nota_cut-end" tabindex="1" title="\u0434\u043e \u0441\u0438\u0445">\u0434\u043e \u0441\u0438\u0445</a></div></div><div class="nota_share-control"><a href="javascript:;" class="nota_share-button" tabindex="1" title="\u043f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f"><i></i><span>\u043f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f</span></a></div></div></div></div><div class="nota_no-solution"><span>\u041d\u0443\u0436\u0435\u043d \u043f\u043b\u0430\u0433\u0438\u043d</span>\u0414\u043b\u044f \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u0432\u0438\u0434\u0435\u043e \u0432\u0430\u043c \u043d\u0443\u0436\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0431\u0440\u0430\u0443\u0437\u0435\u0440 \u0438\u043b\u0438 <a href="http://get.adobe.com/flashplayer/" target="_blank">Flash plugin</a>.</div><div class="nota_share-panel"><a href="#" class="nota_close_share">\u0437\u0430\u043a\u0440\u044b\u0442\u044c</a><form action="." method="post"><div class="nota_sp-getlink"><span class="nota_code-field"><label for="getlink_'+r+'">\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u0440\u043e\u043b\u0438\u043a</label><input type="text" id="getlink_'+r+'" name="getlink" readonly="readonly" /><button type="button" value="getlink" data-clipboard-target="getlink_'+r+'">\u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443</button></span></div><div class="nota_sp-embed"><div class="nota_sp-size"><span class="nota_title">\u0420\u0430\u0437\u043c\u0435\u0440\u044b \u0432\u0438\u0434\u0435\u043e</span><span class="nota_radio nota_checked"><input type="radio" id="vsize_'+r+'_1" name="vsize" value="large" checked="checked" /><label for="vsize_'+r+'_1">(590x396)<i></i>\u0411\u043e\u043b\u044c\u0448\u043e\u0435</label></span><span class="nota_radio"><input type="radio" id="vsize_'+r+'_2" name="vsize" value="medium" /><label for="vsize_'+r+'_2">(420x282)<i></i>\u0421\u0440\u0435\u0434\u043d\u0435\u0435</label></span><span class="nota_radio"><input type="radio" id="vsize_'+r+'_3" name="vsize" value="small" /><label for="vsize_'+r+'_3">(180x120)<i></i>\u041c\u0430\u043b\u043e\u0435</label></span></div><div class="nota_sp-getcode"><span class="nota_code-field"><label for="getcode_'+r+'">\u0412\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0440\u043e\u043b\u0438\u043a \u043d\u0430 \u0432\u0430\u0448 \u0441\u0430\u0439\u0442</label><input type="text" id="getcode_'+r+'" name="getcode" readonly="readonly" /><button type="button" value="getcode" data-clipboard-target="getcode_'+r+'">\u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u043e\u0434</button></span></div><div class="nota_sp-cutsettings"><div class="nota_sp-cutset"><span class="nota_radio"><input type="radio" id="vcut_'+r+'_1" name="vcut" value="full" /><label for="vcut_'+r+'_1"><i><i></i></i>\u041f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e</label></span><span class="nota_radio nota_checked"><input type="radio" id="vcut_'+r+'_2" name="vcut" value="cut" checked="checked" /><label for="vcut_'+r+'_2"><i><i></i></i>\u041e\u0442\u0440\u044b\u0432\u043e\u043a</label></span></div><div class="nota_sp-cutstart"><span class="nota_cut-field"><label for="cutstart_'+r+'">\u041d\u0430\u0447\u0430\u043b\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438</label><input type="text" id="cutstart_'+r+'" name="cutstart" readonly="readonly" /></span></div><div class="nota_sp-cutend"><span class="nota_cut-field"><label for="cutend_'+r+'">\u041a\u043e\u043d\u0435\u0446 \u0432\u0440\u0435\u043c\u0435\u043d\u0438</label><input type="text" id="cutend_'+r+'" name="cutend" readonly="readonly" /></span></div><div class="nota_sp-cuttime"><span class="nota_cut-field"><label for="cuttime_'+r+'">\u041f\u043e\u043b\u043d\u043e\u0435 \u0432\u0440\u0435\u043c\u044f</label><input type="text" id="cuttime_'+r+'" name="cuttime" readonly="readonly" /></span></div><div class="nota_sp-cutbut"><div><button type="button" value="preview">\u043f\u0440\u0435\u0434\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440</button></div><div><button type="button" value="reset">\u043e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u043a\u043b\u0438\u043f</button></div></div></div></div></form></div><div class="nota_loader"></div></div></div>';t(A).appendTo(a);var M;t("#notaplayer_"+r).jPlayer({ready:function(){var e=t(this);e.jPlayer("setMedia",o);var a=n.find(".nota_gui");n.find(".prepare").hide(),n.find(".nota_video-play").css({"margin-top":"-"+_+"px",height:_+"px"}),C&&e.jPlayer("play"),v=n.find(".nota_loader"),y=n.find(".nota_video-play"),w.any()&&v.hide(),b=n.find(".nota_time-tooltip"),x=t("span",b);var s=n.find(".nota_progress"),r=s.offset(),g=s.width();s.mouseenter(function(t){b.show(),r=s.offset(),b.css({left:t.pageX-r.left+"px",top:t.pageY-r.top+"px"})}).mouseleave(function(){b.hide()}).mousemove(function(e){var i=e.pageX-r.left;b.css({left:i+"px",top:e.pageY-r.top+"px"}),x.text(t.jPlayer.convertTime(100*i/g*c/100))}).click(function(){});var T=n.find(".nota_share-button"),P=n.find(".nota_share-panel");P.css("opacity",0),T.click(function(e){e.preventDefault(),t(this).blur(),T.hasClass("opened")?P.stop().animate({opacity:0},function(){T.removeClass("opened").html("<i></i><span>\u043f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f</span>"),P.css("display","none")}):P.stop().css("display","block").animate({opacity:1},function(){T.addClass("opened").html("<i></i><span>\u043a \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0443</span>")})}),n.find(".nota_close_share").click(function(e){e.preventDefault(),t(this).blur(),T.click()}),n.find(".nota_radio").each(function(){var e=t(this),i=e.parent(),n=e.find(":radio");n.bind("change",function(){t(this).prop("checked")&&(i.find(".nota_checked").removeClass("nota_checked"),e.addClass("nota_checked"))})}),n.find(".nota_jump-back").click(function(n){n.preventDefault(),t(this).blur(),i(),e.jPlayer("play",l-10)}),n.find(".nota_jump-forward").click(function(n){n.preventDefault(),t(this).blur(),i(),e.jPlayer("play",l+10)}),u=t(':input[name="cutstart"]',n),p=t(':input[name="cutend"]',n),f=t(':input[name="cuttime"]',n);var S=t(':input[name="getcode"]',n);""!=n.data("permalink")?t(':input[name="getlink"]',n).val(n.data("permalink")):n.find(".nota_sp-getlink").remove(),n.data("embed")||n.find(".nota_sp-embed").remove(),t(".nota_sp-cutbut button[value=reset]",n).click(function(){t(':input[name="vcut"]:eq(0),:input[name="vsize"]:eq(0)',n).click(),n.trigger("cutchange"),t(this).blur()}),t(".nota_sp-cutbut button[value=preview]",n).click(function(){n.find(".nota_share-button").click(),e.jPlayer("play",h),t(this).blur()
}),t(':input[name="vcut"],:input[name="vsize"]',n).bind("change",function(e){var i=t(e.target);"vcut"==i.attr("name")&&("full"==i.val()?(m.slider({values:[0,100]}),h=0,d=c):(h=l,m.slider("values",0,100*h/c))),n.trigger("cutchange")});var j=t('button[value="getlink"]',n),L=new ZeroClipboard(j,{moviePath:n.data("swf")+"/ZeroClipboard.swf",hoverClass:"hover",forceHandCursor:!0});L.on("noFlash",function(){j.hide()}),L.on("complete",function(){});var E=t('button[value="getcode"]',n),A=new ZeroClipboard(E,{moviePath:n.data("swf")+"/ZeroClipboard.swf",hoverClass:"hover",forceHandCursor:!0});A.on("noFlash",function(){E.hide()}),A.on("complete",function(){}),n.bind("cutchange",function(e){if(u.val(t.jPlayer.convertTime(h)),p.val(t.jPlayer.convertTime(d)),f.val(t.jPlayer.convertTime(d-h)),""!=n.data("embed")){var i=n.data("embed"),a=t(':input:checked[name="vcut"]',n).val(),o=t(':input:checked[name="vsize"]',n).val();i=i.indexOf("?")>-1?i+"&":i+"?";var s="full"==a?0:h,e="full"==a?c:d,r=590,l=396;"medium"==o&&(r=420,l=282),"small"==o&&(r=180,l=120),(h>0||c>d)&&t(':input[name="vcut"][value="cut"]',n).click(),S.val('<object data="'+i+"s="+Math.round(s)+"&e="+Math.round(e)+"&w="+r+"&h="+l+'" width="'+r+'" height="'+l+'"></object>')}}),n.data("permalink")||n.data("embed")||n.find(".nota_share-control").remove();var M;n.mouseenter(function(){window.clearTimeout(M),a.css("opacity","")}).mouseleave(function(){M=window.setTimeout(function(){T.hasClass("opened")||a.css("opacity","0")},2e3)}),500>k&&n.addClass("sizesmall"),300>k&&n.addClass("sizelite")},loadedmetadata:function(e){var i=t(this),a=n.find(".nota_cut-control");m=n.find(".nota_time-cut"),c=e.jPlayer.status.duration,h=n.data("cutstart")?n.data("cutstart"):0,d=n.data("cutend")?n.data("cutend"):c,m.slider({range:!0,step:.01,values:[100*h/c,100*d/c],slide:function(){b.css({display:"block",left:+m.slider("values",g.data("index"))+"%",top:"-10px"}),x.text(t.jPlayer.convertTime(m.slider("values",g.data("index"))*c/100))},stop:function(t,e){var a=100*l/c;e.values[0]>=a?(m.slider({values:[a,e.values[1]]}),h=l):h=e.values[0]*c/100,e.values[1]<=a?(i.jPlayer("pause",l),m.slider({values:[e.values[0],a]}),d=l):d=e.values[1]*c/100,n.trigger("cutchange"),b.css("display","none")},start:function(){g=m.find(".ui-slider-handle.ui-state-hover, .ui-slider-handle.ui-state-active")},create:function(){m.hide(),a.find(".nota_cut-start").click(function(e){e.preventDefault(),t(this).blur(),h=l,m.slider("values",0,100*h/c),n.trigger("cutchange")}),a.find(".nota_cut-end").click(function(e){e.preventDefault(),t(this).blur(),d=l,m.slider("values",1,100*d/c),n.trigger("cutchange")}),a.find(".nota_cut-cancel").click(function(e){e.preventDefault(),t(this).blur(),h=0,d=c,m.slider({values:[100*h/c,100*d/c]}),n.trigger("cutchange")}),m.find(".ui-slider-handle").each(function(e){t(this).data("index",e)}),n.trigger("cutchange");var e=n.find(".playlist");if(e.length>0){e.find(".fullplay").data("cutstart",0).data("cutend",c),t("a",e).click(function(e){e.preventDefault();var a=t(this);h=a.data("cutstart"),d=a.data("cutend"),m.slider({values:[100*h/c,100*d/c]}),n.trigger("cutchange"),i.jPlayer("play",h),a.blur()}),t(".nota_previous, .nota_next",n).click(function(){var i,n=t(this);if(t(".fragments a",e).each(function(){var e=t(this);e.data("cutstart")<=l&&e.data("cutend")>=l&&(i=e.parent(".fragment"))}),i&&i.length>0){var a=n.hasClass("nota_next")?i.next():i.prev();a.length<1&&(a=n.hasClass("nota_next")?t(".fragment:eq(0)",e):t(".fragment:last",e)),t("a",a).click()}else t(".fragments a:eq(0)",e).click();n.blur()});var o=t(".fragments a:eq(0)",e);h=o.data("cutstart"),d=o.data("cutend"),h>0&&!C&&i.jPlayer("pause",h),m.slider({values:[100*h/c,100*d/c]}),n.trigger("cutchange")}else n.addClass("no_prev").addClass("no_next")}}),y.show(),j=!0},loadeddata:function(){v.hide()},seeked:function(){l>d&&(d=c,m.slider("values",1,100),n.trigger("cutchange")),h>l&&(h=l,m.slider("values",0,100*h/c),n.trigger("cutchange")),j?(v.hide(100,function(){v.css({"background-color":"transparent",opacity:1})}),m.show(),j=!1):(y.hide(),v.hide()),L=!1},seeking:function(){L=!0,w.any()||v.show()},waiting:function(){},timeupdate:function(e){l=e.jPlayer.status.currentTime,!L&&E&&l>=d&&t(this).jPlayer("pause",d)},play:function(){var e=t(this);e.jPlayer("pauseOthers"),(h>=l||l>=d)&&e.jPlayer("play",h),E=!0,y.hide()},playing:function(){v.hide(),y.hide(),E=!0,e(h,d)},pause:function(){E=!1,y.show(),i()},cssSelectorAncestor:"#container_"+r,cssSelector:{videoPlay:".nota_video-play",play:".nota_play",pause:".nota_pause",stop:".nota_stop",seekBar:".nota_seek-bar",playBar:".nota_play-bar",mute:".nota_mute",unmute:".nota_unmute",volumeBar:".nota_volume-bar",volumeBarValue:".nota_volume-bar-value",volumeMax:".nota_volume-max",currentTime:".nota_current-time",duration:".nota_duration",fullScreen:".nota_full-screen",restoreScreen:".nota_restore-screen",repeat:".nota_repeat",repeatOff:".nota_repeat-off",gui:".nota_gui",noSolution:".nota_no-solution"},swfPath:S,preload:"metadata",solution:"html,flash",volume:T,muted:P,supplied:s,size:{width:k+"px",height:_+"px",cssClass:"nota_video-"+k+"p"},smoothPlayBar:!1,keyEnabled:!0})})}}(jQuery);var _columns=4,WND,DOC,BODY,CONT,touchdevice=!1,main={total:{fb_cnt:null,vk_cnt:null,tw_cnt:null},init:function(){pageuri=window.location},display_block:function(t){$(t).show()}},social={fb_count:function(t){$.getJSON("http://api.facebook.com/restserver.php?method=links.getStats&callback=?&urls="+escape(pageuri)+"&format=json",function(e){$("span",t).text(e[0].share_count),main.total.fb_cnt=parseInt(e[0].share_count)})},vk_count:function(t){VK={},VK.Share={},VK.Share.count=function(e,i){$("span",t).text(i),main.total.vk_cnt=parseInt(i)},$.getJSON("http://vkontakte.ru/share.php?act=count&index=1&url="+pageuri+"&format=json&callback=?")},tw_count:function(t){$.getJSON("http://urls.api.twitter.com/1/urls/count.json?url="+pageuri+"&callback=?",function(e){$("span",t).text(e.count),main.total.tw_cnt=parseInt(e.count)})},click_button:function(t){var e=!1;$(t).click(function(){if(!e){var t=$(this).parent("div"),i=parseInt($("span",t).text());isNaN(i)||(i+=1,$("span",t).text(i)),e=!0}return window.open($(this).attr("href"),"displayWindow","width=700,height=400,left=200,top=100,location=no, directories=no,status=no,toolbar=no,menubar=no"),!1})}};$(function(){WND=$(window),DOC=$(document),BODY=$("body"),CONT=BODY.find(".content"),$("html").hasClass("no-touch")||(touchdevice=!0),bodyclassName(WND,BODY,CONT);var t;WND.on("resize",function(){window.clearTimeout(t),t=window.setTimeout(function(){bodyclassName(WND,BODY,CONT),BODY.trigger("changecolumns")},150)}),DOC.trigger("pagechange")}),$(document).bind("pagechange",function(){WND=$(window),DOC=$(document),BODY=$("body"),CONT=BODY.find(".content"),$(".iblock, .mainmenu a, .secondmenu a").cleanWS(),$(".supermaincarousel").supermaincarousel(),$(".liveaudioplayer").initLive(),$(".toair").on("click",function(){$.scrollTo($(this).attr("href"),500,{easing:"easeOut"})}),$(".icsearch").showSearch(),$(".open_auth").authForm(),$(".authorized").logoutForm(),$(".imgcarousel").mediacarousel(),$(".fragments").columnize({columns:3,lastNeverTallest:!0}),$(".mainpreview").mainpreview(),$(".mainpeoples").mainpeoples(),$(".notaplayer").notaplayer(),$(".audionota").audionota(),$(".multimedia").mmtabs(),$(".bonustabs").bonustabs(),$(".commentList").comFunc(),$(".shareBlock").sharePopup(),$(".custom_check").replaceCheckBox(),$(".custom_radio").radioReplace(),$(".votescharts").votescharts(),$(".piechart").piechart(),$(".carousel").notacarousel(),$("#onair").onaircarousel(),$(".title_info .open").footOpen(),$(".programm_info").descrOpen(),$(".search_result .c_select").selectReplace(),$(".faq").faq(),$(".ajax_comments").click(function(t){t.preventDefault();var e=$(this),i=$(".answform");return $.ajax({url:e.attr("href"),method:"GET",success:function(t){$(t).insertBefore(i).fadeIn("slow"),e.parent().remove()}}),!1}),$(".abc a").click(function(t){t.preventDefault();var e=$(this),i=$(".broadcast_list, .person_list");return $(".abc a").removeClass("cur"),$.ajax({url:e.attr("href"),method:"GET",success:function(t){i.html(t),e.addClass("cur"),$(".iblock").cleanWS(),i.trigger("update",[])}}),!1}),$("#searchList").letterlist({inp:"#quicksearch",spn:".author .name, .guestst b, .title h2 a"}),function(){var t=$(".js-suggest"),e=$("#psearch",t),i=$(".js-suggest-list",t),n=t.data("src");e.on("keyup",function(){var t=e.val();return t.length<3?void i.addClass("_hidden"):void i.load(n+"?val="+t,function(){i.removeClass("_hidden")})})}(),$(".calendar").each(function(){$(this).calendar()}),pageUp(),DOC.on("mouseenter",".preview",function(){var t=$(this);if(t.hasClass("mouseenter")||t.hasClass("previewclone")||t.parents(".mainpeoples").length>0||t.hasClass("voicepreview"))return!1;$(".mouseenter").removeClass("mouseenter"),$(".previewclone").remove();var e=t.clone(!0);e.addClass("previewclone"),t.addClass("mouseenter");var i=t.offset(),n="clone"+(new Date).getTime();e.appendTo("body"),e.css({opacity:0,position:"absolute",top:i.top,left:i.left,margin:0,"z-index":10}).addClass("hover").addClass(n),e.stop().animate({opacity:1},250),e.on("mouseleave",function(i){return $(i.tagret).parents("."+n).length>0?!1:void e.stop().animate({opacity:0},100,function(){t.removeClass("mouseenter"),e.remove()})})}),DOC.on("click",".js-expandtxt",function(){$(this).toggleClass("op")}),DOC.on("click",".js-popup",function(){return $(this).popupList(),!1}),$(".uipopup").uipopup(),$(".connect_bl").tabs(),$(".typical ul:not([class]), .typical ol:not([class])").each(function(){var t=$(this);t.addClass("norm"),$("li",t).wrapInner('<div class="dark"></div>')}),$(".typical table:not([class]) tr:gt(0)").mouseenter(function(){$(this).addClass("hover")}).mouseleave(function(){$(this).removeClass("hover")}),$(".typicalform").each(function(){var t=$(this);$(":checkbox",t).replaceCheckBox(),$(":radio",t).radioReplace(),$("select",t).selectReplace(),t.find(".birthdate").on("change",function(){t.find(".setbirthdate").val($(this).val())}).mask("99.99.9999"),t.find(".setbirthdate").on("change",function(){t.find(".birthdate").val($(this).val())}).on("focus",function(){$.scrollTo($(this),{offset:{left:0,top:-150}})})}),$(".calend").click(function(){return!1}),$(".calendarmonth").each(function(){$(this).calendarmonth()}),$(".calendaryear").each(function(){$(this).calendaryear()}),$(".calendarweek").each(function(){$(this).calendarweek()}),$("#mainsidebar").each(function(){function t(){e.height("").removeClass("asideheightajust");var t=e.outerHeight(),i=0;cont.each(function(){i+=$(this).outerHeight(!0)}),t>i&&e.height(i).addClass("asideheightajust")}var e=$(this),i=e.parent();cont=i.children("section"),cont.length>0&&t(),WND.on("resize load",t)})}),$(window).load(function(){WND=$(window),BODY=$("body"),CONT=BODY.find(".content"),bodyclassName(WND,BODY,CONT)}),$(function(){var t=0;main.init(),social.click_button(".fb_btn"),social.click_button(".vk_btn"),social.click_button(".tw_btn"),social.fb_count(".fb_sharer"),social.vk_count(".vk_sharer"),social.tw_count(".tw_sharer"),interval=setInterval(function(){t++,null!==main.total.fb_cnt&&null!==main.total.vk_cnt&&null!==main.total.tw_cnt?(main.display_block(".social_block"),clearInterval(interval)):t>30&&clearInterval(interval)},100)}),function(t){t.fn.cleanWS=function(){this.each(function(){for(var t=this,e=t.parentNode,i=t.previousSibling,n=t.nextSibling;i;){var a=i.previousSibling;if(3==i.nodeType&&i.nodeValue)for(var o=i.nodeValue.length-1;o>-1;o--){var s=i.nodeValue.charCodeAt(o);if(9!=s&&10!=s&&32!=s)break;i.nodeValue=i.nodeValue.slice(0,o)}8==i.nodeType&&e.removeChild(i),i=a}for(;n;){var r=n.nextSibling;if(3==n.nodeType&&n.nodeValue)for(;n.nodeValue.length;){var s=n.nodeValue.charCodeAt(0);if(9!=s&&10!=s&&32!=s)break;n.nodeValue=n.nodeValue.slice(1)}8==n.nodeType&&e.removeChild(n),n=r}})}}(jQuery),function(t){t.fn.notacarousel=function(e){this.each(function(){function i(){var e=l.find(".current");c.wrapAll('<div class="carouselwrapper"><div class="carouselslide"></div></div>');var i=0;if(c.each(function(){i+=t(this).outerWidth(!0)}),l.find(".carouselslide").width(i),o("init"),e.length>0){e.nextAll(".preview").addClass("later");var n=100*(e.index()+1)/h;l.find(".carouselslider").slider({value:n}),a(n,!0)}}function n(){s.slider=l.find(".carouselslider").length>0?!0:!1,l.find(".carouselnav").remove(),o("reinit")}function a(e,i){var n=Math.round(e*h/100),a=Math.ceil(n/_columns),o=l.find(".carouselnav"),s=t("li.slide",o);if(i){var r=l.find(".carouselslide"),d=l.find(".carouselwrapper"),u=0,p=r.width(),f=d.width();if(o.find(".current").removeClass("current"),s.eq(a-1).addClass("current"),n-2>0){for(var m=0;n-2>m;m++){var g=c.eq(m);g.length>0&&(u+=Math.ceil(g.outerWidth(!0)))}f>p-u&&(u=p-f-parseInt(c.last().css("margin-right")))}r.css({"margin-left":-u})}else s.eq(a-1>0?a-1:0).trigger("click",["slide"])}function o(e){for(var i=t('<ul class="carouselnav"/>').appendTo(l),n=0;h>n;n++)n%_columns==0&&i.append('<li class="slide"><i class="num">'+n+"</i></li>");i.append('<li class="toleft"><i class="wsico">&#x0033;</i></li><li class="toright"><i class="wsico">&#x0034;</i></li>'),t("li.toleft,li.toright",i).on("click",function(){var e=t(this),n=i.find(".current"),a=e.hasClass("toleft")?n.prev(".slide"):n.next(".slide");a.length>0&&a.trigger("click")});for(var o=0,n=0;n<c.length;n++){var r=c.eq(n).position();if(r.left>=0)break;n%_columns==0&&o++}var p=t("li.slide",i),f=p.length;p.each(function(e){var n=t(this);n.addClass(e==o?"current":"gtcurrent"),n.bind("dblclick",function(t){t.preventDefault()}),n.children("i").text(e+1),n.click(function(e,n){e.preventDefault();var a=t(this),o=l.find(".carouselwrapper"),r=l.find(".carouselslide");if(a.hasClass("current")||l.hasClass("inaction"))return!1;"slide"!=n?(d=s.T,u=s.A,l.addClass("inaction")):(d=0,u="linear");for(var p=i.find(".current"),m=a.index(),g=0,v=m*_columns,y=r.width(),b=o.width(),x=0;v>x;x++){var w=c.eq(x);w.length>0&&(g+=Math.ceil(w.outerWidth(!0)))}if(b>y-g&&(g=y-b-parseInt(c.last().css("margin-right"))),r.stop().animate({"margin-left":-g},d,u,function(){p.removeClass("current"),a.addClass("current"),l.removeClass("inaction"),t("li.gtcurrent",i).removeClass("gtcurrent"),t("li.slide:gt("+e+")",i).addClass("gtcurrent");var e=t("li.current",i).index();t("li.toleft,li.toright",i).removeClass("disabled"),0==e&&t("li.toleft",i).addClass("disabled"),e==f-1&&t("li.toright",i).addClass("disabled")}),s.slider){var k=100*v/h;0==m&&(k=0),m==f-1&&(k=100),l.find(".carouselslider").slider({value:k})}});var a=t("li.current",i).index();t("li.toleft,li.toright",i).removeClass("disabled"),0==a&&t("li.toleft",i).addClass("disabled"),a==f-1&&t("li.toright",i).addClass("disabled")});var m=0,g=l.find(".carouselslide"),v=g.width(),y=l.find(".carouselwrapper").width(),b=parseInt(g.css("margin-left"));if(y-v>b&&(m=v-y-parseInt(c.last().css("margin-right")),g.stop().animate({"margin-left":-m},d/10,u,function(){})),"init"==e&&s.slider){var x=t('<div class="carouselslider" />').appendTo(l);x.slider({step:100/h,slide:function(t,e){a(e.value)},stop:function(t,e){a(e.value)},change:function(){}})}if("init"==e&&touchdevice){var w,k=l.get(0);k.ontouchstart=function(t){_ipadY=t.targetTouches[0].pageY,_ipadX=t.targetTouches[0].pageX},k.ontouchmove=function(t){t.preventDefault(),!l.hasClass("inaction")&&Math.abs(_ipadY-t.targetTouches[0].pageY)<Math.abs(_ipadX-t.targetTouches[0].pageX)&&(window.clearTimeout(w),w=window.setTimeout(function(){var e=l.find(_ipadX-t.targetTouches[0].pageX<0?".toleft":".toright");e.length>0&&e.trigger("click")},20))}}}var s,r={T:touchdevice?350:800,A:touchdevice?"easeOutQuad":"easeOutQuad",slider:!1};s="string"!=typeof e?t.extend(r,e):r;var l=t(this),c=l.find(".iblock.preview"),h=c.length,d=s.T,u=s.A;"reinit"==e?n():i(),t("body").bind("changecolumns",function(){n()})})}}(jQuery),function(t){t.fn.mainpeoples=function(e){this.each(function(){function i(){fake_showcase=s.clone(),fake_showcase.find(".freshentry").remove(),fake_showcase.addClass("fake").appendTo(o),a("init")}function n(){a("reinit")}function a(e){var i=s.width(),n=4*i/9;s.children(".iblock").each(function(){{var i=t(this),a=i.position();i.width()}a.left<n?i.removeClass("tol").addClass("tor"):i.removeClass("tor").addClass("tol"),"init"==e&&(i.find(".mainperson").each(function(){var e=t(this),n=e.find(".freshentry"),a=e.children(".photo"),o=n.find(".photo");n.children().wrapAll('<div class="fe_bg"><div class="fe_cont"></div></div>');var r=t(".author, .when, .txt, .meta, .mediamenu",n);e.find(".mediamenu").length>0&&e.addClass("wmarg"),r.css("opacity",0),a.on("mouseenter",function(){a.css("z-index",100),e.css("z-index",99),s.find(".vis").each(function(){var e=t(this);e.children(".photo").css("z-index",""),e.css("z-index","").find(".author, .when, .txt, .meta, .mediamenu").stop().animate({opacity:0},100,"easeInCubic"),e.removeClass("vis").find(".freshentry").stop().animate({width:0},300,"easeOutQuad")});parseInt(o.css("border-top-width"));o.css("top",a.position().top),n.css(i.hasClass("tor")?{right:"auto",left:i.position().left-parseInt(o.css("left"))}:{left:"auto",right:s.width()-i.position().left-i.width()-parseInt(o.css("right"))-parseInt(o.css("border-right-width"))});var l=e.hasClass("wmarg")?"41.625em":"36.625em";i.hasClass("type2")&&(l=e.hasClass("wmarg")?"33.125em":"28.125em"),i.hasClass("type3")&&(l=e.hasClass("wmarg")?"28.4375em":"23.4375em"),n.stop().animate({width:l},300,"easeOutQuad",function(){r.animate({opacity:1},500,function(){a.css("z-index","")})}),e.addClass("vis"),t(document).off("mousemove.closefreshentry").on("mouseout.closefreshentry",function(e){t(e.target).parents(".vip_showcase").length<1&&s.find(".vis").each(function(){var e=t(this);e.children(".photo").css("z-index",""),e.css("z-index","").find(".author, .when, .txt, .meta, .mediamenu").stop().animate({opacity:0},100,"easeInCubic"),e.removeClass("vis").find(".freshentry").stop().animate({width:0},100,"easeOutQuad")})})}).on("mouseout",function(){}).on("click dblclick",function(t){t.preventDefault()})}),s.addClass("mp_ready"))})}var o=t(this),s=(o.find(".vip_sign"),o.find(".vip_showcase"));"reinit"==e?n():i(),t("body").bind("changecolumns",function(){n()})})}}(jQuery),function(t){t.fn.mainpreview=function(e){this.each(function(){function i(t){h.css("margin-top","0");for(var e=0,i=0,n=0;n<t.length;n++){var a=t[n][t[n].length-1];e=Math.max(a.sum,e),n>0&&n<t.length-1&&(i=Math.max(a.sum,i))}r.children(".rel").height(e),h.css({"margin-top":i-e+20})}function n(){t("a",h).click(function(e){e.preventDefault();var i=t(this);t.ajax({url:i.attr("href"),method:"GET",success:function(e){r.children(".rel").height("").append(t(e).html()),r.find(".iblock").cleanWS(),s("reinit"),r.trigger("change")}})}),s("init")}function a(){s("reinit")}function o(t,e,i){if(!d&&!u){u=!0;for(var n,a,s=0,r=0,l=0,c=0,h=0,p=0,f=0;f<t.length;f++){var m=t[f][t[f].length-1],g=m.sum;0==f?(r=g,s=g,l=0,c=0,a=m.obj,n=m.obj):(r>g&&(r=g,l=f,a=m.obj),g>s&&(s=g,c=f,n=m.obj))}var v=t[c][t[c].length-1],y=t[l][t[l].length-1],b=!1;if(v.sum-v.H>y.sum&&"mainsidebar"!=v.obj.attr("id")&&(b=!0),!b&&"mainsidebar"!=y.obj.attr("id")){for(var f=0;f<t.length;f++){var m=t[f][t[f].length-1],x=m.sum-m.H;0==f?(h=m.H,p=0):x>r&&(p=f)}var w=t[p][t[p].length-1];w.H<v.sum-y.sum&&w.sum-w.H>y.sum&&(v=w,n=v.obj,a=y.obj,c=p,b=!0)}if(b){var k=Math.abs(parseInt(a.css("margin-bottom")));n.css({left:240*(l-c),top:a.offset().top-n.offset().top+a.outerHeight()+k});var _=t[c].splice(t[c].length-1,1),C=t[l][t[l].length-1].sum;_[0].sum=C+_[0].H,t[l]?t[l][t[l].length]=_[0]:t[l]=_}if(!b&&"mainsidebar"!=v.obj.attr("id")&&"mainsidebar"!=y.obj.attr("id")&&"mainnewscolumn"!=v.obj.attr("id")&&"mainnewscolumn"!=y.obj.attr("id")&&v.H>y.H){var T=t[c].splice(t[c].length-1,1),P=t[l].splice(t[l].length-1,1),k=Math.abs(parseInt(P[0].obj.css("margin-bottom"))),S=parseInt(T[0].obj.css("left"))+240*(l-c),j=parseInt(T[0].obj.css("top"))+((t[l].length>0?t[l][t[l].length-1].sum:0)-(t[c].length>0?t[c][t[c].length-1].sum:0));T[0].obj.css({left:S,top:j});var k=Math.abs(parseInt(T[0].obj.css("margin-bottom"))),S=parseInt(P[0].obj.css("left"))+240*(c-l),j=parseInt(P[0].obj.css("top"))+((t[c].length>0?t[c][t[c].length-1].sum:0)-(t[l].length>0?t[l][t[l].length-1].sum:0));P[0].obj.css({left:S,top:j}),T[0].sum=(t[l].length>0?t[l][t[l].length-1].sum:0)+T[0].H,P[0].sum=(t[c].length>0?t[c][t[c].length-1].sum:0)+P[0].H,t[l]?t[l][t[l].length]=T[0]:t[l]=T,t[c]?t[c][t[c].length]=P[0]:t[c]=P}u=!1,e++,e<t.length?o(t,e,i):i||(e=0)}}function s(e){var n=r.find(".preview, .infinityitem");if(n.length<5)return!1;"reinit"==e&&n.css({"margin-top":""});var a=0,s=[],l=r.width(),h=Math.ceil(l/240),u=t("#mainsidebar"),p=t("#mainnewscolumn");r.closest("section").hasClass("content")||(s[h-1]=new Array({obj:u,H:u.outerHeight()-c.top+20,sum:u.outerHeight()-c.top+20}),s[h-2]=new Array({obj:p,H:p.outerHeight()-c.top+20,sum:p.outerHeight()-c.top+20})),n.css({position:"static",top:"",left:""}).each(function(){var e=t(this);if(!e.hasClass("preview"))return!1;e.css("position","relative");var i=e.position(),n=e.outerHeight(!0);i.top>a&&(a=i.top);var o=Math.round(i.left/240),r=s[o]&&s[o][s[o].length-1]?s[o][s[o].length-1].sum:0;s[o]?s[o].push({obj:e,id:e.data("maxid"),H:n,sum:r+n}):s[o]=new Array({obj:e,id:e.data("maxid"),H:n,sum:r+n}),e.css({"margin-top":-(i.top-r)})}),d=!1,o(s,0),i(s),t(window).load(function(){i(s)})}var r=t(this),l=r.children(".rel"),c=l.position(),h=r.find(".moregiant");h.css({position:"relative","margin-top":0,clear:"none","margin-bottom":0,width:500,left:"50%","margin-left":-250}),r.addClass("clearfix").css({"margin-bottom":"40px"});var d=!1,u=!1;"reinit"==e?a():n(),t(window).bind("load",function(){window.setTimeout(function(){a()},1e3)}),t("body").bind("changecolumns",function(){a()})})}}(jQuery),function(t){t.fn.bonustabs=function(){this.each(function(){var e=t(this),i=e.find(".tabopener"),n=450,a="easeOutQuad";i.on("click",function(i){if(i.preventDefault(),!t(this).hasClass("inaction")){var o=t(this),s=o.attr("href"),r=t(s),l=r.find(".cont");if(o.addClass("inaction"),r.hasClass("opened"))l.css("opacity",0),r.stop().animate({height:0},n,a,function(){t(this).removeClass("opened"),o.removeClass("inaction")});else{l.css("opacity",0),r.height("auto");var c=r.height();r.height(0),e.find(".opened").stop().animate({height:0},n/10,a,function(){t(this).removeClass("opened")}),r.stop().animate({height:c},n,a,function(){r.addClass("opened").height("auto"),o.removeClass("inaction")}),window.setTimeout(function(){l.animate({opacity:1},n/3,function(){})},n/4)}}}),e.find(".form").submit(function(e){var i=t(this);return i.data("valid",!1),i.formValidator(),i.data("valid")?!0:(e.preventDefault(),!1)})})}}(jQuery),function(t){t.fn.supermaincarousel=function(e){this.each(function(){function i(){s("init")}function n(){s("reinit")}function a(e,i){e.find(".iblock").each(function(e){var n=t(this),a=r.find(".slidestorage"),o=t(".iblock:eq("+(e+i)+")",a),s=o.children(".slide").clone(!0);s.addClass("opened").appendTo(n);n.find(".opened .info").on("mouseenter",function(){n.addClass("hover"),n.find(".text").stop().slideDown(300)}).on("mouseleave",function(){n.find(".text").stop().slideUp(200,function(){n.removeClass("hover")})})})}function o(e,i){e.html(""),i?(t('<div class="iblock type0" data-type="type0" />').appendTo(e),5>_columns?t('<div class="iblock type4" data-type="type4" />').appendTo(e):t('<div class="iblock type3" data-type="type3" /><div class="iblock type4" data-type="type4" />').appendTo(e)):5>_columns?t('<div class="iblock type1" data-type="type1" /><div class="iblock type2" data-type="type2" /><div class="iblock type4" data-type="type4" />').appendTo(e):t('<div class="iblock type1" data-type="type1" /><div class="iblock type2" data-type="type2" /><div class="iblock type3" data-type="type3" /><div class="iblock type4" data-type="type4" />').appendTo(e)}function s(e){if("init"==e){var i=t('<div class="slidesmask" />').appendTo(r),n=r.children(".iblock"),s=t('<div class="slidestorage" />').appendTo(r);n.appendTo(s),t(".iblock:first",s).hasClass("emergency")?o(i,!0):o(i,!1),a(i,0);var c=t('<div class="slidenav"><a href="#" class="toleft"><span class="wsico">&#x0033;</span></a><a href="#" class="toright"><span class="wsico">&#x0034;</span></a></div>').appendTo(r);if(c.find(".toright").on("click",function(e){if(e.preventDefault(),!r.hasClass("inaction")){r.addClass("inaction"),t(".iblock:first",s).appendTo(s);var i=r.find(".slidesmask"),n=t('<div class="slidesmask" />');i.before(n),t(".iblock:eq(0)",s).hasClass("emergency")?o(n,!0):o(n,!1),a(n,0),n.css({opacity:0,position:"absolute",top:0,left:0,"z-index":10});var c=n.find(".iblock"),h=i.find(".iblock"),d=t(".section, .info",h),u=h.find(".photo"),p=c.find(".photo");newtxt=t(".section, .info",c),p.css("margin-left","100%"),newtxt.css("opacity",0),d.stop().animate({opacity:0},100,function(){n.stop().animate({opacity:1},300,l),c.each(function(e){var i=t(this),a=i.find(".slide"),o=a.find(".photo"),s=t(".section, .info",a),h=o.data(i.data("type"))?o.data(i.data("type")):0;a.removeClass("opened"),o.stop().animate({"margin-left":h+"px"},550,l,function(){}),s.stop().animate({opacity:1},550,l,function(){e==c.length-1&&(n.css({position:"","z-index":"",left:"",top:""}),r.removeClass("inaction"))})}),u.each(function(e){var n=t(this);n.animate({"margin-left":-n.width()},550,l,function(){e==u.length-1&&i.remove()})})})}}),c.find(".toleft").on("click",function(e){if(e.preventDefault(),!r.hasClass("inaction")){r.addClass("inaction"),t(".iblock:last",s).prependTo(s);var i=r.find(".slidesmask"),n=t('<div class="slidesmask" />');i.before(n),t(".iblock:eq(0)",s).hasClass("emergency")?o(n,!0):o(n,!1),a(n,0),n.css({opacity:.5,position:"absolute",top:0,left:0,"z-index":10});var c=n.find(".iblock"),h=i.find(".iblock"),d=t(".section, .info",h),u=h.find(".photo"),p=c.find(".photo");newtxt=t(".section, .info",c),newtxt.css("opacity",0),p.each(function(){var e=t(this);e.css("margin-left",-e.width())}),d.stop().animate({opacity:0},100,function(){n.stop().animate({opacity:1},300,l),u.stop().animate({"margin-left":"100%"},500,l,function(){}),c.each(function(e){var a=t(this),o=a.find(".slide"),s=o.find(".photo"),h=t(".section, .info",o),d=s.data(a.data("type"))?s.data(a.data("type")):0;o.removeClass("opened"),s.stop().animate({"margin-left":d+"px"},550,l,function(){}),h.stop().animate({opacity:1},550,l,function(){e==c.length-1&&(n.css({position:"","z-index":"",left:"",top:""}),i.remove(),r.removeClass("inaction"))})})})}}),"init"==e&&touchdevice){var h,d=r.get(0);d.ontouchstart=function(t){_ipadY=t.targetTouches[0].pageY,_ipadX=t.targetTouches[0].pageX},d.ontouchmove=function(t){t.preventDefault(),!r.hasClass("inaction")&&Math.abs(_ipadY-t.targetTouches[0].pageY)<Math.abs(_ipadX-t.targetTouches[0].pageX)&&(window.clearTimeout(h),h=window.setTimeout(function(){var e=r.find(_ipadX-t.targetTouches[0].pageX<0?".toleft":".toright");e.length>0&&e.trigger("click")},20))}}"init"==e&&r.on("DOMMouseScroll mousewheel",function(t){return t.preventDefault(),r.hasClass("inaction")?void 0:(next=r.find(t.originalEvent.detail<0?".toleft":".toright"),void(next.length>0&&next.trigger("click")))})}else{var i=r.find(".slidesmask"),n=r.children(".iblock"),s=r.find(".slidestorage");t(".iblock:first",s).hasClass("emergency")?o(i,!0):o(i,!1),a(i,0)}}var r=t(this),l="easeOutQuad";"reinit"==e?n():i(),t("body").bind("changecolumns",function(){n()})})}}(jQuery),function(t){t.fn.onaircarousel=function(e){this.each(function(){function i(){a("init")}function n(){a("reinit")}function a(e){var i=new Date,n=i.getTimezoneOffset()/60;t.ajax({url:o.data("url"),type:"get",data:{timezone:n},cache:!1}).done(function(e){return t(e).appendTo(o),o.find(".iblock").cleanWS(),o.find(".carousel").notacarousel({slider:!0}),t("#fulldayswitcher a").on("click",function(e){e.preventDefault();var i=t(this).attr("href"),n=Math.floor((t(i).index()+_columns)/_columns);t(".carouselnav .slide:eq("+(n-1>0?n-1:0)+")",o).trigger("click")}),!1})}var o=t(this);"reinit"==e?n():i()})}}(jQuery),function(t){t.fn.initLive=function(){this.each(function(){var e,i=t(this),n=i.find(".playerbutton");n.on("click.firstclick",function(i){i.preventDefault();var n=t(this);e=window.open(n.attr("href"),"echoliveplayer","location=no,locationbar=no,chrome=yes,titlebar=yes,menubar=no,toolbar=no,resizable=yes,scrollbars=yes,personalbar=no,directories=no,status=no,width=800,height=820"),e.focus()})})}}(jQuery),function(t){t.fn.footOpen=function(){this.each(function(){var e=t(this),i=["\u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c","\u0441\u043a\u0440\u044b\u0442\u044c"],n=t(".info_partner_block");n.hide(),e.on("click",function(t){return t.preventDefault(),e.hasClass("show")?(e.find("span:last-child").text(i[0]),e.removeClass("show"),e.closest(".footer").height(400).prev().css({"padding-bottom":"450px"}),n.slideUp()):(e.find("span:last-child").text(i[1]),e.addClass("show"),e.closest(".footer").height(700).prev().css({"padding-bottom":"750px"}),n.slideDown()),!1})})}}(jQuery),function(t){t.fn.showSearch=function(){this.each(function(){var e,i=t(this),n=t(this).parent().find("form");i.on("mouseenter",function(t){t.preventDefault(),window.clearTimeout(e),e=window.setTimeout(function(){n.addClass("show")},500)}).on("mouseleave",function(){window.clearTimeout(e)}).on("click",function(t){t.preventDefault(),window.clearTimeout(e),n.addClass("show")}),n.find(".icmenu").on("click",function(t){return t.preventDefault(),n.removeClass("show"),!1})})}}(jQuery),function(t){t.fn.logoutForm=function(){this.each(function(){var e=t(this),i=t(".open_logout"),n=t(".logout-cont");e.on("click",function(){n.toggleClass("show"),i.toggleClass("show")})})}}(jQuery),function(t){passwordSwitcher(),t.fn.authForm=function(){this.each(function(){var e=t(this),i=t(".auth_popup");e.on("click",function(t){t.preventDefault(),i.addClass("show"),e.addClass("show");var n=i.find(".reg");return n.hasClass("open")?i.find(".formsholder").css("min-width",""):i.find(".formsholder").css("min-width",BODY.hasClass("widescreen")?"47.85em":"46.65em"),!1}),i.find(".close").on("click",function(t){return t.preventDefault(),i.removeClass("show"),e.removeClass("show"),!1}),i.find(".open_form").bind("click",function(e){e.preventDefault(),i.find(".form").removeClass("open"),i.find("form"+t(this).attr("href")).addClass("open");var n=t(this).parent();return n.hasClass("reg")&&(n.removeClass("open"),i.find(".auth").addClass("open"),i.find(".socialblock").removeClass("open"),i.find(".formsholder").css("min-width",BODY.hasClass("widescreen")?"47.85em":"46.65em")),n.hasClass("auth")&&(n.removeClass("open"),i.find(".reg").addClass("open"),i.find(".socialblock").addClass("open"),i.find(".formsholder").css("min-width","")),!1}),i.find(".form").submit(function(e){var i=t(this);return i.formValidator(),i.data("valid")?!0:(e.preventDefault(),!1)})})}}(jQuery),function(t){t.fn.sharePopup=function(){this.each(function(){function e(e){if(!e.hasClass("show")){var n=a.clone(!0),o=e.parent();o.append(n),n.show().addClass("shareClone"),e.addClass("show"),n.find("a").attr("href",e.data("url")),n.find("a").attr("title",e.data("title")),DOC.on("mouseover.share",function(e){var n=t(e.target);!n.hasClass("meta")&&!n.hasClass("shareClone")&&n.parents(".shareClone").length+n.parents(".share").length<1&&i()})}}function i(){t(".shareClone").each(function(){var e=t(this);e.siblings(".share").removeClass("show"),e.remove()}),DOC.off("mouseover.share")}var n,a=t(this);if(!a.hasClass("ready")){var o="http://twitter.com/home?status=%title% %url%",s="http://www.facebook.com/share.php?u=%url%&t=%title%",r="http://connect.mail.ru/share?url=%url%&title=%title&description=%description%",l="http://vkontakte.ru/share.php?url=%url%&title=%title%",c="http://www.livejournal.com/update.bml?subject=%title%&event=%description%<br><a>%url%</a>";a.find(".twitter").on("click",function(e){e.preventDefault(),window.open(encodeURI(o.replace(/\%url\%/,t(this).attr("href")).replace(/%title%/,""+t(this).attr("title"))))}),a.find(".facebook").on("click",function(e){e.preventDefault(),window.open(encodeURI(s.replace(/\%url\%/,t(this).attr("href")).replace(/%title%/,""+t(this).attr("title"))))}),a.find(".mailru").on("click",function(e){e.preventDefault(),window.open(encodeURI(r.replace(/\%url\%/,t(this).attr("href")).replace(/%title%/,""+t(this).attr("title"))))}),a.find(".vk").on("click",function(e){e.preventDefault(),window.open(encodeURI(l.replace(/\%url\%/,t(this).attr("href")).replace(/%title%/,""+t(this).attr("title"))))}),a.find(".lj").on("click",function(e){e.preventDefault(),window.open(encodeURI(c.replace(/\%url\%/,t(this).attr("href")).replace(/%title%/,""+t(this).attr("title"))))}),a.addClass("ready")
}DOC.off(".share").on("mouseenter.share click.share",".share",function(a){a.preventDefault();var o=t(this);o.siblings(".shareClone").length>0||(window.clearTimeout(n),i(),"click"!=a.type?n=window.setTimeout(function(){e(o)},1e3):e(o))}).on("mouseleave",".share",function(){window.clearTimeout(n)})})}}(jQuery),function(t){t.fn.comFunc=function(){this.each(function(){{var e=t(this),i=(t(".answform",e),t(".commBlock",e));t(".answ",i)}i.filter(".commBlock").first().find("form").each(function(){var e=t(this).find(".add-btn"),i=t(this).find("textarea");i.val().length<5&&e.hide(),i.focus(function(){i.bind("keyup",function(){i.val().length>=5?e.slideDown(300):e.slideUp(300)})}).focusout(function(){i.val().length<5&&e.slideUp(300)})}),e.find(".c_select").selectReplace()})}}(jQuery),function(t){t.fn.mmtabs=function(){this.each(function(){var e=t(this),i=e.children(".mediamenu"),n=e.children(".mmcontainer"),a=700,o="easeOutCubic",s=!1;t("a",i).click(function(e){e.preventDefault();var r=t(this);if(!r.hasClass(".current")&&!s){s=!0,t(".nota_jplayer").jPlayer("pause");var l=r.attr("href"),c=n.find(".current");c.find(".mmplayer").stop().slideUp(a,o,function(){c.removeClass("current")}),t(l).addClass("current").find(".mmplayer").stop().slideDown(a,o,function(){s=!1}),i.find(".current").removeClass("current"),r.addClass("current")}});var r=window.location.hash;r&&r.length>0&&(t("a[href="+r+"]",i).trigger("click"),t(window).scrollTo(".multimedia"))})}}(jQuery),function(t){t.fn.mediacarousel=function(e){this.each(function(){var i,n={T:600,A:"easeOutQuad",A_:"easeInQuad",pic:"img",title:"b",author:"i",prefix:"img",navvis:5};i="string"!=typeof e?t.extend(n,e):n;var a=t(this),o=t("img",a),s=0;a.css("opacity",0),a.wrap('<div class="'+i.prefix+'carouselwnd"><div class="'+i.prefix+'carouselwrp"><div class="'+i.prefix+'carouselfrm"></div></div></div>');var r=a.parents("."+i.prefix+"carouselwnd"),l=r.find("."+i.prefix+"carouselwrp"),c=t('<div class="'+i.prefix+'carouselnav" />').appendTo(r),h=a.clone(),d=t('<div class="loader" />').appendTo(r);a.bind("loaded",function(){function e(){d.remove(),h.css("opacity",1),a.css("opacity",1),t("li",h).each(function(e){var n=t(this);window.setTimeout(function(){t("img",n).animate({top:0},i.T/2,i.A,function(){t(this).removeClass("loading"),0==n.index()&&u.eq(0).trigger("click")})},200+150*e)})}var n=t('<div class="'+i.prefix+'sign"></div>').appendTo(l),o=t('<div class="'+i.prefix+'title"></div>').appendTo(n),s=t('<div class="'+i.prefix+'author"></div>').appendTo(n);h.appendTo(c);var u=t("li",h);if(t("img",u).addClass("loading"),u.each(function(e){var r=t(this);r.wrapInner('<span class="'+i.prefix+'previewframe" />'),r.data("LI",t("li:eq("+e+")",a)),r.bind("click",function(t){return t.preventDefault(),"run"==a.data("action")?!1:(a.data("action","run"),n.animate({opacity:0},i.T/2,i.A,function(){o.text(r.find(i.title).text()),s.text(r.find(i.author).text()),n.animate({opacity:1},i.T/2,i.A_,function(){a.data("action","stop")})}),a.add(c).find(".current").removeClass("current"),r.addClass("current"),void r.data("LI").addClass("current"))})}),h.children().length>i.navvis){h.addClass("full"),u.last().prependTo(h),e();var p=t('<span class="'+i.prefix+'prev" />').appendTo(c),f=t('<span class="'+i.prefix+'next" />').appendTo(c);p.bind("click",function(e){if(e.preventDefault(),"run"==a.data("action"))return!1;a.data("action","run");var n=t("li",h),o=i.navvis>1?n.slice(n.length-i.navvis,n.length-1):n.last(),s=o.clone(!0),r=0,l=h.position();o.each(function(){r+=t(this).outerHeight(!0)}),o.prependTo(h),s.appendTo(h),h.css("top",l.top-r).animate({top:l.top},1.5*i.T,i.A,function(){s.remove(),h.css("top",""),a.data("action","stop")})}),f.bind("click",function(e){if(e.preventDefault(),"run"==a.data("action"))return!1;a.data("action","run");var n=t("li",h),o=i.navvis>1?n.slice(0,i.navvis-1):n.first(),s=o.clone(!0),r=0,l=h.position();o.each(function(){r+=t(this).outerHeight(!0)}),o.appendTo(h),s.prependTo(h),h.animate({top:l.top-r},1.5*i.T,i.A,function(){s.remove(),h.css("top",""),a.data("action","stop")})})}else e();if(touchdevice){var m,g=c.get(0),v=r.get(0),y=l.get(0);v.ontouchstart=function(t){_ipadY=t.targetTouches[0].pageY,_ipadX=t.targetTouches[0].pageX},g.ontouchmove=function(t){t.preventDefault(),"run"!=a.data("action")&&Math.abs(_ipadY-t.targetTouches[0].pageY)>Math.abs(_ipadX-t.targetTouches[0].pageX)&&(window.clearTimeout(m),m=window.setTimeout(function(){f=c.find(_ipadY-t.targetTouches[0].pageY<0?"."+i.prefix+"prev":"."+i.prefix+"next"),f.length>0&&f.trigger("click")},20))},y.ontouchmove=function(e){e.preventDefault(),"run"!=a.data("action")&&Math.abs(_ipadY-e.targetTouches[0].pageY)<=Math.abs(_ipadX-e.targetTouches[0].pageX)&&(window.clearTimeout(m),m=window.setTimeout(function(){var i=h.find(".current");_ipadX-e.targetTouches[0].pageX<0?(f=i.prev(),f.length||(f=t("li:last",h))):(f=i.next(),f.length||(f=t("li:first",h))),f.length>0&&f.trigger("click")},20))}}l.on("DOMMouseScroll mousewheel",function(e){e.preventDefault();var i=h.find(".current");e.originalEvent.detail>0?(f=i.next(),f.length||(f=t("li:first",h))):(f=i.prev(),f.length||(f=t("li:last",h))),f.length>0&&f.trigger("click")}),c.on("DOMMouseScroll mousewheel",function(t){t.preventDefault(),f=c.find(t.originalEvent.detail<0?"."+i.prefix+"prev":"."+i.prefix+"next"),f.length>0&&f.trigger("click")})}),a.bind("checkload",function(){s++,s==o.length&&(a.unbind("checkload"),a.trigger("loaded"))}),o.each(function(){var e=t(this),i=new Image;i.src=e.attr("src"),t(i).bind("load",function(){e.data("loaded")||(e.data("w",e.width()).data("h",e.height()).data("loaded",!0),a.trigger("checkload"))});try{i.complete&&!e.data("loaded")&&t(i).trigger("load")}catch(n){}})})}}(jQuery),function(t){t.fn.letterlist=function(e){var i={inp:!1,spn:!1},n=t.extend(i,e);this.each(function(){function e(e){e=e.toLowerCase();for(var n=0;n<a.length;n++){a[n].li.data("hide",0);for(var o=0;o<a[n].words.length;o++){var s=a[n].words[o];s.span.data("title").indexOf(e)>-1?s.hide&&(s.span.removeClass("hidden"),s.hide=!1):(a[n].li.data("hide",1*a[n].li.data("hide")+1),s.hide=!0)}a[n].li.data("hide")==a[n].words.length?(a[n].li.addClass("hidden"),a[n].li.next().addClass("hidden")):(a[n].li.removeClass("hidden"),a[n].li.next().removeClass("hidden"))}0==i.children('div:not(".hidden")').length?(i.hide(),t(".noresult").show()):(i.show(),t(".noresult").hide())}if(!n.inp)return!1;if(n.inp=t(n.inp),!n.spn)return!1;var i=t(this),a=[];i.find("> div").each(function(){var e=t(this),i=[];t(this).find(n.spn).each(function(){var e=t(this),n=e.children("a"),a=n.length>0?a=n.text():e.text();e.data("title",a.toLowerCase()),i.push({span:e,hide:!1})}),e.data("hide",0),a.push({li:e,words:i})}),e(n.inp.val()),n.inp.bind("keyup",function(){e(t(this).val())}),n.inp.bind("keypress",function(i){return 13==i.keyCode?(n.inp.focus(),e(t(this).val()),!1):void 0})})}}(jQuery),function(t){t.fn.calendar=function(e){return this.each(function(){function i(){b.datepicker({showOtherMonths:!0,changeMonth:!0,changeYear:!0,maxDate:b.data("maxdate")||"+0d",beforeShow:function(){b.offset();setTimeout(function(){n()},100)},onChangeMonthYear:function(){setTimeout(function(){n()},100)}}),p=t("#ui-datepicker-div")}function n(){a(),o(),s(),r()}function a(){t(".b-calendar_month").length<1&&(t(".ui-datepicker-header").append(x),f=t(".b-calendar_month",b),g=t(".b-calendar_month-next",b),m=t(".b-calendar_month-prev",b),v=t(".b-calendar_month-name"),l=t(".b-calendar_year"),h=t(".b-calendar_year-next",b),c=t(".b-calendar_year-prev",b),d=t(".b-calendar_year-name"))}function o(){y=t(".ui-datepicker-month :selected",p).text(),v.text(y)}function s(){u=t(".ui-datepicker-year :selected",p).text(),d.text(u)}function r(){{var e=t(".b-calendar_month"),i=t(".b-calendar_month-next"),a=t(".b-calendar_month-prev"),o=(t(".b-calendar_month-name"),t(".b-calendar_year"),t(".b-calendar_year-next")),s=t(".b-calendar_year-prev");t(".b-calendar_year-name")}i.off("click.calendar").on("click.calendar",b,function(){var e=t(".ui-datepicker-month",p),i=1*e.val();e.get(0).selectedIndex=i<t("option",e).length-1?i+1:0,e.trigger("change"),n()}),a.off("click.calendar").on("click.calendar",b,function(){var e=t(".ui-datepicker-month",p),i=1*e.val();e.get(0).selectedIndex=i>0?i-1:t("option",e).length-1,e.trigger("change"),n()}),o.off("click.calendar").on("click.calendar",b,function(){if(t(".ui-datepicker-year option:selected",p).next().length<1)return!1;var i=t(".ui-datepicker-year option:selected",p).next().attr("value");t(".ui-datepicker-year",p).val(i).change(),e.trigger("change"),n()}),s.off("click.calendar").on("click.calendar",b,function(){if(t(".ui-datepicker-year option:selected",p).prev().length<1)return!1;var i=t(".ui-datepicker-year option:selected",p).prev().attr("value");t(".ui-datepicker-year",p).val(i).change(),e.trigger("change"),n()})}var l,c,h,d,u,p,f,m,g,v,y,b=t(this),x=(t.extend({},t.fn.calendar.defaults,e),'<div class="b-calendar_month"><div class="b-calendar_month-prev"></div><div class="b-calendar_month-name"></div><div class="b-calendar_month-next"></div></div><div class="b-calendar_year"><div class="b-calendar_year-prev"></div><div class="b-calendar_year-name"></div><div class="b-calendar_year-next"></div></div>');i(),n()})},t.fn.calendar.defaults={}}(jQuery),function(t){t.fn.descrOpen=function(){this.each(function(){var e=t(this),i=e.find(".hide"),n=i.closest(e).find(".liveprogrammes");i.click(function(e){return e.preventDefault(),t(this).hasClass("show")?(n.slideDown(600),t(this).removeClass("show")):(n.slideUp(600),t(this).addClass("show")),!1})})}}(jQuery),function(t){t.fn.votescharts=function(){this.each(function(){var e=t(this);e.find(".fill").each(function(e){var i=t(this);window.setTimeout(function(){i.width(i.data("size"))},200+2*e)})})}}(jQuery),function(t){t.fn.piechart=function(){this.each(function(){var e=t(this),i=e.siblings(".legend"),n=e.hasClass("halfpie")?!0:!1,a=[];t("li",i).each(function(e){a.push([""+(e+1),t(this).data("percent")])}),e.highcharts({colors:["#ea171e","#1d191a","#1d191a","#1d191a","#1d191a","#1d191a","#1d191a","#1d191a","#1d191a","#1d191a"],chart:{plotBackgroundColor:null,plotBorderWidth:0,plotShadow:!1},credits:{enabled:!1},title:{text:""},tooltip:{enabled:!1,pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},plotOptions:{pie:{dataLabels:{enabled:!0,distance:-70,style:{fontWeight:"bold",color:"white",fontSize:"18px",fontWeight:"bold",fontFamily:'"ProximaNova-Bold", sans-serif',textShadow:"0px 1px 2px black"}},size:n?"175%":"100%",endAngle:n?180:360,center:[n?0:"50%","50%"]}},series:[{type:"pie",data:a}]})})}}(jQuery),function(t){t.fn.calendarmonth=function(e){return this.each(function(){function i(){f.datepicker({dateFormat:"mm.yy",showOtherMonths:!0,selectOtherMonths:!0,changeMonth:!0,changeYear:!0,firstDay:new Date,maxDate:new Date,beforeShow:function(){f.offset();setTimeout(function(){n()},100)},onChangeMonthYear:function(){setTimeout(function(){n()},100)}}),p=t("#ui-datepicker-div")}function n(){a(),o(),s(),r()}function a(){if(0===t(".b-calendar_month").length){t(".ui-datepicker-header").append(m),t(".ui-datepicker").append(g);var e="";t(".ui-datepicker-month option").each(function(){e+='<div class="b-calendar_month-name" data-event="click" data-handler="selectMonth"><a href="#" class="ui-state-default">'+t(this).text()+"</a></div>"}),t("<div>"+e+"</div>").appendTo(".b-calendar_month"),t(".ui-datepicker-calendar").hide(),t(".ui-datepicker").css({"z-index":"11"}),t(".ui-datepicker").addClass("calendarmonth-datepicker"),l=t(".b-calendar_year"),h=t(".b-calendar_year-next",f),c=t(".b-calendar_year-prev",f),d=t(".b-calendar_year-name",p)}}function o(){t(".b-calendar_month-name:eq("+t(".ui-datepicker-month :selected",p).index()+")",p).find("a").addClass("ui-state-highlight")}function s(){u=t(".ui-datepicker-year :selected",p).text(),t(".b-calendar_year-name",p).text(u)}function r(){{var e=t(".b-calendar_month"),i=t(".b-calendar_month-name"),a=(t(".b-calendar_year"),t(".b-calendar_year-next")),o=t(".b-calendar_year-prev");t(".b-calendar_year-name",p)}i.off("click.calendar").on("click.calendar",f,function(){var e=(t(".ui-datepicker-month",p),t(this).index());t(".b-calendar_month-name a",p).removeClass("active"),t(this).find("a").addClass("active");var i=t(".ui-datepicker-month option:eq("+e+")",p).attr("value");t(".ui-datepicker-month",p).val(i).change(),t('.ui-datepicker-calendar td[data-month="'+i+'"]:eq(0)',p).click(),n()}),a.off("click.calendar").on("click.calendar",f,function(){if(t(".ui-datepicker-year option:selected",p).next().length<1)return!1;var i=t(".ui-datepicker-year option:selected",p).next().attr("value");t(".ui-datepicker-year",p).val(i).change(),e.trigger("change"),n()}),o.off("click.calendar").on("click.calendar",f,function(){if(t(".ui-datepicker-year option:selected",p).prev().length<1)return!1;var i=t(".ui-datepicker-year option:selected",p).prev().attr("value");t(".ui-datepicker-year",p).val(i).change(),e.trigger("change"),n()})}var l,c,h,d,u,p,f=t(this),m=(t.extend({},t.fn.calendarmonth.defaults,e),'<div class="b-calendar_year changeyear"><div class="b-calendar_year-prev"></div><div class="b-calendar_year-name"></div><div class="b-calendar_year-next"></div></div>'),g='<div class="b-calendar_month changemonth"></div>';return i(),n(),!1})},t.fn.calendarmonth.defaults={}}(jQuery),function(t){t.fn.calendaryear=function(e){return this.each(function(){function i(){d.datepicker({dateFormat:"yy",changeYear:!0,firstDay:new Date,maxDate:new Date,beforeShow:function(){d.offset();setTimeout(function(){n()},100)},onChangeMonthYear:function(){setTimeout(function(){n()},100)}}),h=t("#ui-datepicker-div")}function n(){a(),o(),s()}function a(){if(0===t(".b-calendar_year").length){t(".ui-datepicker").append(u),t(".ui-datepicker-header").hide(),t(".ui-datepicker-calendar").hide(),r=t(".b-calendar_year",d),l=t(".b-calendar_year-name",d);var e="";t(".ui-datepicker-year option").each(function(){e+='<div class="b-calendar_year-name" data-event="click" data-handler="selectYear"><a href="#" class="ui-state-default">'+t(this).text()+"</a></div>"}),t("<div>"+e+"</div>").insertBefore(".b-calendar_year-name"),t(".b-calendar_year div").find(".b-calendar_year-name:eq(14)").nextAll().remove();var i=t(".b-calendar_year > .b-calendar_year-name").clone();i.appendTo(".b-calendar_year > div"),t(".b-calendar_year > .b-calendar_year-name").remove(),t(".ui-datepicker").css({"z-index":"11"}),t(".ui-datepicker").addClass("calendaryear-datepicker")}}function o(){c=t(".ui-datepicker-year :selected",h).index(),t(".b-calendar_year-name").eq(c).find("a").addClass("ui-state-highlight")}function s(){var e=(t(".b-calendar_year"),t(".b-calendar_year-name"),t(".ui-datepicker-month"));DOC.off("click.calendar").on("click.calendar",".b-calendar_year-name",function(){t(".b-calendar_year-name a").removeClass("active"),t(this).find("a").addClass("active");var i=t(this).index(),a=t(".ui-datepicker-year option:eq("+i+")",h).attr("value");t(".ui-datepicker-year",h).val(a).change(),d.val(a).change(),d.datepicker("hide"),e.trigger("change"),n()})}var r,l,c,l,h,d=t(this),u=(t.extend({},t.fn.calendaryear.defaults,e),'<div class="b-calendar_year year_calendar"><div class="b-calendar_year-name"><a href="#" class="ui-state-default">. . .</a></div></div>');i(),n()})},t.fn.calendaryear.defaults={}}(jQuery),function(t){t.fn.calendarweek=function(e){return this.each(function(){function i(){x.datepicker({showOtherMonths:!0,changeMonth:!0,changeYear:!0,firstDay:new Date,maxDate:new Date,beforeShow:function(){x.offset();setTimeout(function(){n()},100)},onChangeMonthYear:function(){setTimeout(function(){n()},100)}}),p=t("#ui-datepicker-div")}function n(){a(),o(),s(),r()}function a(){0===t(".b-calendar_month").length&&(t(".ui-datepicker-header").append(w),f=t(".b-calendar_month",x),g=t(".b-calendar_month-next",x),m=t(".b-calendar_month-prev",x),v=t(".b-calendar_month-name"),l=t(".b-calendar_year"),h=t(".b-calendar_year-next",x),c=t(".b-calendar_year-prev",x),d=t(".b-calendar_year-name"),t(".ui-datepicker-calendar").hide(),t.ajax({url:x.data("ajax"),method:"GET",success:function(e){t(e).insertAfter(t(".ui-datepicker-calendar")).fadeIn("slow")}}),b=t(".b-calendar_week-name"),t(".ui-datepicker").css({"z-index":"11"}),t(".ui-datepicker").addClass("calendarweek-datepicker"))}function o(){y=t(".ui-datepicker-month :selected",p).text();var e=t(".ui-datepicker-month :selected",p).prev().text();v.text(e.length>0?e+" - "+y:y)}function s(){u=t(".ui-datepicker-year :selected",p).text(),d.text(u)}function r(){{var e=t(".b-calendar_month"),i=t(".b-calendar_month-next"),a=t(".b-calendar_month-prev"),o=(t(".b-calendar_month-name"),t(".b-calendar_year"),t(".b-calendar_year-next")),s=t(".b-calendar_year-prev");t(".b-calendar_year-name"),t(".b-calendar_week-name")}i.off("click.calendar").on("click.calendar",x,function(){var e=t(".ui-datepicker-month",p),i=1*e.val();e.get(0).selectedIndex=i<t("option",e).length-1?i+1:0,e.trigger("change"),n()}),DOC.off("click.calendar").on("click.calendar",".b-calendar_week-name",function(){t(".b-calendar_week-name a").removeClass("active"),t(this).find("a").addClass("active");var e=t(".ui-datepicker-year :selected",p).val(),i=t(this).text();x.val(""+e+". "+i),x.trigger("change"),x.datepicker("hide"),n()}),a.off("click.calendar").on("click.calendar",x,function(){var e=t(".ui-datepicker-month",p),i=1*e.val();e.get(0).selectedIndex=i>0?i-1:t("option",e).length-1,e.trigger("change"),n()}),o.off("click.calendar").on("click.calendar",x,function(){if(t(".ui-datepicker-year :selected",p).next().length<1)return!1;var i=t(".ui-datepicker-year :selected",p).next().attr("value");t(".ui-datepicker-year",p).val(i).change(),e.trigger("change"),n()}),s.off("click.calendar").on("click.calendar",x,function(){if(t(".ui-datepicker-year :selected",p).prev().length<1)return!1;var i=t(".ui-datepicker-year :selected",p).prev().attr("value");t(".ui-datepicker-year",p).val(i).change(),e.trigger("change"),n()})}var l,c,h,d,u,p,f,m,g,v,y,b,x=t(this),w=(t.extend({},t.fn.calendarweek.defaults,e),'<div class="b-calendar_month"><div class="b-calendar_month-prev"></div><div class="b-calendar_month-name"></div><div class="b-calendar_month-next"></div></div><div class="b-calendar_year"><div class="b-calendar_year-prev"></div><div class="b-calendar_year-name"></div><div class="b-calendar_year-next"></div></div>');i(),n()})},t.fn.calendarweek.defaults={}}(jQuery),function(t){t.fn.uipopup=function(){this.each(function(){t(this).on("click",function(e){e.preventDefault();var i=t(this),n=t(".uipopupcontainer");n.length<1&&(n=t('<div class="uipopupcontainer hidden"></div>').appendTo("body")),n.dialog({heigth:595,width:700,modal:!0,draggable:!1,resizable:!1,dialogClass:"popup2",title:i.data("title"),open:function(){t.ajax({url:i.attr("href"),method:"GET",success:function(t){n.html(t)}}),n.removeClass("hidden"),window.setTimeout(function(){n.dialog("option","position",{my:"center",at:"center",of:window})},250)},close:function(){n.dialog("destroy").remove()}})})})}}(jQuery),function(t){t.fn.popupList=function(){this.each(function(){var e=t(this);t("body").append('<div class="popupList hidden"></div>');var i=t(".popupList"),n='<form class="searchform form" action="." method="get"><fieldset><input type="search" value="" id="psearch" name="q" placeholder="\u043f\u043e\u0438\u0441\u043a \u043f\u0435\u0440\u0441\u043e\u043d\u044b \u043f\u043e \u0438\u043c\u0435\u043d\u0438 \u0438 (\u0438\u043b\u0438) \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438"><button value="1" disabled="disabled" type="submit"><span class="wsico lite">&#x21;</span></button></fieldset></form>';return i.append(n),t.ajax({url:e.attr("href"),method:"GET",success:function(e){i.append(t(e)),t("#personList").letterlist({inp:"#psearch",spn:".about .name, .about .post "}),setSlider(t("#personList"))}}),i.dialog({heigth:595,width:700,modal:!0,draggable:!1,resizable:!1,dialogClass:"popup2",title:e.data("title"),open:function(){i.removeClass("hidden"),i.dialog("option","position",{my:"center",at:"center",of:window})},close:function(){i.dialog().remove()}}),!1})}}(jQuery),function(t){t.fn.faq=function(){this.each(function(){var e=t(this);e.find(".qa_q a").on("click",function(e){e.preventDefault(),t(this).parents(".qa_question:eq(0)").toggleClass("qa_open")}),e.find(".all").on("click",function(t){t.preventDefault(),e.find(".qa_question").addClass("qa_open")})})}}(jQuery),function(){var t=$(".js-like-button");t.each(function(t,e){var i=$(e),n=$(".js-like-button-count",i),a=i.data("active"),o=i.data("src");a&&i.addClass("_active"),i.on("click",function(t){t.preventDefault(),$.getJSON(o,function(t){t.activated?i.addClass("_active"):i.removeClass("_active"),n.text(t.count)})})})}(),function(){var t=$(".js-recom-button");t.each(function(t,e){var i=$(e),n=$(".js-recom-button-text",i),a=i.data("active"),o=i.data("src"),s=i.data("recom-active-text"),r=i.data("recom-unactive-text");a?(i.addClass("_active"),n.text(s)):n.text(r),i.on("click",function(t){t.preventDefault(),$.getJSON(o,function(t){t.activated?(i.addClass("_active"),n.text(r)):(i.removeClass("_active"),n.text(s))})})})}(),_MOBILEPOPUP={link:"http://m.echo.msk.ru/",text:"\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0435\u0440\u0435\u0439\u0442\u0438<br />\u043d\u0430 \u043c\u043e\u0431\u0438\u043b\u044c\u043d\u0443\u044e \u0432\u0435\u0440\u0441\u0438\u044e \u0441\u0430\u0439\u0442\u0430",yes:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438",no:"\u041e\u0442\u043a\u0430\u0437\u0430\u0442\u044c\u0441\u044f",id:"goToMobilePopUp",returntimeout:18e5};var ref=document.referrer;if(ref&&!getValue("nomobiletimeout")){var refparts=parseURL(ref),mobparts=parseURL(_MOBILEPOPUP.link);refparts.host==mobparts.host&&(setValue("nomobiletimeout",(new Date).getTime()),setValue("nomobile","2"))}testDevice(),ready(myAlert),$(function(){$(".settings").settingsform(),$(".removeentry").removeentry()}),function(t){t.fn.settingsform=function(){this.each(function(){var e=t(this);t(".fieldspopup").each(function(){var e=t(this),i=t('a[href="#'+e.attr("id")+'"]');e.css("display","none"),i.on("click",function(i){i.preventDefault(),e.find(".success").remove(),e.slideDown(200,function(){t(":input",e).prop("disabled",!1),t(document).off(".fieldspopup").on("click.fieldspopup",function(i){t(i.target).parents("#"+e.attr("id")).length<1&&(e.css("display","none"),e.find(".success").remove(),t(":input",e).prop("disabled",!0),t(document).off(".fieldspopup"))})})}),e.hasClass("changepassword")&&(e.find(".error").css("display","none"),e.find(".button").on("click",function(i){i.preventDefault(),e.find(".error").css("display","none"),e.find(".success").remove();var n=e.find(".inpresetpassword"),a=n.val();a.length<1?e.find(".required").css("display","block"):a.length<6?e.find(".validate").css("display","block"):(e.find(".error").css("display","none"),t.ajax({url:e.data("path"),data:t(":input",e).serialize(),method:"POST",success:function(e){var i=t(e);n.after(i)}}))})),e.hasClass("changeemail")&&(e.find(".error").css("display","none"),e.find(".button").on("click",function(i){i.preventDefault(),e.find(".error").css("display","none"),e.find(".success").remove();var n=e.find(".inpresetemail"),a=n.val();a.length<1?e.find(".required").css("display","block"):/^([a-z0-9_\-]+\.)*[a-z0-9_\-]+@([a-z0-9][a-z0-9\-]*[a-z0-9]\.)+[a-z]{2,4}$/i.test(a)?(e.find(".error").css("display","none"),t.ajax({url:e.data("path"),data:t(":input",e).serialize(),method:"POST",success:function(e){var i=t(e);n.after(i)}})):e.find(".validate").css("display","block")}))}),e.on("submit",function(){var e=t(this);return e.formValidator(),e.data("valid")?!0:(t.scrollTo(e),!1)})})}}(jQuery),function(t){t.fn.removeentry=function(){this.each(function(){var e=t(this),i=e.children("a"),n=e.children(".confirm"),a=e.find(".cancel"),o=e.find(".ok"),s=e.parents(".entry:eq(0)");i.on("click",function(e){e.preventDefault(),n.slideDown(200,function(){t(document).off(".confirm").on("click.confirm",function(e){t(e.target).parents(".confirm").length<1&&(n.css("display","none"),t(document).off(".confirm"))})})}),a.on("click",function(e){e.preventDefault(),n.css("display","none"),t(document).off(".confirm")}),o.on("click",function(e){e.preventDefault(),t.ajax({url:t(this).attr("href"),method:"GET",success:function(){s.addClass("remove").animate({opacity:0},400,function(){s.remove()})}}),n.css("display","none"),t(document).off(".confirm")})})}}(jQuery),$(document).ready(function(){void 0!=window.echoInit&&window.echoInit(),$(".cont_tab[data-selected]").each(function(){var t=$(this),e=t.attr("data-selected");t.find("a[data-key='"+e+"']").each(function(){$(this).addClass("current")})}),function(){var t="/elements/"+$("body").attr("data-main")+"/comments_page/",e=$(".commentPage .pager a");if(e.size()>0){var i=window.location.hash;e.find('a[href="'+i+'"]').each(function(){$(this).trigger("click")}),i.match(/^#cmnt-/)&&$.get(t+i.substr(1)+".html",function(t){$(".commentPage").html(t),window.location.hash=i})}$(document).on("click",".commentList .pager a.ajax",function(e){var i=$(this);$.get(t+i.attr("name")+".html",function(t){$(".commentPage").html(t),window.location.hash="#comments"}),e.preventDefault()}),$(".c_select").change(function(){var e=$(this).find("option:selected").val();switch(e){case"full":window.location.assign($(".com_titl h2 a").attr("href"));break;case"all":window.location.reload(),window.location.hash="#comments";break;case"answered":window.location.assign($("div.conthead a.right").attr("href"));break;case"queue":window.location.assign($("div.conthead a.right").attr("href")+"queue");break;default:$("div.commentPage").load(t+e+".html",function(){window.location.hash="#comments"})}})}(),function(){function t(t){t.hasClass("flag")&&t.html(t.hasClass("on-state")?"(\u0412\u044b \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u043b\u0438\u0441\u044c)":"\u041f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c\u0441\u044f"),t.hasClass("like")&&t.parent().find("div.likeList").load(t.attr("href"))}$("a.like, a.recom").on("switch",function(t,e){var i=$(this);1==e?i.addClass("on-state"):i.removeClass("on-state")}),$("a.like").on("switch",function(t,e,i){if(i){var n=$(this);n.html('<span class="wsico">&nbsp;</span>'+i),n.parent().find("div.likeList").load(n.attr("href"))}}),$("a.recom").on("switch",function(t,e){var i=$(this);i.html(1==e?'<span class="wsico">&nbsp;</span>\u043d\u0435 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u043e\u0432\u0430\u0442\u044c':'<span class="wsico">&nbsp;</span>\u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u043e\u0432\u0430\u0442\u044c')}),$(document).on("click","a.like, a.recom, a.flag, a.foe",function(e){var i=$(this),n={state:0,_method:"put"};if(i.hasClass("on-state"))n.state=0;else{if(i.hasClass("flag")&&!confirm("\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c\u0441\u044f?"))return void e.preventDefault();n.state=1}$.post(i.attr("href"),n,function(e){e.error?alert(e.error):i.hasClass("like")||i.hasClass("recom")?$('[href="'+i.attr("href")+'"]').trigger("switch",[e.state,e.count]):(1==e.state?i.addClass("on-state"):i.removeClass("on-state"),t(i))},"json"),e.preventDefault()}),$(document).on("click","a.hide",function(t){var e=$(this),i={};e.hasClass("delete")&&(i._method="delete"),$.post(e.attr("href"),i,function(t){e.parents("div.onecomm").first().replaceWith($(t).find("div.onecomm"))},"html"),t.preventDefault()}),$(document).on("click","a.ban-request",function(t){var e=$(this);confirm("\u041f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u0442\u044c \u0437\u0430\u0431\u0430\u043d\u0438\u0442\u044c \u044d\u0442\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f?")&&$.post(e.attr("href"),function(t){t.error?alert(t.error):(e.hide(),alert("\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e"))},"json"),t.preventDefault()});var e=$.data(document.body,"user")||{},i=e.access_level||0;6>i&&e.own_id&&$("div.blog").attr("data-creator")==e.own_id&&(i=6),e.liked&&$.each(e.liked,function(t,e){$('a[href="/likes/'+e+'/"]').trigger("switch",[1])}),e.foes&&$.each(e.foes,function(t,e){$("#foe"+e).addClass("on-state"),$('[data-author="'+e+'"]').each(function(){var t=$(this);t.html(t.hasClass("bcast-q")?"(\u0432\u043e\u043f\u0440\u043e\u0441 \u043f\u0440\u043e\u0438\u0433\u043d\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u043d)":"(\u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043f\u0440\u043e\u0438\u0433\u043d\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u043d)")})}),$(document).on("mouseover",".onecomm.to-load",function(){var n=$(this);n.removeClass("to-load");var a=n.attr("data-author"),o=n.attr("data-mlevel"),s=n.find("div.morelink"),r=n.hasClass("cmnt-hidden"),l=n.find(".author .about");if(e.own_id!=a){if(e.liked.indexOf(s.attr("id"))>=0){var c=s.find("a.like");c.addClass("on-state").attr("title","\u0412\u044b \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0430\u043b\u0438"),t(c)}if(3==o&&o++,i>=3&&6>i&&(s.append('<a ref="nofollow" href="/flags/'+s.attr("id")+'" class="red flag">\u041f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c\u0441\u044f</a>'),e.flagged.indexOf(s.attr("id"))>=0)){var h=s.find("a.flag");h.addClass("on-state"),t(h)}}i>3&&i>o&&(s.append(r?'<a rel="nofollow" href="/moderate/comments/'+s.attr("id")+'/unhide.html" class="red hide">(\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c)</a>':'<a rel="nofollow" href="/moderate/comments/'+s.attr("id")+'/hide.html" class="red hide">(\u0421\u043a\u0440\u044b\u0442\u044c)</a>'),6>i?l.size()>0&&e.own_id!=a&&s.append('<a rel="nofollow" href="/moderate/comments/'+s.attr("id")+'/ban_request.html" class="red ban-request">(\u041f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u0442\u044c \u0431\u0430\u043d)</a>'):(s.append('<a rel="nofollow" href="/moderate/comments/'+s.attr("id")+'.html" class="red hide delete">(\u0423\u0434\u0430\u043b\u0438\u0442\u044c)</a>'),l.size()>0&&s.append('<a rel="nofollow" href="/moderate/comments/'+s.attr("id")+'/ban.html" class="red hide">(\u0417\u0430\u0431\u0430\u043d\u0438\u0442\u044c)</a>'))),i>3&&0==l.size()&&s.append("<strong>(\u0417\u0430\u0431\u0430\u043d\u0435\u043d)</strong>")})}(),$(document).on("click",".answ",function(t){var e=$(this),i=e.parents("div.onecomm").first();i.find(".error").remove(),i.find("div.answform").size()>0?$(".answform").remove().appendTo($(".commentPage")).hide():($(".answform").remove().appendTo(i).show(),$(".answform input#comment_parent_id").val(e.attr("data-parent-id"))),t.preventDefault()}),$(document).on("ajax:success",".add-comm form",function(t,e){var i=$(e),n=$(this);n.parent().find(".error").remove(),i.hasClass("error")?n.before(i):(n.find("#qa_answer").size()>0?n.parents(".commBlock").first().replaceWith(i):n.find("#comment_parent_id").size()>0?(i.insertAfter(n.parents(".onecomm").first()),$(".answform").remove().appendTo($(".commentPage")).hide()):i.prependTo($("div.commentPage")),n.find("textarea").val(""))}),$(document).on("click",".qa-reply",function(t){t.preventDefault(),$(this).closest(".commBlock").find(".answform").toggle()}),$(document).on("ajax:success","a.qa-moderate",function(t,e){t.preventDefault(),$(this).closest(".commBlock").parents(".commBlock").first().replaceWith(e)}),function(){var t=$("div.avatar#setavatar");$(".fileupload input[type=file]").on("change",function(){var e=new FormData;e.append(this.name,this.files[0]),$.ajax({url:$(this).data("path"),method:"POST",data:e,cache:!1,contentType:!1,processData:!1,error:function(){alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0444\u0430\u0439\u043b\u0430")},success:function(e){$(".pic",t).html(e),$("a.delete",t).show()}})}),$(document).on("ajax:success","div.avatar#setavatar a.delete",function(e,i){$(".pic",t).html(i),$(this).hide()})}(),$(".filtrsearch input").click(function(){$("#search_cond_what").val($(this).val())}),$("select.c_select#search_cond_when").change(function(){$("form#search_when").submit()}),$("a.calend input.calendar").on("change",function(){var t=$(this),e=t.closest("form"),i=e.data("format");if(i){var n=t.val().split(".").reverse(),a=e.attr("action");switch(i){case"schedule":e.attr("action",a+n.join("-")+".html");break;case"news":e.attr("action",a+n.join("/")+".html")}}e.submit()}),$(".mainpreview").on("change",function(t){var e=$(this),i=$("span[data-more]",e);t.preventDefault(),i.length>0?($(".moregiant a[href]",e).attr("href",i.data("more")),i.remove()):$(".moregiant",e).remove()}),$(document).delegate("[data-remote].replace-me","ajax:success",function(t,e){$(this).replaceWith(e)}),$(function(){$(".js-tabs").tabs(),$(".js-top-7").masonry({itemSelector:".js-top-7-item",columnWidth:220,gutter:20})
}),$(function(){function t(){$("#user_club_req").attr("checked")?$(".club_only").show():$(".club_only").hide()}t(),$("#user_club_req").on("change",function(){t()})}),""!=$("body").data("main")&&$.ajax({url:"/assets/counters.js",async:!0,cache:!1,data:{main:$("body").data("main")}}),$("form.voteform").submit(function(){var t=$(this).find(".free_answer");return t.size()>0&&""!=t.val()?!0:0==$(this).find("span.checked").size()?(alert("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0430\u0448 \u0432\u0430\u0440\u0438\u0430\u043d\u0442 \u043e\u0442\u0432\u0435\u0442\u0430"),!1):!0}),$("blockquote.tw").each(function(){var t=$(this),e=window.location.href,i=t.text();i.length>120||(t.append('<span class="twitter-share-button"><span class="social_block"><span class="iblock tw_sharer"><a class="ico tw tw_btn" href="http://twitter.com/share?url='+e+"&text="+encodeURIComponent(i)+'" target="_blank" title="Retweet"><strong class="wsico">Q</strong><span class="soc_num">?</span></a></span></span></span>'),$.getJSON("http://urls.api.twitter.com/1/urls/count.json?url="+e+"&callback=?",function(t){$("span.soc_num").html(t.count)}))}),$(".notifications a.close").on("click",function(t){t.preventDefault(),$(this).closest(".notifications").fadeOut()}),function(){if("undefined"!=typeof sched_current&&sched_current&&sched_now){var t;for(t=0;t<sched_current.length;t+=1){var e=sched_current[t];if(sched_now>=e[0]){$(".liveprogtitle").html(e[1]);break}}}}()});