
<!doctype html>
<html ⚡="">
<head>
    <meta charset="utf-8">
    <title>Зрячая математика. Как смартфоны научились снимать не хуже зеркальных камер — Блоги — Эхо Москвы, 04.12.2019</title>

    <link rel="canonical" href="https://echo.msk.ru/blog/nplus1/2548433-echo/">
    <link rel="icon" href="https://echo.msk.ru/favicon.ico?echo" type="image/x-icon">
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
    <meta name="description" content="Развитие возможностей смартфонов в области фотографии пошло по другому пути. Не так важно, какая у вас стоит камера, куда важнее, какие алгоритмы ею управляют…">


    <script async="" src="https://cdn.ampproject.org/v0.js"></script>

    <style amp-boilerplate="">body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style>
    <noscript>
        <style amp-boilerplate="">body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style>
    </noscript>

    <script async="" custom-element="amp-sidebar" src="https://cdn.ampproject.org/v0/amp-sidebar-0.1.js"></script>
    <script async="" custom-element="amp-accordion" src="https://cdn.ampproject.org/v0/amp-accordion-0.1.js"></script>
    <script async="" custom-element="amp-ad" src="https://cdn.ampproject.org/v0/amp-ad-0.1.js"></script>
    <script async="" custom-element="amp-analytics" src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js"></script>
    <script async="" custom-element="amp-twitter" src="https://cdn.ampproject.org/v0/amp-twitter-0.1.js"></script>
    <script async="" custom-element="amp-instagram" src="https://cdn.ampproject.org/v0/amp-instagram-0.1.js"></script>
    <script async="" custom-element="amp-facebook" src="https://cdn.ampproject.org/v0/amp-facebook-0.1.js"></script>
    <script async="" custom-element="amp-youtube" src="https://cdn.ampproject.org/v0/amp-youtube-0.1.js"></script>
    
    <script async="" custom-element="amp-addthis" src="https://cdn.ampproject.org/v0/amp-addthis-0.1.js"></script>
    <!-- <script async="" custom-element="amp-vk" src="https://cdn.ampproject.org/v0/amp-vk-0.1.js"></script> -->
    <script async="" custom-element="amp-iframe" src="https://cdn.ampproject.org/v0/amp-iframe-0.1.js"></script>
    
    

    <style amp-custom="">
@font-face{font-family:"echo_font";src:url("https://2.cdn.echo.msk.ru/fonts/echo_font-v9.ttf")}body{font-size:16px;font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"}h1{font-size:24px;margin:1em 0}p{margin:1em 0;line-height:24px}.wsico{font-family:'echo_font';font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.ampstart-headerbar{display:flex;align-items:center;background-color:#fff;box-shadow:0 0 5px 2px rgba(0,0,0,0.1);height:50px;padding:10px 20px}.ampstart-headerbar a{margin-right:auto;margin-left:auto}.ampstart-navbar-trigger{font-size:24px;outline:none;cursor:pointer}main{max-width:700px;margin:0 auto}main article{margin:20px}.ampstart-sidebar{background-color:#000;padding:20px;color:#fff;font-size:14px;width:200px}.ampstart-sidebar a{color:#fff;text-decoration:none;line-height:2}.ampstart-sidebar ul{list-style-type:none;padding:0}.ampstart-sidebar ul ul{padding-left:10px;font-size:12px}.ampstart-nav-dropdown header{background-color:transparent;padding:0;border:none;outline:none}.ampstart-subtitle{text-transform:uppercase;font-size:12px;color:#999;margin:1em 0}.ampstart-subtitle a{color:inherit}.ampstart-nav-dropdown header{position:relative}.ampstart-nav-dropdown header::after{content:"▶";position:absolute;right:0;line-height:28px;font-size:12px}.ampstart-nav-dropdown header[aria-expanded=true]::after{content:"▼"}.article-date{color:#959595;font-size:12px}.article-date span{color:#ed1c24}.program-header{margin:2em 0;text-align:center;line-height:1.4;padding-bottom:2em;border-bottom:1px solid #999}.program-guest__item{display:block;margin-bottom:1em;text-decoration:none;color:inherit}.program-guest__title{display:block;color:#999;text-transform:uppercase;font-size:10px;margin-bottom:0.5em}.program-guest__name{display:block;font-size:18px}.program-guest__about{display:block;font-size:12px}.program-host__title{margin-top:2em;margin-bottom:0.5em;color:#999;text-transform:uppercase;font-size:10px}.program-host__name{font-size:18px}.program-host__name a{text-decoration:none;color:inherit}amp-addthis{margin:0 10px}amp-audio,amp-youtube,amp-iframe{margin:1em 0}.blockquote{margin:2em;text-align:center;font-family:Georgia, 'Times New Roman', serif;font-style:italic;position:relative;color:#555}.blockquote::before{content:"";width:2em;border-bottom:1px solid #555;position:absolute;top:-1em;left:50%;margin-left:-1em}.blockquote::after{content:"";width:2em;border-top:1px solid #555;position:absolute;bottom:-1em;left:50%;margin-left:-1em}.mainslider__item{position:relative}.mainslider__category{position:absolute;top:20px;left:20px;z-index:3;color:#fff;background:#ed1c24;padding:4px 8px;font-size:10px;line-height:12px;text-transform:uppercase;white-space:nowrap;text-shadow:0 0 1px rgba(200,200,200,0.5);text-decoration:none}.mainslider__text{z-index:3}.mainslider__info{z-index:2;position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;justify-content:flex-end;padding:20px;color:#fff;text-decoration:none}.mainslider__info::after{content:"";position:absolute;left:0;right:0;top:0;bottom:0;background-color:rgba(0,0,0,0.5)}.mainslider__datetime{font-size:10px;color:#ed1c24;margin-top:1em;z-index:3}.newslist{margin:20px}.newslist__title{font-size:21px;font-weight:normal}.newslist__item{border-bottom:1px solid #d6d6d6;padding-bottom:1em;padding-top:1em;font-size:14px;line-height:22px;margin:0}.newslist__item-title{font-size:14px;font-weight:bold;margin:0}.newslist__item-title a{color:#000;text-decoration:none}.newslist__item-datetime{color:#ed1c24;font-size:12px;font-weight:normal}.newslist__more{margin:1em 0 0}.newslist__more a{text-decoration:none;font-size:14px;font-weight:bold;color:#000}.newslist__item-special{line-height:12px;padding:4px 8px;font-size:10px;text-transform:uppercase;background-color:#ed1c24;color:#fff;margin-bottom:8px;display:inline-block}.preview__title{font-size:21px;font-weight:bold;margin:40px 20px 20px;font-weight:normal}.preview__list{list-style:none;margin:20px;padding:0}.preview__item{margin:0;padding:20px;background-color:#fff}.preview__item.bdjhot{border-top:3px solid #ed1c24}.preview__item.bdjnew{position:relative}.preview__item.bdjnew::before{position:absolute;top:0;right:0;content:'';width:0;height:0;border-style:solid;border-width:13px 0 0 13px;border-color:transparent transparent transparent #ed1c24;background-color:#f2f2f2}.preview__item+.preview__item{margin-top:20px}.preview__item-section{text-transform:uppercase;font-size:10px;font-weight:bold;margin-bottom:20px}.preview__item-section a{color:#000;text-decoration:none}.preview__item-section .red{color:#ed1c24}.preview__item-section .lite{color:#959595;font-weight:normal;text-transform:none}.preview__item-section .lite::before{content:"/";padding-right:5px;margin-left:5px}.preview__item-company-logo{display:flex;justify-content:space-between;align-items:center;font-size:0;margin-bottom:20px}.preview__item-company-logo::before{content:"";border:0.5px solid;margin-right:10px;width:50%}.preview__item-company-logo::after{content:"";border:0.5px solid;margin-left:10px;width:50%}.preview__item-author{display:flex;flex-flow:row wrap;margin-bottom:20px;font-size:12px;color:#000;text-decoration:none}.preview__item-author a{color:inherit;text-decoration:none}.preview__item-author-photo{flex-shrink:1;margin-right:10px;font-size:0}.preview__item-author-photo a{display:inline-block;margin-bottom:5px;margin-right:5px}.preview__item-author-photo.red-border{border-right:2px solid #ed1c24;padding-right:2px}.preview__item-author-about{flex:1;min-width:60%}.preview__item-author-about a{font-weight:bold}.preview__item-author-about span{display:block}.preview__item-text{font-size:14px;line-height:18px;margin-bottom:20px;color:#000;text-decoration:none}.preview__item-text-photo{margin-bottom:10px;position:relative}.preview__item-text-photo .wsico.m-video{background:rgba(0,0,0,0.8);box-sizing:border-box;border-radius:50%;height:36px;width:36px;text-align:center;color:#ea171e;position:absolute;bottom:10px;left:10px;line-height:36px;padding-left:4px}.preview__item-text-title{font-size:18px;line-height:21px;margin-bottom:10px}.preview__item-meta{margin-top:20px;display:flex;justify-content:space-between;align-items:center;font-size:10px;color:#959595}.preview__item-meta .wsico{color:#959595;margin-right:5px}.preview__item-meta-comments{margin-right:10px;text-decoration:none;display:inline-flex;align-items:center;color:#959595}.preview__item-meta-views{margin-right:auto;text-decoration:none;display:inline-flex;align-items:center;color:#959595}.preview__item-meta-views .wsico{font-size:14px}.preview__item-meta .red{color:#ed1c24}.preview__item-meta-datetime{color:#ed1c24}.preview__item-media{border-top:solid 1px #f2f2f2;border-bottom:solid 1px #f2f2f2;margin:20px 0;display:flex}.preview__item-media a{color:#777;text-decoration:none;padding:5px 10px;text-align:center}.preview__item-media span{display:block;font-size:10px}.preview__item-media .wsico{font-size:24px}.preview__item-media .text{color:#000}.preview__item-media .size{font-size:8px}.preview__item-tags{font-size:12px;margin-top:10px;color:#959595;margin-top:20px}.preview__item-tags a{color:inherit}.preview__list-more{text-align:center;margin:20px}.index_page{background-color:#f2f2f2}.amp-form-submit-success .question{display:none}.chartrow{margin:10px 0}.chartrow .fill{background-color:#000;height:8px}.chartrow .plain{background:#efefef;height:8px;margin:5px 0;width:50%}.chartrow .rel{margin-top:5px;display:flex}.chartrow .percent{font-weight:bold;margin-left:10px;font-size:12px}.chartrow.max .fill{background-color:#ea171e}.chartrow.max .percent{color:#ea171e}.pollform .question{margin-top:20px}.pollform .fieldrow{margin:10px 0}.pollform label{display:flex;align-items:center}.pollform label input{margin:3px 5px 0 0}.pollform .buttonrow{margin-top:20px}.pollform .buttonrow input{background-color:#ea171e;color:#fff;border:none;line-height:24px}.payform{border:1px solid #999;padding:1em}.payform h2{margin:0;font-size:21px}.payform label{display:block;font-size:16px;color:#999;font-size:14px}.payform input{font-size:16px;border:1px solid #999;display:block;color:#000;padding:4px 8px}.index_adv{margin:20px 0}

    </style>
</head>


<body>

    <header class="ampstart-headerbar">
        <a href="https://echo.msk.ru/">
            <amp-img src="https://echo.msk.ru/i/Echo_of_Moscow_Radio.svg" width="100" height="50" layout="fixed"></amp-img>
        </a>
        <div role="button" aria-label="open sidebar" on="tap:header-sidebar.toggle" tabindex="0" class="ampstart-navbar-trigger">☰</div>
    </header>

    <amp-sidebar id="header-sidebar" side="right" class="ampstart-sidebar" layout="nodisplay">
        <div class="ampstart-sidebar-header">
            <div role="button" aria-label="close sidebar" on="tap:header-sidebar.toggle" tabindex="0" class="ampstart-navbar-trigger">✕</div>
        </div>

        <nav class="ampstart-sidebar-nav ampstart-nav">
            <ul class="ampstart-label">
                <li class="ampstart-nav-item ampstart-nav-dropdown">
                    <amp-accordion layout="container" disable-session-states="" class="ampstart-dropdown">
                        <section>
                            <header>
                                <a class="ampstart-nav-link" href="/news/">Новости</a>
                            </header>
                            <ul class="ampstart-dropdown-items">
                                <li class="ampstart-dropdown-item"><a class="ampstart-nav-link" href="https://twitter.com/EchoMskNews">Твиттер новостей Эха</a></li>
                                <li class="ampstart-dropdown-item"><a class="ampstart-nav-link" href="/news/own/">Новости Эха</a></li>
                                <li class="ampstart-dropdown-item"><a class="ampstart-nav-link" href="/top/news.html">Топ-7 новостей</a></li>
                            </ul>
                        </section>
                    </amp-accordion>
                </li>

                <li class="ampstart-nav-item ampstart-nav-dropdown">
                    <amp-accordion layout="container" disable-session-states="" class="ampstart-dropdown">
                        <section>
                            <header>
                                <a class="ampstart-nav-link" href="/blog/">Блоги</a>
                            </header>
                            <ul class="ampstart-dropdown-items">
                                <li class="ampstart-dropdown-item"><a class="ampstart-nav-link" href="/top/blogs.html">Топ-7 блогов</a></li>
                                <li class="ampstart-dropdown-item"><a class="ampstart-nav-link" href="/blog/bloggers.html">Наши блогеры</a></li>
                            </ul>
                        </section>
                    </amp-accordion>
                </li>

                <li class="ampstart-nav-item">
                    <a class="ampstart-nav-link" href="/tags/2673/">Сетевизор</a>
                </li>

                <li class="ampstart-nav-item ampstart-nav-dropdown">
                    <amp-accordion layout="container" disable-session-states="" class="ampstart-dropdown">
                        <section>
                            <header>
                                <a class="ampstart-nav-link" href="/top/">Топы</a>
                            </header>
                            <ul class="ampstart-dropdown-items">
                                <li class="ampstart-dropdown-item"><a class="ampstart-nav-link" href="/top/programs.html">Топ-7 передач</a></li>
                                <li class="ampstart-dropdown-item"><a class="ampstart-nav-link" href="/top/guests.html">Топ-7 гостей</a></li>
                                <li class="ampstart-dropdown-item"><a class="ampstart-nav-link" href="/top/video.html">ТОП-7 видео</a></li>
                                <li class="ampstart-dropdown-item"><a class="ampstart-nav-link" href="/top/contributors.html">Топ-7 сотрудников</a></li>
                                <li class="ampstart-dropdown-item"><a class="ampstart-nav-link" href="/top/news.html">Топ-7 новостей</a></li>
                                <li class="ampstart-dropdown-item"><a class="ampstart-nav-link" href="/top/blogs.html">Топ-7 блогов</a></li>
                                <li class="ampstart-dropdown-item"><a class="ampstart-nav-link" href="/top/programs.html">Топ-7 интервью</a></li>
                                <li class="ampstart-dropdown-item"><a class="ampstart-nav-link" href="/top/polls.html">Топ-7 голосований</a></li>
                            </ul>
                        </section>
                    </amp-accordion>
                </li>

                <li class="ampstart-nav-item ampstart-nav-dropdown">
                    <amp-accordion layout="container" disable-session-states="" class="ampstart-dropdown">
                        <section>
                            <header>
                                <a class="ampstart-nav-link" href="/polls/">Опросы</a>
                            </header>
                            <ul class="ampstart-dropdown-items">
                                <li class="ampstart-dropdown-item"><a class="ampstart-nav-link" href="http://echo.msk.ru/top/polls.html">Топ-7 голосований</a></li>
                                <li class="ampstart-dropdown-item"><a class="ampstart-nav-link" href="http://www.echo.msk.ru/polls/">Все голосования</a></li>
                            </ul>
                        </section>
                    </amp-accordion>
                </li>

                <li class="ampstart-nav-item">
                    <a class="ampstart-nav-link" href="/ranks/">Рейтинги</a>
                </li>

                <li class="ampstart-nav-item">
                    <a class="ampstart-nav-link" href="/sound.html">Эфир</a>
                </li>

                <li class="ampstart-nav-item ampstart-nav-dropdown">
                    <amp-accordion layout="container" disable-session-states="" class="ampstart-dropdown">
                        <section>
                            <header>
                                <a class="ampstart-nav-link" href="https://www.youtube.com/channel/UCo4GExFphiUnNiMMExvFWdg/">YouTube</a>
                            </header>
                            <ul class="ampstart-dropdown-items">
                                <li class="ampstart-dropdown-item"><a class="ampstart-nav-link" href="/doc/2119778-echo.html">Сетка</a></li>
                            </ul>
                        </section>
                    </amp-accordion>
                </li>

                <li class="ampstart-nav-item ampstart-nav-dropdown">
                    <amp-accordion layout="container" disable-session-states="" class="ampstart-dropdown">
                        <section>
                            <header>
                                <a class="ampstart-nav-link" href="/interview/">Интервью</a>
                            </header>
                            <ul class="ampstart-dropdown-items">
                                <li class="ampstart-dropdown-item"><a class="ampstart-nav-link" href="/top/programs.html">Топ-7 интервью</a></li>
                            </ul>
                        </section>
                    </amp-accordion>
                </li>

                <li class="ampstart-nav-item">
                    <a class="ampstart-nav-link" href="/schedule/">Сетка</a>
                </li>

                <li class="ampstart-nav-item ampstart-nav-dropdown">
                    <amp-accordion layout="container" disable-session-states="" class="ampstart-dropdown">
                        <section>
                            <header>
                                <a class="ampstart-nav-link" href="/programs/">Передачи</a>
                            </header>
                            <ul class="ampstart-dropdown-items">
                                <li class="ampstart-dropdown-item"><a class="ampstart-nav-link" href="/top/programs.html">Топ-7 передач</a></li>
                            </ul>
                        </section>
                    </amp-accordion>
                </li>

                <li class="ampstart-nav-item ampstart-nav-dropdown">
                    <amp-accordion layout="container" disable-session-states="" class="ampstart-dropdown">
                        <section>
                            <header>
                                <a class="ampstart-nav-link" href="/guests/">Гости</a>
                            </header>
                            <ul class="ampstart-dropdown-items">
                                <li class="ampstart-dropdown-item"><a class="ampstart-nav-link" href="/guests/voices/">Вики-голоса</a></li>
                                <li class="ampstart-dropdown-item"><a class="ampstart-nav-link" href="/top/guests.html">Топ-7 гостей</a></li>
                                <li class="ampstart-dropdown-item"><a class="ampstart-nav-link" href="/contributors/">Сотрудники</a></li>
                                <li class="ampstart-dropdown-item"><a class="ampstart-nav-link" href="/top/contributors.html">Топ-7 сотрудников</a></li>                                
                            </ul>
                        </section>
                    </amp-accordion>
                </li>

                <li class="ampstart-nav-item ampstart-nav-dropdown">
                    <amp-accordion layout="container" disable-session-states="" class="ampstart-dropdown">
                        <section>
                            <header>
                                <a class="ampstart-nav-link" href="/specialprojects/">Спецпроекты</a>
                            </header>
                            <ul class="ampstart-dropdown-items">
                                <li class="ampstart-dropdown-item"><a class="ampstart-nav-link" href="/tags/3540/">"Эхо Москвы в СПб"</a></li>
                                <li class="ampstart-dropdown-item"><a class="ampstart-nav-link" href="/blog/echo_rating/1505384-echo/">"100 женщин"</a></li>
                                <li class="ampstart-dropdown-item"><a class="ampstart-nav-link" href="/blog/polittest/1413140-echo/">Политтест</a></li>
                            </ul>
                        </section>
                    </amp-accordion>
                </li>

                <li class="ampstart-nav-item ampstart-nav-dropdown">
                    <amp-accordion layout="container" disable-session-states="" class="ampstart-dropdown">
                        <section>
                            <header>
                                <a class="ampstart-nav-link" href="/about/adv/">Реклама</a>
                            </header>
                            <ul class="ampstart-dropdown-items">
                                <li class="ampstart-dropdown-item"><a class="ampstart-nav-link" href="/advecho.html">Реклама в эфире</a>
                                <li class="ampstart-dropdown-item"><a class="ampstart-nav-link" href="/advecho.html#advban">Реклама на сайте</a>
                            </ul>
                        </section>
                    </amp-accordion>
                </li>

                <li class="ampstart-nav-item ampstart-nav-dropdown">
                    <amp-accordion layout="container" disable-session-states="" class="ampstart-dropdown">
                        <section>
                            <header>
                                <a class="ampstart-nav-link" href="/about/">О нас</a>
                            </header>
                            <ul class="ampstart-dropdown-items">
                                <li class="ampstart-dropdown-item"><a class="ampstart-nav-link" href="http://echo.msk.ru/about/regions/index.html">Регионы</a></li>
                                <li class="ampstart-dropdown-item"><a class="ampstart-nav-link" href="http://echo.msk.ru/about/vacancy.html">Вакансии</a></li>
                            </ul>
                        </section>
                    </amp-accordion>
                </li>

                <li class="ampstart-nav-item">
                    <a class="ampstart-nav-link" href="http://www.forum-tvs.ru/">Форум</a>
                </li>
            </ul>
        </nav>
    </amp-sidebar>

    <main id="content" role="main">

        <article>
            <center>
		<amp-ad width="300" height="250" type="yandex" data-block-id="R-A-134625-70" data-html-access-allowed="true">
</amp-ad>

            </center>


<header>
  <div class="ampstart-subtitle">
    <a href="/blog/nplus1/">
      N + 1
    </a>
  </div>

  <time class="article-date">
    <span>11:33</span>,
    04 декабря 2019
  </time>

  <h1>Зрячая математика. Как смартфоны научились снимать не хуже зеркальных камер
</h1>
  <div class="program-header">
    <a href="/blog/nplus1/" class="program-guest__item">
      <span class="program-guest__img">
	  <amp-img width="120" height="120" layout="fixed"
	    src="https://cdn.echo.msk.ru/files/avatar2/2346820.jpg">
	    <noscript>
	      <img src="https://cdn.echo.msk.ru/files/avatar2/2346820.jpg"
	    width="105" height="120" alt="N + 1">
	    </noscript>
	  </amp-img>
      </span>
      <span class="program-guest__name">N + 1</span>
      <span class="program-guest__about">
	новости науки, технологий, устройств и вооружения
      </span>
    </a>
  </div>
</header>


   <p>Еще не так давно производители смартфонов стремились подчеркнуть, какой замечательной камерой снабжена та или иная модель. Пользователи хвастали количеством мегапикселей и полагали, что чем чувствительнее матрица, тем лучше она будет снимать. На самом деле развитие возможностей смартфонов в области фотографии пошло по другому пути. Не так важно, какая у вас стоит камера, куда важнее, какие алгоритмы ею управляют. Рассказываем о возможностях вычислительной фотографии, превращающей обычный смартфон в настоящую фотостудию.
                             </p>
                                                                                                    
                                                    <!-- -->
                                                        <!-- -->
                            
                                                                                             <p>Традиционно цифровой снимок, в том числе снятый на смартфон, представлял собой довольно простую операцию. Камера (или дотошный фотограф) выбирает параметры съемки, после чего матрица начинает записывать падающий на нее свет. Получившееся «сырое» изображение можно было обработать, добавив ему резкости или немного подправив цвета фильтрами, а можно было выложить в Instagram в исходном виде. </p>

 <p>Однако сегодня в мобильной фотографии применять термин «в исходном виде» фактически бессмысленно. Дело в том, что кадр, доступный в галерее сразу после съемки, — это на самом деле продукт многостадийной обработки алгоритмами, и именно от них, а не от матрицы или объектива, в первую очередь зависит качество получившегося снимка. </p>

 <p> </p>
<div class="incut incut-gallery " data-id="22872">
    <div class="swiper-container">
        <div class="swiper-wrapper">
                        <div class="swiper-slide">
                <figure>
                    <div class="img">
                        <amp-img src="https://nplus1.ru/images/2019/11/28/eee5a7809392bdff0cf3560ed74cc6a5.jpg" layout="responsive" width="1" height="1"><noscript><img src="https://nplus1.ru/images/2019/11/28/eee5a7809392bdff0cf3560ed74cc6a5.jpg" width="1" height="1"></noscript></amp-img>
                    </div>
                    <figcaption style="padding-left: 0px;">
                    <p class="title"> </p>

                                            	    <p class="credits">Google </p>
                    	
                    </figcaption>
                </figure>
               

    </div>
</div>Эту концепцию принято называть вычислительной фотографией. Она подразумевает, что алгоритмы способны заменить собой такие аппаратные средства, как как длиннофокусный объектив или матрица с широким динамическим диапазоном, а то и значительно улучшить их характеристики. <p> </p>

 <p>Многие методы, применяемые в вычислительной фотографии, или лежащие в их основе принципы разработаны уже давно, но именно в последние годы они, наконец, стали доступны пользователям самых обычных смартфонов. Кроме того, как и во многих других сферах, резкий прогресс в качестве мобильной фотографии произошел благодаря развитию алгоритмов машинного обучения и росту мощности мобильных процессоров. </p>

 <p>В сущности, простое программное повышение резкости снимка, которым многие производители смартфонов увлекались (порой чересчур) много лет назад, формально относится к вычислительной фотографии, потому с его помощью разработчики компенсировали низкое качество объектива или отсутствие стабилизации. Но, конечно, странно было бы называть столь банальную функцию стартовой точкой расцвета вычислительной фотографии. </p>


 <br><h3>Уподобляясь глазу</h3>

 <p>Настоящий переломный момент должен быть связан с внедрением технологии, способной дать технике качественно новые возможности, намного превосходящие элементарное улучшение объектива или других частей камеры. Такой момент наступил, когда в смартфонах начали применять алгоритмы HDR (High Dynamic Range — «расширенный динамический диапазон»). </p>

 <p>Динамический диапазон означает способность матрицы отображать в одном кадре как очень светлые, так и очень темные участки. Например, когда мы выходим днем на улицу и распахиваем подъездную дверь, мы видим как темные стены подъезда, так и гораздо более ярко освещенную улицу. Однако для фотоматриц, тем более мобильных, с такой же ловкостью совместить яркие и темные участки на одном снимке — все еще достаточно сложная задача. </p>

 <p>Для таких ситуаций давно придумано решение — брекетинг. Суть его заключается в том, что фотоаппарат делает не один, а два или больше кадров с разной экспозицией. Часто применяется схема с тремя кадрами: экспозиция первого кадра оптимальна для «усредненного» по яркости снимка, второй кадр сосредотачивается на его темных областях, а третий — на светлых. </p>

 <p>Кадры делаются быстро, поэтому их нетрудно сразу же наложить друг на друга, соединив в одну качественную фотографию. На ней, конечно, останутся более темные и более светлые области, но не будет пересветов и черных пятен. Получившийся снимок сохранит детали на всех частях кадра и будет показывать мир примерно таким же, каким его видят наши глаза. </p>

 <p>В современных смартфонах простой вариант HDR появился давно, но разработчики, естественно, не остановились на достигнутом. </p>

 <p>В 2013 году Google представила смартфон Nexus 5 с алгоритмом HDR+. Из названия ясно, что это «прокачанный» HDR. Под его руководством камера делает большую серию снимков с одинаковыми параметрами и одинаковой для всех короткой выдержкой, так чтобы все кадры получились недосвеченными. </p>

 <p>Затем алгоритм выбирает самый четкий снимок и принимает его за основу. С ним совмещаются все остальные с учетом их яркости так, чтобы в результате получился четкий снимок, во всех областях которого можно разглядеть детали. </p>



 <br><h3>За счет дрожания рук</h3>

 <p>Дальнейшее развитие HDR в основном пошло по этому пути и «перекочевало» в ночной режим, заменив длинную выдержку. Во-первых, совмещая несколько кадров, алгоритмы достаточно эффективно убирают с них шум, неизбежно возникающий при съемке темных сцен. Во-вторых, чтобы снять множество кадров с небольшими выдержками, не обязательно ставить смартфон на штатив. Можно держать его в руках, пусть даже на создание снимка требуется пара секунд, за которые раньше снимок обязательно смазался бы. </p>

 <p>Забавно, но оказалось, что небольшое дрожание рук во время съемки может быть даже полезно. Разработчики Google <a href="https://nplus1.ru/news/2019/05/27/pixel" target="_blank">научились</a> использовать этот эффект во благо для повышения точности передачи цветов и детализации. </p>

 <p>Работу этого алгоритма можно описать довольно коротко, но для начала необходимо вспомнить устройство большинства фотоматриц. Они представляют собой огромную сетку из фотодиодов, каждый из которых выполняет простую работу — регистрирует падающий на него свет. За цвет в матрицах отвечают накрывающие фотодиоды фильтры определенных цветов — красного, зеленого и синего. </p>

 <p>Обычно в матрицах цветофильтры чередуются подобно клеткам шахматной доски. Цвет каждого пикселя рассчитывается, исходя из значений нескольких соседних фотодиодов. Это неизбежно приводит к потере точности цветопередачи. </p>

 <p>В некоторых режимах камера Google Pixel не «прикидывает» значения цветов по показаниям соседних пикселей, а просто совмещает несколько снимков, заполняя пустые значения цветов на фотодиодах. Это работает именно потому, что при съемке с рук фотоматрица все время немного «гуляет» в разные стороны. </p>

 <p>В 2018 году Google добавила во все свои смартфоны функцию Night Sight. По сути, это тот же HDR+, но использующий еще несколько программных ухищрений для улучшения снимков. Например, в ночном режиме смартфон запускает нейросетевые алгоритмы, чтобы определить, что находится перед камерой, и подстроить баланс белого. Кроме того, смартфон сам выбирает нужную выдержку в зависимости от сцены, интенсивности движений рук и других параметров. </p>


 <br><h3>Звезды на смартфоне</h3>

 <p>Вслед за Google похожие режимы стали внедрять и другие производители смартфонов, например Huawei и Apple. Поскольку в нашей редакции недавно появился iPhone 11 Pro с новыми алгоритмами камеры, мы решили продемонстрировать его работу наглядно, захватив в поездку под Переславль-Залесский не большую камеру со съемными объективами, а смартфон. </p>

 <p>Место, в котором мы делали эти снимки, находится далеко от крупных городов, поэтому нам не мешала засветка. А еще на нашей стороне был сухой морозный воздух. </p>

 <p>Кстати, снимали мы не с рук, а со штатива. Делов в том, что последний iPhone, ориентируясь на показания акселерометра и гироскопа, умеет определять, что его положение неподвижно, и увеличивать максимальную длительность выдержки. В нашем случае она постоянно «скакала» между 10 и 28 секундами. Мы несколько раз успели «поймать» снимок с 28-секундной выдержкой и получили вот такие кадры ночного неба: </p>

 <p>
                        <amp-img src="https://nplus1.ru/images/2019/11/28/1e957efab43b4bf8cc82d7f8cf494f48.jpg" layout="responsive" width="1" height="1"><noscript><img src="https://nplus1.ru/images/2019/11/28/1e957efab43b4bf8cc82d7f8cf494f48.jpg" width="1" height="1"></noscript></amp-img>
                  
                    <figcaption>
                    <p class="title">Снимок ночного неба, сделанный на iPhone 11 Pro. Выдержка 28 секунд </p>

                        
                    </figcaption>
                
               

 </p>
<p>Съемка со штатива не так показательна, как съемка с рук, но даже на штативе смартфон двухлетней давности мог выдать гораздо худшую картинку, потому что алгоритмы современных ночных режимов значительно «вытягивают» темные места и подавляют шум, совмещая несколько кадров. </p>

 <p>В смартфонах Google Pixel последних двух лет с последней версией приложения появился отдельный режим для съемки звезд, работающий немного иначе. В своем блоге разработчики Google <a href="https://ai.googleblog.com/2019/11/astrophotography-with-night-sight-on.html" target="_blank" rel="nofollow">раскрыли</a> технические новшества этого режима. </p>

 <p>Pixel может тратить на создание одного снимка до четырех минут, снимая до 15 снимков по 16 секунд каждый. Кроме того, камера размечает объекты в кадре и, например, применяет отдельный алгоритм шумоподавления для неба. </p>

 <p>Судя по <a href="https://drive.google.com/drive/folders/1-xZQ1oPR11x_9XYY95RybRVvYvyzhnOj" target="_blank" rel="nofollow">снимкам</a> пользователей, разработчикам удалось сильно повысить качество шумоподавления без потери деталей, хотя, к сожалению, компания не раскрывает, как им это удалось. </p>

 <p>Все тем же программным образом разработчики устранили и такие типичные недостатки цифровых матриц, как темновой ток и «горячие пиксели», удаляя бракованные пиксели со снимка. </p>


 <br><h3>Не теряя мгновений</h3>

 <p> </p>
<div class="incut incut-gallery " data-id="22872">
    <div class="swiper-container">
        <div class="swiper-wrapper">
                        <div class="swiper-slide">
                <figure>
                    <div class="img">
                        <amp-img src="https://nplus1.ru/images/2019/11/28/fc2c0d174d6d97ef4e17036e3306413b.jpg" layout="responsive" width="1" height="1"><noscript><img src="https://nplus1.ru/images/2019/11/28/fc2c0d174d6d97ef4e17036e3306413b.jpg" width="1" height="1"></noscript></amp-img>
                    </div>
                    <figcaption style="padding-left: 0px;">
                    <p class="title">Фильтрация горячих пикселей и темновых токов на матрице Google Pixel </p>

                                            	    <p class="credits">Google </p>
                    	
                    </figcaption>
                </figure>
              

</div>Ночной режим — очень впечатляющая функция, но в реальной жизни для обычного пользователя от нее мало пользы. Поэтому усилия разработчиков сконцентрированы прежде всего на мелочах, улучшающих обычные «дневные» снимки. <p> </p>

 <p>Во многих флагманских смартфонах программно реализована околонулевая задержка затвора. Это значит, что после нажатия на кнопку камеры смартфон не «задумывается» на какое-то время, а запечатлевает именно нужный момент. </p>

 <p>Дело в том, что, когда пользователь открывает камеру на Pixel, современных iPhone и некоторых других смартфонах, камера уже начинает делать снимки и записывать их в кольцевой буфер. Поскольку буфер не бесконечен, его приходится постоянно перезаписывать и, конечно же, камера не сможет взять из него снимок, сделанный в фоне минуту назад. Но, к примеру, то, что произошло полсекунды назад, она вспомнит и выдаст пользователю кадр, снятый в момент нажатия на кнопку, а не спустя некоторое время. </p>

 <p>Еще одна область, в которой смартфоны отчасти заменили камеры с большими объективами, — это портретная съемка. В современных смартфонах камера может имитировать характерное для профессионального фотооборудования размытие фона за человеком. Для этого смартфоны, как правило, используют нейросети, способные распознать человека и отделить его от фона, после чего еще один алгоритм размывает фон, не трогая человека. </p>

 <p>Поначалу такие алгоритмы допускали неровную обрезку, особенно в области волос. Но затем на помощь пришли аппаратные средства — не объективы или матрицы, а мощные процессоры, позволяющие делать все вычисления в реальном времени или хотя бы в течение нескольких секунд, потому что многие пользователи вряд ли готовы ждать дольше. </p>

 <br> <p><i>Григорий Копиев</i>
 </p>
<p>
<a href="https://nplus1.ru/material/2019/12/02/computational-photography">Оригинал</a>
 </p>
<p>
Читайте также: 
 </p>
<p>
<a href="https://nplus1.ru/news/2019/12/02/habsburg-jaw">«Габсбургскую челюсть» окончательно связали c близкородственными браками</a>
 </p>
<p>
<a href="https://nplus1.ru/news/2019/12/03/breast-eye-tracking">Движения глаз выдали самые значимые части женской груди</a>
 </p>
<p>
<a href="https://nplus1.ru/news/2019/12/02/hg-puma">Прибрежные пумы оказались втрое ртутнее материковых</a>
</p>
</div>
</div>
</div>
</div>
</div>

            <center>
		<amp-ad width="300" height="250" type="yandex" data-block-id="R-A-134625-71" data-html-access-allowed="true">
</amp-ad>
<br>
<br>
<amp-ad width="300" height="500" type="lentainform" data-publisher="echo.msk.ru" data-widget="689825" data-container="M275174ScriptRootC689825"> </amp-ad>

            </center>
        </article>

        <amp-addthis
            width="320"
            height="92"
            data-pub-id="ra-59c94fe9d388c849"
            data-widget-id="zq88">
        </amp-addthis>

    </main>

    <amp-analytics id="analytics_liveinternet"><script type="application/json">{ "requests": {
   "pageview": "https://counter.yadro.ru/hit?u${ampdocUrl};r${documentReferrer};s${screenWidth}*${screenHeight}*32;h${title};${random}"
 },  "triggers": {  "track pageview": {   "on": "visible",   "request": "pageview"  } }}</script></amp-analytics> 

<amp-analytics type="metrika"><script type="application/json">
{"vars": { "counterId": "5564395"},
"triggers": {"notBounce": {"on": "timer","timerSpec": { "immediate": false,"interval": 15,"maxTimerLength": 16},
"request": "notBounce"}}} </script> </amp-analytics>

<amp-analytics type="topmailru" id="topmailru"><script type="application/json">
{"vars": {"id": "51076"}}</script></amp-analytics>

<amp-analytics type="top100" id="top100" config="https://kraken.rambler.ru/amp/config.json">
<script type="application/json">
{"vars": {"pid": "30780"}}</script></amp-analytics>

</body>

</html>

